var Od=Object.defineProperty,Ad=Object.defineProperties;var Md=Object.getOwnPropertyDescriptors;var zl=Object.getOwnPropertySymbols;var Ld=Object.prototype.hasOwnProperty,Pd=Object.prototype.propertyIsEnumerable;var Ul=(i,s,o)=>s in i?Od(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o,oe=(i,s)=>{for(var o in s||(s={}))Ld.call(s,o)&&Ul(i,o,s[o]);if(zl)for(var o of zl(s))Pd.call(s,o)&&Ul(i,o,s[o]);return i},Qe=(i,s)=>Ad(i,Md(s));import{V as Do,_ as ko,u as Eo,I as $o,a as Oo,c as ta,b as Mu,d as Ao,n as er,B as Nd,e as Lu,P as Id,C as Pu,f as Nu,S as Mo,O as Lo,k as Iu,l as Fd,p as Rd,g as jd,h as Fu,i as Bd,R as Wd,j as Hd,m as fn,o as zd,q as Ud,D as Gd}from"./index.3eea9dee.js";import Vd from"https://tdesign.gtimg.com/js/prettier%402.8.1-standalone.mjs";import qd from"https://tdesign.gtimg.com/js/prettier%402.8.1-parser-babel.mjs";var Kd=["size"];function Gl(i,s){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);s&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),o.push.apply(o,u)}return o}function Vl(i){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?Gl(Object(o),!0).forEach(function(u){Oo(i,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):Gl(Object(o)).forEach(function(u){Object.defineProperty(i,u,Object.getOwnPropertyDescriptor(o,u))})}return i}var Jd={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.5 8.5h-3v-1h3v-3h1v3h3v1h-3v3h-1v-3z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zm0-1A6 6 0 118 2a6 6 0 010 12z",fillOpacity:.9}}]},Yd=Do.extend({name:"AddCircleIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(s,o){var u=o.props,d=o.data,g=u.size,y=ko(u,Kd),m=Eo(g),T=m.className,w=m.style,S=Vl(Vl({},y||{}),{},{id:"add-circle",icon:Jd,staticClass:T,style:w});return d.props=S,s($o,d)}}),Xd=["size"];function ql(i,s){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);s&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),o.push.apply(o,u)}return o}function Kl(i){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?ql(Object(o),!0).forEach(function(u){Oo(i,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):ql(Object(o)).forEach(function(u){Object.defineProperty(i,u,Object.getOwnPropertyDescriptor(o,u))})}return i}var Zd={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10.88 1.74l3.25 3.24.7-.7-3.24-3.25-.7.7zM2.35 13.86l3.62-.72 7.3-7.3-3.25-3.24-7.3 7.3L2 13.5a.3.3 0 00.35.35zm7.67-9.85l1.83 1.83-6.38 6.38-2.28.46.45-2.29 6.38-6.38z",fillOpacity:.9}}]},Qd=Do.extend({name:"EditIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(s,o){var u=o.props,d=o.data,g=u.size,y=ko(u,Xd),m=Eo(g),T=m.className,w=m.style,S=Kl(Kl({},y||{}),{},{id:"edit",icon:Zd,staticClass:T,style:w});return d.props=S,s($o,d)}}),ep=["size"];function Jl(i,s){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);s&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),o.push.apply(o,u)}return o}function Yl(i){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?Jl(Object(o),!0).forEach(function(u){Oo(i,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):Jl(Object(o)).forEach(function(u){Object.defineProperty(i,u,Object.getOwnPropertyDescriptor(o,u))})}return i}var tp={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4.5 8.5h7v-1h-7v1z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 111 8a7 7 0 0114 0zm-1 0A6 6 0 102 8a6 6 0 0012 0z",fillOpacity:.9}}]},rp=Do.extend({name:"MinusCircleIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(s,o){var u=o.props,d=o.data,g=u.size,y=ko(u,ep),m=Eo(g),T=m.className,w=m.style,S=Yl(Yl({},y||{}),{},{id:"minus-circle",icon:tp,staticClass:T,style:w});return d.props=S,s($o,d)}}),Ru={exports:{}},Po={exports:{}};(function(i,s){(function(o,u){i.exports=u()})(ta,function(){var o=navigator.userAgent,u=navigator.platform,d=/gecko\/\d/i.test(o),g=/MSIE \d/.test(o),y=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(o),m=/Edge\/(\d+)/.exec(o),T=g||y||m,w=T&&(g?document.documentMode||6:+(m||y)[1]),S=!m&&/WebKit\//.test(o),A=S&&/Qt\/\d+\.\d+/.test(o),M=!m&&/Chrome\//.test(o),I=/Opera\//.test(o),z=/Apple Computer/.test(navigator.vendor),V=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(o),J=/PhantomJS/.test(o),G=z&&(/Mobile\/\w+/.test(o)||navigator.maxTouchPoints>2),k=/Android/.test(o),$=G||k||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(o),L=G||/Mac/.test(u),B=/\bCrOS\b/.test(o),W=/win/i.test(u),Q=I&&o.match(/Version\/(\d*\.\d*)/);Q&&(Q=Number(Q[1])),Q&&Q>=15&&(I=!1,S=!0);var fe=L&&(A||I&&(Q==null||Q<12.11)),ee=d||T&&w>=9;function he(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var Se=function(e,t){var n=e.className,r=he(t).exec(n);if(r){var a=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(a?r[1]+a:"")}};function Me(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function N(e,t){return Me(e).appendChild(t)}function R(e,t,n,r){var a=document.createElement(e);if(n&&(a.className=n),r&&(a.style.cssText=r),typeof t=="string")a.appendChild(document.createTextNode(t));else if(t)for(var l=0;l<t.length;++l)a.appendChild(t[l]);return a}function E(e,t,n,r){var a=R(e,t,n,r);return a.setAttribute("role","presentation"),a}var yt;document.createRange?yt=function(e,t,n,r){var a=document.createRange();return a.setEnd(r||e,n),a.setStart(e,t),a}:yt=function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch{return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};function Ue(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function me(){var e;try{e=document.activeElement}catch{e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function Ee(e,t){var n=e.className;he(t).test(n)||(e.className+=(n?" ":"")+t)}function et(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!he(n[r]).test(t)&&(t+=" "+n[r]);return t}var tt=function(e){e.select()};G?tt=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:T&&(tt=function(e){try{e.select()}catch{}});function qe(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Ke(e,t,n){t||(t={});for(var r in e)e.hasOwnProperty(r)&&(n!==!1||!t.hasOwnProperty(r))&&(t[r]=e[r]);return t}function we(e,t,n,r,a){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var l=r||0,f=a||0;;){var c=e.indexOf("	",l);if(c<0||c>=t)return f+(t-l);f+=c-l,f+=n-f%n,l=c+1}}var _e=function(){this.id=null,this.f=null,this.time=0,this.handler=qe(this.onTimeout,this)};_e.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},_e.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};function re(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}var se=50,ce={toString:function(){return"CodeMirror.Pass"}},ye={scroll:!1},Gt={origin:"*mouse"},ge={origin:"+move"};function Re(e,t,n){for(var r=0,a=0;;){var l=e.indexOf("	",r);l==-1&&(l=e.length);var f=l-r;if(l==e.length||a+f>=t)return r+Math.min(f,t-a);if(a+=l-r,a+=n-a%n,r=l+1,a>=t)return r}}var Dt=[""];function Nr(e){for(;Dt.length<=e;)Dt.push(pe(Dt)+" ");return Dt[e]}function pe(e){return e[e.length-1]}function kt(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function tr(e,t,n){for(var r=0,a=n(t);r<e.length&&n(e[r])<=a;)r++;e.splice(r,0,t)}function gr(){}function ui(e,t){var n;return Object.create?n=Object.create(e):(gr.prototype=e,n=new gr),t&&Ke(t,n),n}var fi=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Ir(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||fi.test(e))}function Fr(e,t){return t?t.source.indexOf("\\w")>-1&&Ir(e)?!0:t.test(e):Ir(e)}function ci(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var la=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Sn(e){return e.charCodeAt(0)>=768&&la.test(e)}function di(e,t,n){for(;(n<0?t>0:t<e.length)&&Sn(e.charAt(t));)t+=n;return t}function Nt(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var a=(t+n)/2,l=r<0?Math.ceil(a):Math.floor(a);if(l==t)return e(l)?t:n;e(l)?n=l:t=l+r}}function ua(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var a=!1,l=0;l<e.length;++l){var f=e[l];(f.from<n&&f.to>t||t==n&&f.to==t)&&(r(Math.max(f.from,t),Math.min(f.to,n),f.level==1?"rtl":"ltr",l),a=!0)}a||r(t,n,"ltr")}var bt=null;function $e(e,t,n){var r;bt=null;for(var a=0;a<e.length;++a){var l=e[a];if(l.from<t&&l.to>t)return a;l.to==t&&(l.from!=l.to&&n=="before"?r=a:bt=a),l.from==t&&(l.from!=l.to&&n!="before"?r=a:bt=a)}return r!=null?r:bt}var mr=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(h){return h<=247?e.charAt(h):1424<=h&&h<=1524?"R":1536<=h&&h<=1785?t.charAt(h-1536):1774<=h&&h<=2220?"r":8192<=h&&h<=8203?"w":h==8204?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,l=/[LRr]/,f=/[Lb1n]/,c=/[1n]/;function p(h,b,C){this.level=h,this.from=b,this.to=C}return function(h,b){var C=b=="ltr"?"L":"R";if(h.length==0||b=="ltr"&&!r.test(h))return!1;for(var D=h.length,_=[],O=0;O<D;++O)_.push(n(h.charCodeAt(O)));for(var F=0,U=C;F<D;++F){var q=_[F];q=="m"?_[F]=U:U=q}for(var Y=0,K=C;Y<D;++Y){var Z=_[Y];Z=="1"&&K=="r"?_[Y]="n":l.test(Z)&&(K=Z,Z=="r"&&(_[Y]="R"))}for(var ie=1,ne=_[0];ie<D-1;++ie){var de=_[ie];de=="+"&&ne=="1"&&_[ie+1]=="1"?_[ie]="1":de==","&&ne==_[ie+1]&&(ne=="1"||ne=="n")&&(_[ie]=ne),ne=de}for(var Te=0;Te<D;++Te){var He=_[Te];if(He==",")_[Te]="N";else if(He=="%"){var ke=void 0;for(ke=Te+1;ke<D&&_[ke]=="%";++ke);for(var vt=Te&&_[Te-1]=="!"||ke<D&&_[ke]=="1"?"1":"N",ut=Te;ut<ke;++ut)_[ut]=vt;Te=ke-1}}for(var Ne=0,ft=C;Ne<D;++Ne){var Ve=_[Ne];ft=="L"&&Ve=="1"?_[Ne]="L":l.test(Ve)&&(ft=Ve)}for(var Fe=0;Fe<D;++Fe)if(a.test(_[Fe])){var Ie=void 0;for(Ie=Fe+1;Ie<D&&a.test(_[Ie]);++Ie);for(var Ae=(Fe?_[Fe-1]:C)=="L",ct=(Ie<D?_[Ie]:C)=="L",ln=Ae==ct?Ae?"L":"R":C,dr=Fe;dr<Ie;++dr)_[dr]=ln;Fe=Ie-1}for(var Ze=[],zt,ze=0;ze<D;)if(f.test(_[ze])){var eo=ze;for(++ze;ze<D&&f.test(_[ze]);++ze);Ze.push(new p(0,eo,ze))}else{var Qt=ze,Er=Ze.length,$r=b=="rtl"?1:0;for(++ze;ze<D&&_[ze]!="L";++ze);for(var nt=Qt;nt<ze;)if(c.test(_[nt])){Qt<nt&&(Ze.splice(Er,0,new p(1,Qt,nt)),Er+=$r);var un=nt;for(++nt;nt<ze&&c.test(_[nt]);++nt);Ze.splice(Er,0,new p(2,un,nt)),Er+=$r,Qt=nt}else++nt;Qt<ze&&Ze.splice(Er,0,new p(1,Qt,ze))}return b=="ltr"&&(Ze[0].level==1&&(zt=h.match(/^\s+/))&&(Ze[0].from=zt[0].length,Ze.unshift(new p(0,0,zt[0].length))),pe(Ze).level==1&&(zt=h.match(/\s+$/))&&(pe(Ze).to-=zt[0].length,Ze.push(new p(0,D-zt[0].length,D)))),b=="rtl"?Ze.reverse():Ze}}();function dt(e,t){var n=e.order;return n==null&&(n=e.order=mr(e.text,t)),n}var Vt=[],ae=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||Vt).concat(n)}};function Rr(e,t){return e._handlers&&e._handlers[t]||Vt}function at(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,a=r&&r[t];if(a){var l=re(a,n);l>-1&&(r[t]=a.slice(0,l).concat(a.slice(l+1)))}}}function le(e,t){var n=Rr(e,t);if(!!n.length)for(var r=Array.prototype.slice.call(arguments,2),a=0;a<n.length;++a)n[a].apply(null,r)}function Pe(e,t,n){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),le(e,n||t.type,e,t),Ct(t)||t.codemirrorIgnore}function jr(e){var t=e._handlers&&e._handlers.cursorActivity;if(!!t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)re(n,t[r])==-1&&n.push(t[r])}function Ge(e,t){return Rr(e,t).length>0}function It(e){e.prototype.on=function(t,n){ae(this,t,n)},e.prototype.off=function(t,n){at(this,t,n)}}function Je(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Br(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ct(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function yr(e){Je(e),Br(e)}function rr(e){return e.target||e.srcElement}function pi(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),L&&e.ctrlKey&&t==1&&(t=3),t}var Tn=function(){if(T&&w<9)return!1;var e=R("div");return"draggable"in e||"dragDrop"in e}(),ot;function hi(e){if(ot==null){var t=R("span","\u200B");N(e,R("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(ot=t.offsetWidth<=1&&t.offsetHeight>2&&!(T&&w<8))}var n=ot?R("span","\u200B"):R("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}var wn;function Ft(e){if(wn!=null)return wn;var t=N(e,document.createTextNode("A\u062EA")),n=yt(t,0,1).getBoundingClientRect(),r=yt(t,1,2).getBoundingClientRect();return Me(e),!n||n.left==n.right?!1:wn=r.right-n.right<3}var _n=`

b`.split(/\n/).length!=3?function(e){for(var t=0,n=[],r=e.length;t<=r;){var a=e.indexOf(`
`,t);a==-1&&(a=e.length);var l=e.slice(t,e.charAt(a-1)=="\r"?a-1:a),f=l.indexOf("\r");f!=-1?(n.push(l.slice(0,f)),t+=f+1):(n.push(l),t=a+1)}return n}:function(e){return e.split(/\r\n?|\n/)},vi=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},gi=function(){var e=R("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),Dn=null;function nr(e){if(Dn!=null)return Dn;var t=N(e,R("span","x")),n=t.getBoundingClientRect(),r=yt(t,0,1).getBoundingClientRect();return Dn=Math.abs(n.left-r.left)>1}var Et={},xt={};function mi(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Et[e]=t}function qt(e,t){xt[e]=t}function Wr(e){if(typeof e=="string"&&xt.hasOwnProperty(e))e=xt[e];else if(e&&typeof e.name=="string"&&xt.hasOwnProperty(e.name)){var t=xt[e.name];typeof t=="string"&&(t={name:t}),e=ui(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Wr("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Wr("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function Hr(e,t){t=Wr(t);var n=Et[t.name];if(!n)return Hr(e,"text/plain");var r=n(e,t);if($t.hasOwnProperty(t.name)){var a=$t[t.name];for(var l in a)!a.hasOwnProperty(l)||(r.hasOwnProperty(l)&&(r["_"+l]=r[l]),r[l]=a[l])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var f in t.modeProps)r[f]=t.modeProps[f];return r}var $t={};function Ot(e,t){var n=$t.hasOwnProperty(e)?$t[e]:$t[e]={};Ke(t,n)}function St(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var a=t[r];a instanceof Array&&(a=a.concat([])),n[r]=a}return n}function kn(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),!(!n||n.mode==e));)t=n.state,e=n.mode;return n||{mode:e,state:t}}function En(e,t,n){return e.startState?e.startState(t,n):!0}var Oe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Oe.prototype.eol=function(){return this.pos>=this.string.length},Oe.prototype.sol=function(){return this.pos==this.lineStart},Oe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Oe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Oe.prototype.eat=function(e){var t=this.string.charAt(this.pos),n;if(typeof e=="string"?n=t==e:n=t&&(e.test?e.test(t):e(t)),n)return++this.pos,t},Oe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Oe.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Oe.prototype.skipToEnd=function(){this.pos=this.string.length},Oe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Oe.prototype.backUp=function(e){this.pos-=e},Oe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=we(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?we(this.string,this.lineStart,this.tabSize):0)},Oe.prototype.indentation=function(){return we(this.string,null,this.tabSize)-(this.lineStart?we(this.string,this.lineStart,this.tabSize):0)},Oe.prototype.match=function(e,t,n){if(typeof e=="string"){var r=function(f){return n?f.toLowerCase():f},a=this.string.substr(this.pos,e.length);if(r(a)==r(e))return t!==!1&&(this.pos+=e.length),!0}else{var l=this.string.slice(this.pos).match(e);return l&&l.index>0?null:(l&&t!==!1&&(this.pos+=l[0].length),l)}},Oe.prototype.current=function(){return this.string.slice(this.start,this.pos)},Oe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Oe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Oe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function te(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var a=n.children[r],l=a.chunkSize();if(t<l){n=a;break}t-=l}return n.lines[t]}function Rt(e,t,n){var r=[],a=t.line;return e.iter(t.line,n.line+1,function(l){var f=l.text;a==n.line&&(f=f.slice(0,n.ch)),a==t.line&&(f=f.slice(t.ch)),r.push(f),++a}),r}function $n(e,t,n){var r=[];return e.iter(t,n,function(a){r.push(a.text)}),r}function pt(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function be(e){if(e.parent==null)return null;for(var t=e.parent,n=re(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var a=0;r.children[a]!=t;++a)n+=r.children[a].chunkSize();return n+t.first}function jt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var a=e.children[r],l=a.height;if(t<l){e=a;continue e}t-=l,n+=a.chunkSize()}return n}while(!e.lines);for(var f=0;f<e.lines.length;++f){var c=e.lines[f],p=c.height;if(t<p)break;t-=p}return n+f}function br(e,t){return t>=e.first&&t<e.first+e.size}function On(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function j(e,t,n){if(n===void 0&&(n=null),!(this instanceof j))return new j(e,t,n);this.line=e,this.ch=t,this.sticky=n}function v(e,t){return e.line-t.line||e.ch-t.ch}function x(e,t){return e.sticky==t.sticky&&v(e,t)==0}function P(e){return j(e.line,e.ch)}function H(e,t){return v(e,t)<0?t:e}function ue(e,t){return v(e,t)<0?e:t}function ve(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function X(e,t){if(t.line<e.first)return j(e.first,0);var n=e.first+e.size-1;return t.line>n?j(n,te(e,n).text.length):Ye(t,te(e,t.line).text.length)}function Ye(e,t){var n=e.ch;return n==null||n>t?j(e.line,t):n<0?j(e.line,0):e}function Tt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=X(e,t[r]);return n}var zr=function(e,t){this.state=e,this.lookAhead=t},Bt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};Bt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Bt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Bt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Bt.fromSaved=function(e,t,n){return t instanceof zr?new Bt(e,St(e.mode,t.state),n,t.lookAhead):new Bt(e,St(e.mode,t),n)},Bt.prototype.save=function(e){var t=e!==!1?St(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new zr(t,this.maxLookAhead):t};function Go(e,t,n,r){var a=[e.state.modeGen],l={};Xo(e,t.text,e.doc.mode,n,function(h,b){return a.push(h,b)},l,r);for(var f=n.state,c=function(h){n.baseTokens=a;var b=e.state.overlays[h],C=1,D=0;n.state=!0,Xo(e,t.text,b.mode,n,function(_,O){for(var F=C;D<_;){var U=a[C];U>_&&a.splice(C,1,_,a[C+1],U),C+=2,D=Math.min(_,U)}if(!!O)if(b.opaque)a.splice(F,C-F,_,"overlay "+O),C=F+2;else for(;F<C;F+=2){var q=a[F+1];a[F+1]=(q?q+" ":"")+"overlay "+O}},l),n.state=f,n.baseTokens=null,n.baseTokenPos=1},p=0;p<e.state.overlays.length;++p)c(p);return{styles:a,classes:l.bgClass||l.textClass?l:null}}function Vo(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=An(e,be(t)),a=t.text.length>e.options.maxHighlightLength&&St(e.doc.mode,r.state),l=Go(e,t,r);a&&(r.state=a),t.stateAfter=r.save(!a),t.styles=l.styles,l.classes?t.styleClasses=l.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function An(e,t,n){var r=e.doc,a=e.display;if(!r.mode.startState)return new Bt(r,!0,t);var l=Mf(e,t,n),f=l>r.first&&te(r,l-1).stateAfter,c=f?Bt.fromSaved(r,f,l):new Bt(r,En(r.mode),l);return r.iter(l,t,function(p){fa(e,p.text,c);var h=c.line;p.stateAfter=h==t-1||h%5==0||h>=a.viewFrom&&h<a.viewTo?c.save():null,c.nextLine()}),n&&(r.modeFrontier=c.line),c}function fa(e,t,n,r){var a=e.doc.mode,l=new Oe(t,e.options.tabSize,n);for(l.start=l.pos=r||0,t==""&&qo(a,n.state);!l.eol();)ca(a,l,n.state),l.start=l.pos}function qo(e,t){if(e.blankLine)return e.blankLine(t);if(!!e.innerMode){var n=kn(e,t);if(n.mode.blankLine)return n.mode.blankLine(n.state)}}function ca(e,t,n,r){for(var a=0;a<10;a++){r&&(r[0]=kn(e,n).mode);var l=e.token(t,n);if(t.pos>t.start)return l}throw new Error("Mode "+e.name+" failed to advance stream.")}var Ko=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Jo(e,t,n,r){var a=e.doc,l=a.mode,f;t=X(a,t);var c=te(a,t.line),p=An(e,t.line,n),h=new Oe(c.text,e.options.tabSize,p),b;for(r&&(b=[]);(r||h.pos<t.ch)&&!h.eol();)h.start=h.pos,f=ca(l,h,p.state),r&&b.push(new Ko(h,f,St(a.mode,p.state)));return r?b:new Ko(h,f,p.state)}function Yo(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";t[r]==null?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Xo(e,t,n,r,a,l,f){var c=n.flattenSpans;c==null&&(c=e.options.flattenSpans);var p=0,h=null,b=new Oe(t,e.options.tabSize,r),C,D=e.options.addModeClass&&[null];for(t==""&&Yo(qo(n,r.state),l);!b.eol();){if(b.pos>e.options.maxHighlightLength?(c=!1,f&&fa(e,t,r,b.pos),b.pos=t.length,C=null):C=Yo(ca(n,b,r.state,D),l),D){var _=D[0].name;_&&(C="m-"+(C?_+" "+C:_))}if(!c||h!=C){for(;p<b.start;)p=Math.min(b.start,p+5e3),a(p,h);h=C}b.start=b.pos}for(;p<b.pos;){var O=Math.min(b.pos,p+5e3);a(O,h),p=O}}function Mf(e,t,n){for(var r,a,l=e.doc,f=n?-1:t-(e.doc.mode.innerMode?1e3:100),c=t;c>f;--c){if(c<=l.first)return l.first;var p=te(l,c-1),h=p.stateAfter;if(h&&(!n||c+(h instanceof zr?h.lookAhead:0)<=l.modeFrontier))return c;var b=we(p.text,null,e.options.tabSize);(a==null||r>b)&&(a=c-1,r=b)}return a}function Lf(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var a=te(e,r).stateAfter;if(a&&(!(a instanceof zr)||r+a.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Zo=!1,Kt=!1;function Pf(){Zo=!0}function Nf(){Kt=!0}function yi(e,t,n){this.marker=e,this.from=t,this.to=n}function Mn(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function If(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Ff(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function Rf(e,t,n){var r;if(e)for(var a=0;a<e.length;++a){var l=e[a],f=l.marker,c=l.from==null||(f.inclusiveLeft?l.from<=t:l.from<t);if(c||l.from==t&&f.type=="bookmark"&&(!n||!l.marker.insertLeft)){var p=l.to==null||(f.inclusiveRight?l.to>=t:l.to>t);(r||(r=[])).push(new yi(f,l.from,p?null:l.to))}}return r}function jf(e,t,n){var r;if(e)for(var a=0;a<e.length;++a){var l=e[a],f=l.marker,c=l.to==null||(f.inclusiveRight?l.to>=t:l.to>t);if(c||l.from==t&&f.type=="bookmark"&&(!n||l.marker.insertLeft)){var p=l.from==null||(f.inclusiveLeft?l.from<=t:l.from<t);(r||(r=[])).push(new yi(f,p?null:l.from-t,l.to==null?null:l.to-t))}}return r}function da(e,t){if(t.full)return null;var n=br(e,t.from.line)&&te(e,t.from.line).markedSpans,r=br(e,t.to.line)&&te(e,t.to.line).markedSpans;if(!n&&!r)return null;var a=t.from.ch,l=t.to.ch,f=v(t.from,t.to)==0,c=Rf(n,a,f),p=jf(r,l,f),h=t.text.length==1,b=pe(t.text).length+(h?a:0);if(c)for(var C=0;C<c.length;++C){var D=c[C];if(D.to==null){var _=Mn(p,D.marker);_?h&&(D.to=_.to==null?null:_.to+b):D.to=a}}if(p)for(var O=0;O<p.length;++O){var F=p[O];if(F.to!=null&&(F.to+=b),F.from==null){var U=Mn(c,F.marker);U||(F.from=b,h&&(c||(c=[])).push(F))}else F.from+=b,h&&(c||(c=[])).push(F)}c&&(c=Qo(c)),p&&p!=c&&(p=Qo(p));var q=[c];if(!h){var Y=t.text.length-2,K;if(Y>0&&c)for(var Z=0;Z<c.length;++Z)c[Z].to==null&&(K||(K=[])).push(new yi(c[Z].marker,null,null));for(var ie=0;ie<Y;++ie)q.push(K);q.push(p)}return q}function Qo(e){for(var t=0;t<e.length;++t){var n=e[t];n.from!=null&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Bf(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(_){if(_.markedSpans)for(var O=0;O<_.markedSpans.length;++O){var F=_.markedSpans[O].marker;F.readOnly&&(!r||re(r,F)==-1)&&(r||(r=[])).push(F)}}),!r)return null;for(var a=[{from:t,to:n}],l=0;l<r.length;++l)for(var f=r[l],c=f.find(0),p=0;p<a.length;++p){var h=a[p];if(!(v(h.to,c.from)<0||v(h.from,c.to)>0)){var b=[p,1],C=v(h.from,c.from),D=v(h.to,c.to);(C<0||!f.inclusiveLeft&&!C)&&b.push({from:h.from,to:c.from}),(D>0||!f.inclusiveRight&&!D)&&b.push({from:c.to,to:h.to}),a.splice.apply(a,b),p+=b.length-3}}return a}function es(e){var t=e.markedSpans;if(!!t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ts(e,t){if(!!t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function bi(e){return e.inclusiveLeft?-1:0}function Ci(e){return e.inclusiveRight?1:0}function pa(e,t){var n=e.lines.length-t.lines.length;if(n!=0)return n;var r=e.find(),a=t.find(),l=v(r.from,a.from)||bi(e)-bi(t);if(l)return-l;var f=v(r.to,a.to)||Ci(e)-Ci(t);return f||t.id-e.id}function rs(e,t){var n=Kt&&e.markedSpans,r;if(n)for(var a=void 0,l=0;l<n.length;++l)a=n[l],a.marker.collapsed&&(t?a.from:a.to)==null&&(!r||pa(r,a.marker)<0)&&(r=a.marker);return r}function ns(e){return rs(e,!0)}function xi(e){return rs(e,!1)}function Wf(e,t){var n=Kt&&e.markedSpans,r;if(n)for(var a=0;a<n.length;++a){var l=n[a];l.marker.collapsed&&(l.from==null||l.from<t)&&(l.to==null||l.to>t)&&(!r||pa(r,l.marker)<0)&&(r=l.marker)}return r}function is(e,t,n,r,a){var l=te(e,t),f=Kt&&l.markedSpans;if(f)for(var c=0;c<f.length;++c){var p=f[c];if(!!p.marker.collapsed){var h=p.marker.find(0),b=v(h.from,n)||bi(p.marker)-bi(a),C=v(h.to,r)||Ci(p.marker)-Ci(a);if(!(b>=0&&C<=0||b<=0&&C>=0)&&(b<=0&&(p.marker.inclusiveRight&&a.inclusiveLeft?v(h.to,n)>=0:v(h.to,n)>0)||b>=0&&(p.marker.inclusiveRight&&a.inclusiveLeft?v(h.from,r)<=0:v(h.from,r)<0)))return!0}}}function At(e){for(var t;t=ns(e);)e=t.find(-1,!0).line;return e}function Hf(e){for(var t;t=xi(e);)e=t.find(1,!0).line;return e}function zf(e){for(var t,n;t=xi(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function ha(e,t){var n=te(e,t),r=At(n);return n==r?t:be(r)}function as(e,t){if(t>e.lastLine())return t;var n=te(e,t),r;if(!ir(e,n))return t;for(;r=xi(n);)n=r.find(1,!0).line;return be(n)+1}function ir(e,t){var n=Kt&&t.markedSpans;if(n){for(var r=void 0,a=0;a<n.length;++a)if(r=n[a],!!r.marker.collapsed){if(r.from==null)return!0;if(!r.marker.widgetNode&&r.from==0&&r.marker.inclusiveLeft&&va(e,t,r))return!0}}}function va(e,t,n){if(n.to==null){var r=n.marker.find(1,!0);return va(e,r.line,Mn(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var a=void 0,l=0;l<t.markedSpans.length;++l)if(a=t.markedSpans[l],a.marker.collapsed&&!a.marker.widgetNode&&a.from==n.to&&(a.to==null||a.to!=n.from)&&(a.marker.inclusiveLeft||n.marker.inclusiveRight)&&va(e,t,a))return!0}function Jt(e){e=At(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var a=n.lines[r];if(a==e)break;t+=a.height}for(var l=n.parent;l;n=l,l=n.parent)for(var f=0;f<l.children.length;++f){var c=l.children[f];if(c==n)break;t+=c.height}return t}function Si(e){if(e.height==0)return 0;for(var t=e.text.length,n,r=e;n=ns(r);){var a=n.find(0,!0);r=a.from.line,t+=a.from.ch-a.to.ch}for(r=e;n=xi(r);){var l=n.find(0,!0);t-=r.text.length-l.from.ch,r=l.to.line,t+=r.text.length-l.to.ch}return t}function ga(e){var t=e.display,n=e.doc;t.maxLine=te(n,n.first),t.maxLineLength=Si(t.maxLine),t.maxLineChanged=!0,n.iter(function(r){var a=Si(r);a>t.maxLineLength&&(t.maxLineLength=a,t.maxLine=r)})}var Ur=function(e,t,n){this.text=e,ts(this,t),this.height=n?n(this):1};Ur.prototype.lineNo=function(){return be(this)},It(Ur);function Uf(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),es(e),ts(e,n);var a=r?r(e):1;a!=e.height&&pt(e,a)}function Gf(e){e.parent=null,es(e)}var Vf={},qf={};function os(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?qf:Vf;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function ss(e,t){var n=E("span",null,null,S?"padding-right: .1px":null),r={pre:E("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var a=0;a<=(t.rest?t.rest.length:0);a++){var l=a?t.rest[a-1]:t.line,f=void 0;r.pos=0,r.addToken=Jf,Ft(e.display.measure)&&(f=dt(l,e.doc.direction))&&(r.addToken=Xf(r.addToken,f)),r.map=[];var c=t!=e.display.externalMeasured&&be(l);Zf(l,r,Vo(e,l,c)),l.styleClasses&&(l.styleClasses.bgClass&&(r.bgClass=et(l.styleClasses.bgClass,r.bgClass||"")),l.styleClasses.textClass&&(r.textClass=et(l.styleClasses.textClass,r.textClass||""))),r.map.length==0&&r.map.push(0,0,r.content.appendChild(hi(e.display.measure))),a==0?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(S){var p=r.content.lastChild;(/\bcm-tab\b/.test(p.className)||p.querySelector&&p.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return le(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=et(r.pre.className,r.textClass||"")),r}function Kf(e){var t=R("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Jf(e,t,n,r,a,l,f){if(!!t){var c=e.splitSpaces?Yf(t,e.trailingSpace):t,p=e.cm.state.specialChars,h=!1,b;if(!p.test(t))e.col+=t.length,b=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,b),T&&w<9&&(h=!0),e.pos+=t.length;else{b=document.createDocumentFragment();for(var C=0;;){p.lastIndex=C;var D=p.exec(t),_=D?D.index-C:t.length-C;if(_){var O=document.createTextNode(c.slice(C,C+_));T&&w<9?b.appendChild(R("span",[O])):b.appendChild(O),e.map.push(e.pos,e.pos+_,O),e.col+=_,e.pos+=_}if(!D)break;C+=_+1;var F=void 0;if(D[0]=="	"){var U=e.cm.options.tabSize,q=U-e.col%U;F=b.appendChild(R("span",Nr(q),"cm-tab")),F.setAttribute("role","presentation"),F.setAttribute("cm-text","	"),e.col+=q}else D[0]=="\r"||D[0]==`
`?(F=b.appendChild(R("span",D[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),F.setAttribute("cm-text",D[0]),e.col+=1):(F=e.cm.options.specialCharPlaceholder(D[0]),F.setAttribute("cm-text",D[0]),T&&w<9?b.appendChild(R("span",[F])):b.appendChild(F),e.col+=1);e.map.push(e.pos,e.pos+1,F),e.pos++}}if(e.trailingSpace=c.charCodeAt(t.length-1)==32,n||r||a||h||l||f){var Y=n||"";r&&(Y+=r),a&&(Y+=a);var K=R("span",[b],Y,l);if(f)for(var Z in f)f.hasOwnProperty(Z)&&Z!="style"&&Z!="class"&&K.setAttribute(Z,f[Z]);return e.content.appendChild(K)}e.content.appendChild(b)}}function Yf(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",a=0;a<e.length;a++){var l=e.charAt(a);l==" "&&n&&(a==e.length-1||e.charCodeAt(a+1)==32)&&(l="\xA0"),r+=l,n=l==" "}return r}function Xf(e,t){return function(n,r,a,l,f,c,p){a=a?a+" cm-force-border":"cm-force-border";for(var h=n.pos,b=h+r.length;;){for(var C=void 0,D=0;D<t.length&&(C=t[D],!(C.to>h&&C.from<=h));D++);if(C.to>=b)return e(n,r,a,l,f,c,p);e(n,r.slice(0,C.to-h),a,l,null,c,p),l=null,r=r.slice(C.to-h),h=C.to}}}function ls(e,t,n,r){var a=!r&&n.widgetNode;a&&e.map.push(e.pos,e.pos+t,a),!r&&e.cm.display.input.needsContentAttribute&&(a||(a=e.content.appendChild(document.createElement("span"))),a.setAttribute("cm-marker",n.id)),a&&(e.cm.display.input.setUneditable(a),e.content.appendChild(a)),e.pos+=t,e.trailingSpace=!1}function Zf(e,t,n){var r=e.markedSpans,a=e.text,l=0;if(!r){for(var f=1;f<n.length;f+=2)t.addToken(t,a.slice(l,l=n[f]),os(n[f+1],t.cm.options));return}for(var c=a.length,p=0,h=1,b="",C,D,_=0,O,F,U,q,Y;;){if(_==p){O=F=U=D="",Y=null,q=null,_=1/0;for(var K=[],Z=void 0,ie=0;ie<r.length;++ie){var ne=r[ie],de=ne.marker;if(de.type=="bookmark"&&ne.from==p&&de.widgetNode)K.push(de);else if(ne.from<=p&&(ne.to==null||ne.to>p||de.collapsed&&ne.to==p&&ne.from==p)){if(ne.to!=null&&ne.to!=p&&_>ne.to&&(_=ne.to,F=""),de.className&&(O+=" "+de.className),de.css&&(D=(D?D+";":"")+de.css),de.startStyle&&ne.from==p&&(U+=" "+de.startStyle),de.endStyle&&ne.to==_&&(Z||(Z=[])).push(de.endStyle,ne.to),de.title&&((Y||(Y={})).title=de.title),de.attributes)for(var Te in de.attributes)(Y||(Y={}))[Te]=de.attributes[Te];de.collapsed&&(!q||pa(q.marker,de)<0)&&(q=ne)}else ne.from>p&&_>ne.from&&(_=ne.from)}if(Z)for(var He=0;He<Z.length;He+=2)Z[He+1]==_&&(F+=" "+Z[He]);if(!q||q.from==p)for(var ke=0;ke<K.length;++ke)ls(t,0,K[ke]);if(q&&(q.from||0)==p){if(ls(t,(q.to==null?c+1:q.to)-p,q.marker,q.from==null),q.to==null)return;q.to==p&&(q=!1)}}if(p>=c)break;for(var vt=Math.min(c,_);;){if(b){var ut=p+b.length;if(!q){var Ne=ut>vt?b.slice(0,vt-p):b;t.addToken(t,Ne,C?C+O:O,U,p+Ne.length==_?F:"",D,Y)}if(ut>=vt){b=b.slice(vt-p),p=vt;break}p=ut,U=""}b=a.slice(l,l=n[h++]),C=os(n[h++],t.cm.options)}}}function us(e,t,n){this.line=t,this.rest=zf(t),this.size=this.rest?be(pe(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ir(e,t)}function Ti(e,t,n){for(var r=[],a,l=t;l<n;l=a){var f=new us(e.doc,te(e.doc,l),l);a=l+f.size,r.push(f)}return r}var Gr=null;function Qf(e){Gr?Gr.ops.push(e):e.ownsGroup=Gr={ops:[e],delayedCallbacks:[]}}function ec(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var a=e.ops[r];if(a.cursorActivityHandlers)for(;a.cursorActivityCalled<a.cursorActivityHandlers.length;)a.cursorActivityHandlers[a.cursorActivityCalled++].call(null,a.cm)}}while(n<t.length)}function tc(e,t){var n=e.ownsGroup;if(!!n)try{ec(n)}finally{Gr=null,t(n)}}var Ln=null;function je(e,t){var n=Rr(e,t);if(!!n.length){var r=Array.prototype.slice.call(arguments,2),a;Gr?a=Gr.delayedCallbacks:Ln?a=Ln:(a=Ln=[],setTimeout(rc,0));for(var l=function(c){a.push(function(){return n[c].apply(null,r)})},f=0;f<n.length;++f)l(f)}}function rc(){var e=Ln;Ln=null;for(var t=0;t<e.length;++t)e[t]()}function fs(e,t,n,r){for(var a=0;a<t.changes.length;a++){var l=t.changes[a];l=="text"?ic(e,t):l=="gutter"?ds(e,t,n,r):l=="class"?ma(e,t):l=="widget"&&ac(e,t,r)}t.changes=null}function Pn(e){return e.node==e.text&&(e.node=R("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),T&&w<8&&(e.node.style.zIndex=2)),e.node}function nc(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Pn(t);t.background=r.insertBefore(R("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function cs(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):ss(e,t)}function ic(e,t){var n=t.text.className,r=cs(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,ma(e,t)):n&&(t.text.className=n)}function ma(e,t){nc(e,t),t.line.wrapClass?Pn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function ds(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var a=Pn(t);t.gutterBackground=R("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),a.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var f=Pn(t),c=t.gutter=R("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(c.setAttribute("aria-hidden","true"),e.display.input.setUneditable(c),f.insertBefore(c,t.text),t.line.gutterClass&&(c.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!l||!l["CodeMirror-linenumbers"])&&(t.lineNumber=c.appendChild(R("div",On(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var p=0;p<e.display.gutterSpecs.length;++p){var h=e.display.gutterSpecs[p].className,b=l.hasOwnProperty(h)&&l[h];b&&c.appendChild(R("div",[b],"CodeMirror-gutter-elt","left: "+r.gutterLeft[h]+"px; width: "+r.gutterWidth[h]+"px"))}}}function ac(e,t,n){t.alignable&&(t.alignable=null);for(var r=he("CodeMirror-linewidget"),a=t.node.firstChild,l=void 0;a;a=l)l=a.nextSibling,r.test(a.className)&&t.node.removeChild(a);ps(e,t,n)}function oc(e,t,n,r){var a=cs(e,t);return t.text=t.node=a.pre,a.bgClass&&(t.bgClass=a.bgClass),a.textClass&&(t.textClass=a.textClass),ma(e,t),ds(e,t,n,r),ps(e,t,r),t.node}function ps(e,t,n){if(hs(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)hs(e,t.rest[r],t,n,!1)}function hs(e,t,n,r,a){if(!!t.widgets)for(var l=Pn(n),f=0,c=t.widgets;f<c.length;++f){var p=c[f],h=R("div",[p.node],"CodeMirror-linewidget"+(p.className?" "+p.className:""));p.handleMouseEvents||h.setAttribute("cm-ignore-events","true"),sc(p,h,n,r),e.display.input.setUneditable(h),a&&p.above?l.insertBefore(h,n.gutter||n.text):l.appendChild(h),je(p,"redraw")}}function sc(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var a=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(a-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=a+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Nn(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ue(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),N(t.display.measure,R("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Yt(e,t){for(var n=rr(t);n!=e.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==e.sizer&&n!=e.mover)return!0}function wi(e){return e.lineSpace.offsetTop}function ya(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function vs(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=N(e.measure,R("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return!isNaN(r.left)&&!isNaN(r.right)&&(e.cachedPaddingH=r),r}function Wt(e){return se-e.display.nativeBarWidth}function Cr(e){return e.display.scroller.clientWidth-Wt(e)-e.display.barWidth}function ba(e){return e.display.scroller.clientHeight-Wt(e)-e.display.barHeight}function lc(e,t,n){var r=e.options.lineWrapping,a=r&&Cr(e);if(!t.measure.heights||r&&t.measure.width!=a){var l=t.measure.heights=[];if(r){t.measure.width=a;for(var f=t.text.firstChild.getClientRects(),c=0;c<f.length-1;c++){var p=f[c],h=f[c+1];Math.abs(p.bottom-h.bottom)>2&&l.push((p.bottom+h.top)/2-n.top)}}l.push(n.bottom-n.top)}}function gs(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var a=0;a<e.rest.length;a++)if(be(e.rest[a])>n)return{map:e.measure.maps[a],cache:e.measure.caches[a],before:!0}}}function uc(e,t){t=At(t);var n=be(t),r=e.display.externalMeasured=new us(e.doc,t,n);r.lineN=n;var a=r.built=ss(e,r);return r.text=a.pre,N(e.display.lineMeasure,a.pre),r}function ms(e,t,n,r){return Ht(e,Vr(e,t),n,r)}function Ca(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Tr(e,t)];var n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size)return n}function Vr(e,t){var n=be(t),r=Ca(e,n);r&&!r.text?r=null:r&&r.changes&&(fs(e,r,n,_a(e)),e.curOp.forceUpdate=!0),r||(r=uc(e,t));var a=gs(r,t,n);return{line:t,view:r,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function Ht(e,t,n,r,a){t.before&&(n=-1);var l=n+(r||""),f;return t.cache.hasOwnProperty(l)?f=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(lc(e,t.view,t.rect),t.hasHeights=!0),f=cc(e,t,n,r),f.bogus||(t.cache[l]=f)),{left:f.left,right:f.right,top:a?f.rtop:f.top,bottom:a?f.rbottom:f.bottom}}var ys={left:0,right:0,top:0,bottom:0};function bs(e,t,n){for(var r,a,l,f,c,p,h=0;h<e.length;h+=3)if(c=e[h],p=e[h+1],t<c?(a=0,l=1,f="left"):t<p?(a=t-c,l=a+1):(h==e.length-3||t==p&&e[h+3]>t)&&(l=p-c,a=l-1,t>=p&&(f="right")),a!=null){if(r=e[h+2],c==p&&n==(r.insertLeft?"left":"right")&&(f=n),n=="left"&&a==0)for(;h&&e[h-2]==e[h-3]&&e[h-1].insertLeft;)r=e[(h-=3)+2],f="left";if(n=="right"&&a==p-c)for(;h<e.length-3&&e[h+3]==e[h+4]&&!e[h+5].insertLeft;)r=e[(h+=3)+2],f="right";break}return{node:r,start:a,end:l,collapse:f,coverStart:c,coverEnd:p}}function fc(e,t){var n=ys;if(t=="left")for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var a=e.length-1;a>=0&&(n=e[a]).left==n.right;a--);return n}function cc(e,t,n,r){var a=bs(t.map,n,r),l=a.node,f=a.start,c=a.end,p=a.collapse,h;if(l.nodeType==3){for(var b=0;b<4;b++){for(;f&&Sn(t.line.text.charAt(a.coverStart+f));)--f;for(;a.coverStart+c<a.coverEnd&&Sn(t.line.text.charAt(a.coverStart+c));)++c;if(T&&w<9&&f==0&&c==a.coverEnd-a.coverStart?h=l.parentNode.getBoundingClientRect():h=fc(yt(l,f,c).getClientRects(),r),h.left||h.right||f==0)break;c=f,f=f-1,p="right"}T&&w<11&&(h=dc(e.display.measure,h))}else{f>0&&(p=r="right");var C;e.options.lineWrapping&&(C=l.getClientRects()).length>1?h=C[r=="right"?C.length-1:0]:h=l.getBoundingClientRect()}if(T&&w<9&&!f&&(!h||!h.left&&!h.right)){var D=l.parentNode.getClientRects()[0];D?h={left:D.left,right:D.left+Kr(e.display),top:D.top,bottom:D.bottom}:h=ys}for(var _=h.top-t.rect.top,O=h.bottom-t.rect.top,F=(_+O)/2,U=t.view.measure.heights,q=0;q<U.length-1&&!(F<U[q]);q++);var Y=q?U[q-1]:0,K=U[q],Z={left:(p=="right"?h.right:h.left)-t.rect.left,right:(p=="left"?h.left:h.right)-t.rect.left,top:Y,bottom:K};return!h.left&&!h.right&&(Z.bogus=!0),e.options.singleCursorHeightPerLine||(Z.rtop=_,Z.rbottom=O),Z}function dc(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!nr(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Cs(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function xs(e){e.display.externalMeasure=null,Me(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Cs(e.display.view[t])}function In(e){xs(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ss(){return M&&k?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ts(){return M&&k?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function xa(e){var t=At(e),n=t.widgets,r=0;if(n)for(var a=0;a<n.length;++a)n[a].above&&(r+=Nn(n[a]));return r}function _i(e,t,n,r,a){if(!a){var l=xa(t);n.top+=l,n.bottom+=l}if(r=="line")return n;r||(r="local");var f=Jt(t);if(r=="local"?f+=wi(e.display):f-=e.display.viewOffset,r=="page"||r=="window"){var c=e.display.lineSpace.getBoundingClientRect();f+=c.top+(r=="window"?0:Ts());var p=c.left+(r=="window"?0:Ss());n.left+=p,n.right+=p}return n.top+=f,n.bottom+=f,n}function ws(e,t,n){if(n=="div")return t;var r=t.left,a=t.top;if(n=="page")r-=Ss(),a-=Ts();else if(n=="local"||!n){var l=e.display.sizer.getBoundingClientRect();r+=l.left,a+=l.top}var f=e.display.lineSpace.getBoundingClientRect();return{left:r-f.left,top:a-f.top}}function Di(e,t,n,r,a){return r||(r=te(e.doc,t.line)),_i(e,r,ms(e,r,t.ch,a),n)}function Mt(e,t,n,r,a,l){r=r||te(e.doc,t.line),a||(a=Vr(e,r));function f(O,F){var U=Ht(e,a,O,F?"right":"left",l);return F?U.left=U.right:U.right=U.left,_i(e,r,U,n)}var c=dt(r,e.doc.direction),p=t.ch,h=t.sticky;if(p>=r.text.length?(p=r.text.length,h="before"):p<=0&&(p=0,h="after"),!c)return f(h=="before"?p-1:p,h=="before");function b(O,F,U){var q=c[F],Y=q.level==1;return f(U?O-1:O,Y!=U)}var C=$e(c,p,h),D=bt,_=b(p,C,h=="before");return D!=null&&(_.other=b(p,D,h!="before")),_}function _s(e,t){var n=0;t=X(e.doc,t),e.options.lineWrapping||(n=Kr(e.display)*t.ch);var r=te(e.doc,t.line),a=Jt(r)+wi(e.display);return{left:n,right:n,top:a,bottom:a+r.height}}function Sa(e,t,n,r,a){var l=j(e,t,n);return l.xRel=a,r&&(l.outside=r),l}function Ta(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return Sa(r.first,0,null,-1,-1);var a=jt(r,n),l=r.first+r.size-1;if(a>l)return Sa(r.first+r.size-1,te(r,l).text.length,null,1,1);t<0&&(t=0);for(var f=te(r,a);;){var c=pc(e,f,a,t,n),p=Wf(f,c.ch+(c.xRel>0||c.outside>0?1:0));if(!p)return c;var h=p.find(1);if(h.line==a)return h;f=te(r,a=h.line)}}function Ds(e,t,n,r){r-=xa(t);var a=t.text.length,l=Nt(function(f){return Ht(e,n,f-1).bottom<=r},a,0);return a=Nt(function(f){return Ht(e,n,f).top>r},l,a),{begin:l,end:a}}function ks(e,t,n,r){n||(n=Vr(e,t));var a=_i(e,t,Ht(e,n,r),"line").top;return Ds(e,t,n,a)}function wa(e,t,n,r){return e.bottom<=n?!1:e.top>n?!0:(r?e.left:e.right)>t}function pc(e,t,n,r,a){a-=Jt(t);var l=Vr(e,t),f=xa(t),c=0,p=t.text.length,h=!0,b=dt(t,e.doc.direction);if(b){var C=(e.options.lineWrapping?vc:hc)(e,t,n,l,b,r,a);h=C.level!=1,c=h?C.from:C.to-1,p=h?C.to:C.from-1}var D=null,_=null,O=Nt(function(ie){var ne=Ht(e,l,ie);return ne.top+=f,ne.bottom+=f,wa(ne,r,a,!1)?(ne.top<=a&&ne.left<=r&&(D=ie,_=ne),!0):!1},c,p),F,U,q=!1;if(_){var Y=r-_.left<_.right-r,K=Y==h;O=D+(K?0:1),U=K?"after":"before",F=Y?_.left:_.right}else{!h&&(O==p||O==c)&&O++,U=O==0?"after":O==t.text.length?"before":Ht(e,l,O-(h?1:0)).bottom+f<=a==h?"after":"before";var Z=Mt(e,j(n,O,U),"line",t,l);F=Z.left,q=a<Z.top?-1:a>=Z.bottom?1:0}return O=di(t.text,O,1),Sa(n,O,U,q,r-F)}function hc(e,t,n,r,a,l,f){var c=Nt(function(C){var D=a[C],_=D.level!=1;return wa(Mt(e,j(n,_?D.to:D.from,_?"before":"after"),"line",t,r),l,f,!0)},0,a.length-1),p=a[c];if(c>0){var h=p.level!=1,b=Mt(e,j(n,h?p.from:p.to,h?"after":"before"),"line",t,r);wa(b,l,f,!0)&&b.top>f&&(p=a[c-1])}return p}function vc(e,t,n,r,a,l,f){var c=Ds(e,t,r,f),p=c.begin,h=c.end;/\s/.test(t.text.charAt(h-1))&&h--;for(var b=null,C=null,D=0;D<a.length;D++){var _=a[D];if(!(_.from>=h||_.to<=p)){var O=_.level!=1,F=Ht(e,r,O?Math.min(h,_.to)-1:Math.max(p,_.from)).right,U=F<l?l-F+1e9:F-l;(!b||C>U)&&(b=_,C=U)}}return b||(b=a[a.length-1]),b.from<p&&(b={from:p,to:b.to,level:b.level}),b.to>h&&(b={from:b.from,to:h,level:b.level}),b}var xr;function qr(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(xr==null){xr=R("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)xr.appendChild(document.createTextNode("x")),xr.appendChild(R("br"));xr.appendChild(document.createTextNode("x"))}N(e.measure,xr);var n=xr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Me(e.measure),n||1}function Kr(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=R("span","xxxxxxxxxx"),n=R("pre",[t],"CodeMirror-line-like");N(e.measure,n);var r=t.getBoundingClientRect(),a=(r.right-r.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function _a(e){for(var t=e.display,n={},r={},a=t.gutters.clientLeft,l=t.gutters.firstChild,f=0;l;l=l.nextSibling,++f){var c=e.display.gutterSpecs[f].className;n[c]=l.offsetLeft+l.clientLeft+a,r[c]=l.clientWidth}return{fixedPos:Da(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Da(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Es(e){var t=qr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Kr(e.display)-3);return function(a){if(ir(e.doc,a))return 0;var l=0;if(a.widgets)for(var f=0;f<a.widgets.length;f++)a.widgets[f].height&&(l+=a.widgets[f].height);return n?l+(Math.ceil(a.text.length/r)||1)*t:l+t}}function ka(e){var t=e.doc,n=Es(e);t.iter(function(r){var a=n(r);a!=r.height&&pt(r,a)})}function Sr(e,t,n,r){var a=e.display;if(!n&&rr(t).getAttribute("cm-not-content")=="true")return null;var l,f,c=a.lineSpace.getBoundingClientRect();try{l=t.clientX-c.left,f=t.clientY-c.top}catch{return null}var p=Ta(e,l,f),h;if(r&&p.xRel>0&&(h=te(e.doc,p.line).text).length==p.ch){var b=we(h,h.length,e.options.tabSize)-h.length;p=j(p.line,Math.max(0,Math.round((l-vs(e.display).left)/Kr(e.display))-b))}return p}function Tr(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function st(e,t,n,r){t==null&&(t=e.doc.first),n==null&&(n=e.doc.first+e.doc.size),r||(r=0);var a=e.display;if(r&&n<a.viewTo&&(a.updateLineNumbers==null||a.updateLineNumbers>t)&&(a.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=a.viewTo)Kt&&ha(e.doc,t)<a.viewTo&&or(e);else if(n<=a.viewFrom)Kt&&as(e.doc,n+r)>a.viewFrom?or(e):(a.viewFrom+=r,a.viewTo+=r);else if(t<=a.viewFrom&&n>=a.viewTo)or(e);else if(t<=a.viewFrom){var l=ki(e,n,n+r,1);l?(a.view=a.view.slice(l.index),a.viewFrom=l.lineN,a.viewTo+=r):or(e)}else if(n>=a.viewTo){var f=ki(e,t,t,-1);f?(a.view=a.view.slice(0,f.index),a.viewTo=f.lineN):or(e)}else{var c=ki(e,t,t,-1),p=ki(e,n,n+r,1);c&&p?(a.view=a.view.slice(0,c.index).concat(Ti(e,c.lineN,p.lineN)).concat(a.view.slice(p.index)),a.viewTo+=r):or(e)}var h=a.externalMeasured;h&&(n<h.lineN?h.lineN+=r:t<h.lineN+h.size&&(a.externalMeasured=null))}function ar(e,t,n){e.curOp.viewChanged=!0;var r=e.display,a=e.display.externalMeasured;if(a&&t>=a.lineN&&t<a.lineN+a.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var l=r.view[Tr(e,t)];if(l.node!=null){var f=l.changes||(l.changes=[]);re(f,n)==-1&&f.push(n)}}}function or(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function ki(e,t,n,r){var a=Tr(e,t),l,f=e.display.view;if(!Kt||n==e.doc.first+e.doc.size)return{index:a,lineN:n};for(var c=e.display.viewFrom,p=0;p<a;p++)c+=f[p].size;if(c!=t){if(r>0){if(a==f.length-1)return null;l=c+f[a].size-t,a++}else l=c-t;t+=l,n+=l}for(;ha(e.doc,n)!=n;){if(a==(r<0?0:f.length-1))return null;n+=r*f[a-(r<0?1:0)].size,a+=r}return{index:a,lineN:n}}function gc(e,t,n){var r=e.display,a=r.view;a.length==0||t>=r.viewTo||n<=r.viewFrom?(r.view=Ti(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Ti(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Tr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Ti(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Tr(e,n)))),r.viewTo=n}function $s(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var a=t[r];!a.hidden&&(!a.node||a.changes)&&++n}return n}function Fn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Os(e,t){t===void 0&&(t=!0);var n=e.doc,r={},a=r.cursors=document.createDocumentFragment(),l=r.selection=document.createDocumentFragment(),f=e.options.$customCursor;f&&(t=!0);for(var c=0;c<n.sel.ranges.length;c++)if(!(!t&&c==n.sel.primIndex)){var p=n.sel.ranges[c];if(!(p.from().line>=e.display.viewTo||p.to().line<e.display.viewFrom)){var h=p.empty();if(f){var b=f(e,p);b&&Ea(e,b,a)}else(h||e.options.showCursorWhenSelecting)&&Ea(e,p.head,a);h||mc(e,p,l)}}return r}function Ea(e,t,n){var r=Mt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),a=n.appendChild(R("div","\xA0","CodeMirror-cursor"));if(a.style.left=r.left+"px",a.style.top=r.top+"px",a.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var l=Di(e,t,"div",null,null),f=l.right-l.left;a.style.width=(f>0?f:e.defaultCharWidth())+"px"}if(r.other){var c=n.appendChild(R("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));c.style.display="",c.style.left=r.other.left+"px",c.style.top=r.other.top+"px",c.style.height=(r.other.bottom-r.other.top)*.85+"px"}}function Ei(e,t){return e.top-t.top||e.left-t.left}function mc(e,t,n){var r=e.display,a=e.doc,l=document.createDocumentFragment(),f=vs(e.display),c=f.left,p=Math.max(r.sizerWidth,Cr(e)-r.sizer.offsetLeft)-f.right,h=a.direction=="ltr";function b(K,Z,ie,ne){Z<0&&(Z=0),Z=Math.round(Z),ne=Math.round(ne),l.appendChild(R("div",null,"CodeMirror-selected","position: absolute; left: "+K+`px;
                             top: `+Z+"px; width: "+(ie==null?p-K:ie)+`px;
                             height: `+(ne-Z)+"px"))}function C(K,Z,ie){var ne=te(a,K),de=ne.text.length,Te,He;function ke(Ne,ft){return Di(e,j(K,Ne),"div",ne,ft)}function vt(Ne,ft,Ve){var Fe=ks(e,ne,null,Ne),Ie=ft=="ltr"==(Ve=="after")?"left":"right",Ae=Ve=="after"?Fe.begin:Fe.end-(/\s/.test(ne.text.charAt(Fe.end-1))?2:1);return ke(Ae,Ie)[Ie]}var ut=dt(ne,a.direction);return ua(ut,Z||0,ie==null?de:ie,function(Ne,ft,Ve,Fe){var Ie=Ve=="ltr",Ae=ke(Ne,Ie?"left":"right"),ct=ke(ft-1,Ie?"right":"left"),ln=Z==null&&Ne==0,dr=ie==null&&ft==de,Ze=Fe==0,zt=!ut||Fe==ut.length-1;if(ct.top-Ae.top<=3){var ze=(h?ln:dr)&&Ze,eo=(h?dr:ln)&&zt,Qt=ze?c:(Ie?Ae:ct).left,Er=eo?p:(Ie?ct:Ae).right;b(Qt,Ae.top,Er-Qt,Ae.bottom)}else{var $r,nt,un,to;Ie?($r=h&&ln&&Ze?c:Ae.left,nt=h?p:vt(Ne,Ve,"before"),un=h?c:vt(ft,Ve,"after"),to=h&&dr&&zt?p:ct.right):($r=h?vt(Ne,Ve,"before"):c,nt=!h&&ln&&Ze?p:Ae.right,un=!h&&dr&&zt?c:ct.left,to=h?vt(ft,Ve,"after"):p),b($r,Ae.top,nt-$r,Ae.bottom),Ae.bottom<ct.top&&b(c,Ae.bottom,null,ct.top),b(un,ct.top,to-un,ct.bottom)}(!Te||Ei(Ae,Te)<0)&&(Te=Ae),Ei(ct,Te)<0&&(Te=ct),(!He||Ei(Ae,He)<0)&&(He=Ae),Ei(ct,He)<0&&(He=ct)}),{start:Te,end:He}}var D=t.from(),_=t.to();if(D.line==_.line)C(D.line,D.ch,_.ch);else{var O=te(a,D.line),F=te(a,_.line),U=At(O)==At(F),q=C(D.line,D.ch,U?O.text.length+1:null).end,Y=C(_.line,U?0:null,_.ch).start;U&&(q.top<Y.top-2?(b(q.right,q.top,null,q.bottom),b(c,Y.top,Y.left,Y.bottom)):b(q.right,q.top,Y.left-q.right,q.bottom)),q.bottom<Y.top&&b(c,q.bottom,null,Y.top)}n.appendChild(l)}function $a(e){if(!!e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Jr(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function As(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Aa(e))}function Oa(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Jr(e))},100)}function Aa(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(le(e,"focus",e,t),e.state.focused=!0,Ee(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),S&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),$a(e))}function Jr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(le(e,"blur",e,t),e.state.focused=!1,Se(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function $i(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),a=t.lineDiv.getBoundingClientRect().top,l=0,f=0;f<t.view.length;f++){var c=t.view[f],p=e.options.lineWrapping,h=void 0,b=0;if(!c.hidden){if(a+=c.line.height,T&&w<8){var C=c.node.offsetTop+c.node.offsetHeight;h=C-n,n=C}else{var D=c.node.getBoundingClientRect();h=D.bottom-D.top,!p&&c.text.firstChild&&(b=c.text.firstChild.getBoundingClientRect().right-D.left-1)}var _=c.line.height-h;if((_>.005||_<-.005)&&(a<r&&(l-=_),pt(c.line,h),Ms(c.line),c.rest))for(var O=0;O<c.rest.length;O++)Ms(c.rest[O]);if(b>e.display.sizerWidth){var F=Math.ceil(b/Kr(e.display));F>e.display.maxLineLength&&(e.display.maxLineLength=F,e.display.maxLine=c.line,e.display.maxLineChanged=!0)}}}Math.abs(l)>2&&(t.scroller.scrollTop+=l)}function Ms(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Oi(e,t,n){var r=n&&n.top!=null?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-wi(e));var a=n&&n.bottom!=null?n.bottom:r+e.wrapper.clientHeight,l=jt(t,r),f=jt(t,a);if(n&&n.ensure){var c=n.ensure.from.line,p=n.ensure.to.line;c<l?(l=c,f=jt(t,Jt(te(t,c))+e.wrapper.clientHeight)):Math.min(p,t.lastLine())>=f&&(l=jt(t,Jt(te(t,p))-e.wrapper.clientHeight),f=p)}return{from:l,to:Math.max(f,l+1)}}function yc(e,t){if(!Pe(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),a=null;if(t.top+r.top<0?a=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(a=!1),a!=null&&!J){var l=R("div","\u200B",null,`position: absolute;
                         top: `+(t.top-n.viewOffset-wi(e.display))+`px;
                         height: `+(t.bottom-t.top+Wt(e)+n.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(a),e.display.lineSpace.removeChild(l)}}}function bc(e,t,n,r){r==null&&(r=0);var a;!e.options.lineWrapping&&t==n&&(n=t.sticky=="before"?j(t.line,t.ch+1,"before"):t,t=t.ch?j(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var l=0;l<5;l++){var f=!1,c=Mt(e,t),p=!n||n==t?c:Mt(e,n);a={left:Math.min(c.left,p.left),top:Math.min(c.top,p.top)-r,right:Math.max(c.left,p.left),bottom:Math.max(c.bottom,p.bottom)+r};var h=Ma(e,a),b=e.doc.scrollTop,C=e.doc.scrollLeft;if(h.scrollTop!=null&&(jn(e,h.scrollTop),Math.abs(e.doc.scrollTop-b)>1&&(f=!0)),h.scrollLeft!=null&&(wr(e,h.scrollLeft),Math.abs(e.doc.scrollLeft-C)>1&&(f=!0)),!f)break}return a}function Cc(e,t){var n=Ma(e,t);n.scrollTop!=null&&jn(e,n.scrollTop),n.scrollLeft!=null&&wr(e,n.scrollLeft)}function Ma(e,t){var n=e.display,r=qr(e.display);t.top<0&&(t.top=0);var a=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:n.scroller.scrollTop,l=ba(e),f={};t.bottom-t.top>l&&(t.bottom=t.top+l);var c=e.doc.height+ya(n),p=t.top<r,h=t.bottom>c-r;if(t.top<a)f.scrollTop=p?0:t.top;else if(t.bottom>a+l){var b=Math.min(t.top,(h?c:t.bottom)-l);b!=a&&(f.scrollTop=b)}var C=e.options.fixedGutter?0:n.gutters.offsetWidth,D=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:n.scroller.scrollLeft-C,_=Cr(e)-n.gutters.offsetWidth,O=t.right-t.left>_;return O&&(t.right=t.left+_),t.left<10?f.scrollLeft=0:t.left<D?f.scrollLeft=Math.max(0,t.left+C-(O?0:10)):t.right>_+D-3&&(f.scrollLeft=t.right+(O?0:10)-_),f}function La(e,t){t!=null&&(Ai(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Yr(e){Ai(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Rn(e,t,n){(t!=null||n!=null)&&Ai(e),t!=null&&(e.curOp.scrollLeft=t),n!=null&&(e.curOp.scrollTop=n)}function xc(e,t){Ai(e),e.curOp.scrollToPos=t}function Ai(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=_s(e,t.from),r=_s(e,t.to);Ls(e,n,r,t.margin)}}function Ls(e,t,n,r){var a=Ma(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Rn(e,a.scrollLeft,a.scrollTop)}function jn(e,t){Math.abs(e.doc.scrollTop-t)<2||(d||Na(e,{top:t}),Ps(e,t,!0),d&&Na(e),Hn(e,100))}function Ps(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function wr(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r)&&(e.doc.scrollLeft=t,js(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Bn(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+ya(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Wt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var _r=function(e,t,n){this.cm=n;var r=this.vert=R("div",[R("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),a=this.horiz=R("div",[R("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=a.tabIndex=-1,e(r),e(a),ae(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),ae(a,"scroll",function(){a.clientWidth&&t(a.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,T&&w<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};_r.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var a=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+a)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var l=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+l)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(r==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},_r.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},_r.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},_r.prototype.zeroWidthHack=function(){var e=L&&!V?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new _e,this.disableVert=new _e},_r.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto";function r(){var a=e.getBoundingClientRect(),l=n=="vert"?document.elementFromPoint(a.right-1,(a.top+a.bottom)/2):document.elementFromPoint((a.right+a.left)/2,a.bottom-1);l!=e?e.style.pointerEvents="none":t.set(1e3,r)}t.set(1e3,r)},_r.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Wn=function(){};Wn.prototype.update=function(){return{bottom:0,right:0}},Wn.prototype.setScrollLeft=function(){},Wn.prototype.setScrollTop=function(){},Wn.prototype.clear=function(){};function Xr(e,t){t||(t=Bn(e));var n=e.display.barWidth,r=e.display.barHeight;Ns(e,t);for(var a=0;a<4&&n!=e.display.barWidth||r!=e.display.barHeight;a++)n!=e.display.barWidth&&e.options.lineWrapping&&$i(e),Ns(e,Bn(e)),n=e.display.barWidth,r=e.display.barHeight}function Ns(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}var Is={native:_r,null:Wn};function Fs(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Se(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Is[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ae(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){n=="horizontal"?wr(e,t):jn(e,t)},e),e.display.scrollbars.addClass&&Ee(e.display.wrapper,e.display.scrollbars.addClass)}var Sc=0;function Dr(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Sc,markArrays:null},Qf(e.curOp)}function kr(e){var t=e.curOp;t&&tc(t,function(n){for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;Tc(n)})}function Tc(e){for(var t=e.ops,n=0;n<t.length;n++)wc(t[n]);for(var r=0;r<t.length;r++)_c(t[r]);for(var a=0;a<t.length;a++)Dc(t[a]);for(var l=0;l<t.length;l++)kc(t[l]);for(var f=0;f<t.length;f++)Ec(t[f])}function wc(e){var t=e.cm,n=t.display;Oc(t),e.updateMaxLine&&ga(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Mi(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function _c(e){e.updatedDisplay=e.mustUpdate&&Pa(e.cm,e.update)}function Dc(e){var t=e.cm,n=t.display;e.updatedDisplay&&$i(t),e.barMeasure=Bn(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=ms(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Wt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Cr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function kc(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&wr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==me();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Xr(t,e.barMeasure),e.updatedDisplay&&Fa(t,e.barMeasure),e.selectionChanged&&$a(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&As(e.cm)}function Ec(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Rs(t,e.update),n.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(n.wheelStartX=n.wheelStartY=null),e.scrollTop!=null&&Ps(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&wr(t,e.scrollLeft,!0,!0),e.scrollToPos){var a=bc(t,X(r,e.scrollToPos.from),X(r,e.scrollToPos.to),e.scrollToPos.margin);yc(t,a)}var l=e.maybeHiddenMarkers,f=e.maybeUnhiddenMarkers;if(l)for(var c=0;c<l.length;++c)l[c].lines.length||le(l[c],"hide");if(f)for(var p=0;p<f.length;++p)f[p].lines.length&&le(f[p],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&le(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function ht(e,t){if(e.curOp)return t();Dr(e);try{return t()}finally{kr(e)}}function Be(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Dr(e);try{return t.apply(e,arguments)}finally{kr(e)}}}function rt(e){return function(){if(this.curOp)return e.apply(this,arguments);Dr(this);try{return e.apply(this,arguments)}finally{kr(this)}}}function We(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Dr(t);try{return e.apply(this,arguments)}finally{kr(t)}}}function Hn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,qe($c,e))}function $c(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=An(e,t.highlightFrontier),a=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(l){if(r.line>=e.display.viewFrom){var f=l.styles,c=l.text.length>e.options.maxHighlightLength?St(t.mode,r.state):null,p=Go(e,l,r,!0);c&&(r.state=c),l.styles=p.styles;var h=l.styleClasses,b=p.classes;b?l.styleClasses=b:h&&(l.styleClasses=null);for(var C=!f||f.length!=l.styles.length||h!=b&&(!h||!b||h.bgClass!=b.bgClass||h.textClass!=b.textClass),D=0;!C&&D<f.length;++D)C=f[D]!=l.styles[D];C&&a.push(r.line),l.stateAfter=r.save(),r.nextLine()}else l.text.length<=e.options.maxHighlightLength&&fa(e,l.text,r),l.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Hn(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),a.length&&ht(e,function(){for(var l=0;l<a.length;l++)ar(e,a[l],"text")})}}var Mi=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Oi(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Cr(e),this.force=n,this.dims=_a(e),this.events=[]};Mi.prototype.signal=function(e,t){Ge(e,t)&&this.events.push(arguments)},Mi.prototype.finish=function(){for(var e=0;e<this.events.length;e++)le.apply(null,this.events[e])};function Oc(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Wt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Wt(e)+"px",t.scrollbarsClipped=!0)}function Ac(e){if(e.hasFocus())return null;var t=me();if(!t||!Ue(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&Ue(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Mc(e){if(!(!e||!e.activeElt||e.activeElt==me())&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&Ue(document.body,e.anchorNode)&&Ue(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Pa(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return or(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&$s(e)==0)return!1;Bs(e)&&(or(e),t.dims=_a(e));var a=r.first+r.size,l=Math.max(t.visible.from-e.options.viewportMargin,r.first),f=Math.min(a,t.visible.to+e.options.viewportMargin);n.viewFrom<l&&l-n.viewFrom<20&&(l=Math.max(r.first,n.viewFrom)),n.viewTo>f&&n.viewTo-f<20&&(f=Math.min(a,n.viewTo)),Kt&&(l=ha(e.doc,l),f=as(e.doc,f));var c=l!=n.viewFrom||f!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;gc(e,l,f),n.viewOffset=Jt(te(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var p=$s(e);if(!c&&p==0&&!t.force&&n.renderedView==n.view&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo))return!1;var h=Ac(e);return p>4&&(n.lineDiv.style.display="none"),Lc(e,n.updateLineNumbers,t.dims),p>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Mc(h),Me(n.cursorDiv),Me(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,c&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Hn(e,400)),n.updateLineNumbers=null,!0}function Rs(e,t){for(var n=t.viewport,r=!0;;r=!1){if(!r||!e.options.lineWrapping||t.oldDisplayWidth==Cr(e)){if(n&&n.top!=null&&(n={top:Math.min(e.doc.height+ya(e.display)-ba(e),n.top)}),t.visible=Oi(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else r&&(t.visible=Oi(e.display,e.doc,n));if(!Pa(e,t))break;$i(e);var a=Bn(e);Fn(e),Xr(e,a),Fa(e,a),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Na(e,t){var n=new Mi(e,t);if(Pa(e,n)){$i(e),Rs(e,n);var r=Bn(e);Fn(e),Xr(e,r),Fa(e,r),n.finish()}}function Lc(e,t,n){var r=e.display,a=e.options.lineNumbers,l=r.lineDiv,f=l.firstChild;function c(O){var F=O.nextSibling;return S&&L&&e.display.currentWheelTarget==O?O.style.display="none":O.parentNode.removeChild(O),F}for(var p=r.view,h=r.viewFrom,b=0;b<p.length;b++){var C=p[b];if(!C.hidden)if(!C.node||C.node.parentNode!=l){var D=oc(e,C,h,n);l.insertBefore(D,f)}else{for(;f!=C.node;)f=c(f);var _=a&&t!=null&&t<=h&&C.lineNumber;C.changes&&(re(C.changes,"gutter")>-1&&(_=!1),fs(e,C,h,n)),_&&(Me(C.lineNumber),C.lineNumber.appendChild(document.createTextNode(On(e.options,h)))),f=C.node.nextSibling}h+=C.size}for(;f;)f=c(f)}function Ia(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",je(e,"gutterChanged",e)}function Fa(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Wt(e)+"px"}function js(e){var t=e.display,n=t.view;if(!(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))){for(var r=Da(t)-t.scroller.scrollLeft+e.doc.scrollLeft,a=t.gutters.offsetWidth,l=r+"px",f=0;f<n.length;f++)if(!n[f].hidden){e.options.fixedGutter&&(n[f].gutter&&(n[f].gutter.style.left=l),n[f].gutterBackground&&(n[f].gutterBackground.style.left=l));var c=n[f].alignable;if(c)for(var p=0;p<c.length;p++)c[p].style.left=l}e.options.fixedGutter&&(t.gutters.style.left=r+a+"px")}}function Bs(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=On(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var a=r.measure.appendChild(R("div",[R("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=a.firstChild.offsetWidth,f=a.offsetWidth-l;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(l,r.lineGutter.offsetWidth-f)+1,r.lineNumWidth=r.lineNumInnerWidth+f,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Ia(e.display),!0}return!1}function Ra(e,t){for(var n=[],r=!1,a=0;a<e.length;a++){var l=e[a],f=null;if(typeof l!="string"&&(f=l.style,l=l.className),l=="CodeMirror-linenumbers")if(t)r=!0;else continue;n.push({className:l,style:f})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Ws(e){var t=e.gutters,n=e.gutterSpecs;Me(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var a=n[r],l=a.className,f=a.style,c=t.appendChild(R("div",null,"CodeMirror-gutter "+l));f&&(c.style.cssText=f),l=="CodeMirror-linenumbers"&&(e.lineGutter=c,c.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Ia(e)}function zn(e){Ws(e.display),st(e),js(e)}function Pc(e,t,n,r){var a=this;this.input=n,a.scrollbarFiller=R("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=R("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=E("div",null,"CodeMirror-code"),a.selectionDiv=R("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=R("div",null,"CodeMirror-cursors"),a.measure=R("div",null,"CodeMirror-measure"),a.lineMeasure=R("div",null,"CodeMirror-measure"),a.lineSpace=E("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var l=E("div",[a.lineSpace],"CodeMirror-lines");a.mover=R("div",[l],null,"position: relative"),a.sizer=R("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=R("div",null,null,"position: absolute; height: "+se+"px; width: 1px;"),a.gutters=R("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=R("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=R("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),a.wrapper.setAttribute("translate","no"),T&&w<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),!S&&!(d&&$)&&(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=Ra(r.gutters,r.lineNumbers),Ws(a),n.init(a)}var Li=0,Xt=null;T?Xt=-.53:d?Xt=15:M?Xt=-.7:z&&(Xt=-1/3);function Hs(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),n==null&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:n==null&&(n=e.wheelDelta),{x:t,y:n}}function Nc(e){var t=Hs(e);return t.x*=Xt,t.y*=Xt,t}function zs(e,t){var n=Hs(t),r=n.x,a=n.y,l=Xt;t.deltaMode===0&&(r=t.deltaX,a=t.deltaY,l=1);var f=e.display,c=f.scroller,p=c.scrollWidth>c.clientWidth,h=c.scrollHeight>c.clientHeight;if(!!(r&&p||a&&h)){if(a&&L&&S){e:for(var b=t.target,C=f.view;b!=c;b=b.parentNode)for(var D=0;D<C.length;D++)if(C[D].node==b){e.display.currentWheelTarget=b;break e}}if(r&&!d&&!I&&l!=null){a&&h&&jn(e,Math.max(0,c.scrollTop+a*l)),wr(e,Math.max(0,c.scrollLeft+r*l)),(!a||a&&h)&&Je(t),f.wheelStartX=null;return}if(a&&l!=null){var _=a*l,O=e.doc.scrollTop,F=O+f.wrapper.clientHeight;_<0?O=Math.max(0,O+_-50):F=Math.min(e.doc.height,F+_+50),Na(e,{top:O,bottom:F})}Li<20&&t.deltaMode!==0&&(f.wheelStartX==null?(f.wheelStartX=c.scrollLeft,f.wheelStartY=c.scrollTop,f.wheelDX=r,f.wheelDY=a,setTimeout(function(){if(f.wheelStartX!=null){var U=c.scrollLeft-f.wheelStartX,q=c.scrollTop-f.wheelStartY,Y=q&&f.wheelDY&&q/f.wheelDY||U&&f.wheelDX&&U/f.wheelDX;f.wheelStartX=f.wheelStartY=null,Y&&(Xt=(Xt*Li+Y)/(Li+1),++Li)}},200)):(f.wheelDX+=r,f.wheelDY+=a))}}var wt=function(e,t){this.ranges=e,this.primIndex=t};wt.prototype.primary=function(){return this.ranges[this.primIndex]},wt.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!x(n.anchor,r.anchor)||!x(n.head,r.head))return!1}return!0},wt.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Ce(P(this.ranges[t].anchor),P(this.ranges[t].head));return new wt(e,this.primIndex)},wt.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},wt.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(v(t,r.from())>=0&&v(e,r.to())<=0)return n}return-1};var Ce=function(e,t){this.anchor=e,this.head=t};Ce.prototype.from=function(){return ue(this.anchor,this.head)},Ce.prototype.to=function(){return H(this.anchor,this.head)},Ce.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Lt(e,t,n){var r=e&&e.options.selectionsMayTouch,a=t[n];t.sort(function(D,_){return v(D.from(),_.from())}),n=re(t,a);for(var l=1;l<t.length;l++){var f=t[l],c=t[l-1],p=v(c.to(),f.from());if(r&&!f.empty()?p>0:p>=0){var h=ue(c.from(),f.from()),b=H(c.to(),f.to()),C=c.empty()?f.from()==f.head:c.from()==c.head;l<=n&&--n,t.splice(--l,2,new Ce(C?b:h,C?h:b))}}return new wt(t,n)}function sr(e,t){return new wt([new Ce(e,t||e)],0)}function lr(e){return e.text?j(e.from.line+e.text.length-1,pe(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function Us(e,t){if(v(e,t.from)<0)return e;if(v(e,t.to)<=0)return lr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=lr(t).ch-t.to.ch),j(n,r)}function ja(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var a=e.sel.ranges[r];n.push(new Ce(Us(a.anchor,t),Us(a.head,t)))}return Lt(e.cm,n,e.sel.primIndex)}function Gs(e,t,n){return e.line==t.line?j(n.line,e.ch-t.ch+n.ch):j(n.line+(e.line-t.line),e.ch)}function Ic(e,t,n){for(var r=[],a=j(e.first,0),l=a,f=0;f<t.length;f++){var c=t[f],p=Gs(c.from,a,l),h=Gs(lr(c),a,l);if(a=c.to,l=h,n=="around"){var b=e.sel.ranges[f],C=v(b.head,b.anchor)<0;r[f]=new Ce(C?h:p,C?p:h)}else r[f]=new Ce(p,p)}return new wt(r,e.sel.primIndex)}function Ba(e){e.doc.mode=Hr(e.options,e.doc.modeOption),Un(e)}function Un(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Hn(e,100),e.state.modeGen++,e.curOp&&st(e)}function Vs(e,t){return t.from.ch==0&&t.to.ch==0&&pe(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Wa(e,t,n,r){function a(Y){return n?n[Y]:null}function l(Y,K,Z){Uf(Y,K,Z,r),je(Y,"change",Y,t)}function f(Y,K){for(var Z=[],ie=Y;ie<K;++ie)Z.push(new Ur(h[ie],a(ie),r));return Z}var c=t.from,p=t.to,h=t.text,b=te(e,c.line),C=te(e,p.line),D=pe(h),_=a(h.length-1),O=p.line-c.line;if(t.full)e.insert(0,f(0,h.length)),e.remove(h.length,e.size-h.length);else if(Vs(e,t)){var F=f(0,h.length-1);l(C,C.text,_),O&&e.remove(c.line,O),F.length&&e.insert(c.line,F)}else if(b==C)if(h.length==1)l(b,b.text.slice(0,c.ch)+D+b.text.slice(p.ch),_);else{var U=f(1,h.length-1);U.push(new Ur(D+b.text.slice(p.ch),_,r)),l(b,b.text.slice(0,c.ch)+h[0],a(0)),e.insert(c.line+1,U)}else if(h.length==1)l(b,b.text.slice(0,c.ch)+h[0]+C.text.slice(p.ch),a(0)),e.remove(c.line+1,O);else{l(b,b.text.slice(0,c.ch)+h[0],a(0)),l(C,D+C.text.slice(p.ch),_);var q=f(1,h.length-1);O>1&&e.remove(c.line+1,O-1),e.insert(c.line+1,q)}je(e,"change",e,t)}function ur(e,t,n){function r(a,l,f){if(a.linked)for(var c=0;c<a.linked.length;++c){var p=a.linked[c];if(p.doc!=l){var h=f&&p.sharedHist;n&&!h||(t(p.doc,h),r(p.doc,a,h))}}}r(e,null,!0)}function qs(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,ka(e),Ba(e),Ks(e),e.options.direction=t.direction,e.options.lineWrapping||ga(e),e.options.mode=t.modeOption,st(e)}function Ks(e){(e.doc.direction=="rtl"?Ee:Se)(e.display.lineDiv,"CodeMirror-rtl")}function Fc(e){ht(e,function(){Ks(e),st(e)})}function Pi(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Ha(e,t){var n={from:P(t.from),to:lr(t),text:Rt(e,t.from,t.to)};return Xs(e,n,t.from.line,t.to.line+1),ur(e,function(r){return Xs(r,n,t.from.line,t.to.line+1)},!0),n}function Js(e){for(;e.length;){var t=pe(e);if(t.ranges)e.pop();else break}}function Rc(e,t){if(t)return Js(e.done),pe(e.done);if(e.done.length&&!pe(e.done).ranges)return pe(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),pe(e.done)}function Ys(e,t,n,r){var a=e.history;a.undone.length=0;var l=+new Date,f,c;if((a.lastOp==r||a.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&a.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(f=Rc(a,a.lastOp==r)))c=pe(f.changes),v(t.from,t.to)==0&&v(t.from,c.to)==0?c.to=lr(t):f.changes.push(Ha(e,t));else{var p=pe(a.done);for((!p||!p.ranges)&&Ni(e.sel,a.done),f={changes:[Ha(e,t)],generation:a.generation},a.done.push(f);a.done.length>a.undoDepth;)a.done.shift(),a.done[0].ranges||a.done.shift()}a.done.push(n),a.generation=++a.maxGeneration,a.lastModTime=a.lastSelTime=l,a.lastOp=a.lastSelOp=r,a.lastOrigin=a.lastSelOrigin=t.origin,c||le(e,"historyAdded")}function jc(e,t,n,r){var a=t.charAt(0);return a=="*"||a=="+"&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Bc(e,t,n,r){var a=e.history,l=r&&r.origin;n==a.lastSelOp||l&&a.lastSelOrigin==l&&(a.lastModTime==a.lastSelTime&&a.lastOrigin==l||jc(e,l,pe(a.done),t))?a.done[a.done.length-1]=t:Ni(t,a.done),a.lastSelTime=+new Date,a.lastSelOrigin=l,a.lastSelOp=n,r&&r.clearRedo!==!1&&Js(a.undone)}function Ni(e,t){var n=pe(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Xs(e,t,n,r){var a=t["spans_"+e.id],l=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(f){f.markedSpans&&((a||(a=t["spans_"+e.id]={}))[l]=f.markedSpans),++l})}function Wc(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Hc(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],a=0;a<t.text.length;++a)r.push(Wc(n[a]));return r}function Zs(e,t){var n=Hc(e,t),r=da(e,t);if(!n)return r;if(!r)return n;for(var a=0;a<n.length;++a){var l=n[a],f=r[a];if(l&&f){e:for(var c=0;c<f.length;++c){for(var p=f[c],h=0;h<l.length;++h)if(l[h].marker==p.marker)continue e;l.push(p)}}else f&&(n[a]=f)}return n}function Zr(e,t,n){for(var r=[],a=0;a<e.length;++a){var l=e[a];if(l.ranges){r.push(n?wt.prototype.deepCopy.call(l):l);continue}var f=l.changes,c=[];r.push({changes:c});for(var p=0;p<f.length;++p){var h=f[p],b=void 0;if(c.push({from:h.from,to:h.to,text:h.text}),t)for(var C in h)(b=C.match(/^spans_(\d+)$/))&&re(t,Number(b[1]))>-1&&(pe(c)[C]=h[C],delete h[C])}}return r}function za(e,t,n,r){if(r){var a=e.anchor;if(n){var l=v(t,a)<0;l!=v(n,a)<0?(a=t,t=n):l!=v(t,n)<0&&(t=n)}return new Ce(a,t)}else return new Ce(n||t,t)}function Ii(e,t,n,r,a){a==null&&(a=e.cm&&(e.cm.display.shift||e.extend)),Xe(e,new wt([za(e.sel.primary(),t,n,a)],0),r)}function Qs(e,t,n){for(var r=[],a=e.cm&&(e.cm.display.shift||e.extend),l=0;l<e.sel.ranges.length;l++)r[l]=za(e.sel.ranges[l],t[l],null,a);var f=Lt(e.cm,r,e.sel.primIndex);Xe(e,f,n)}function Ua(e,t,n,r){var a=e.sel.ranges.slice(0);a[t]=n,Xe(e,Lt(e.cm,a,e.sel.primIndex),r)}function el(e,t,n,r){Xe(e,sr(t,n),r)}function zc(e,t,n){var r={ranges:t.ranges,update:function(a){this.ranges=[];for(var l=0;l<a.length;l++)this.ranges[l]=new Ce(X(e,a[l].anchor),X(e,a[l].head))},origin:n&&n.origin};return le(e,"beforeSelectionChange",e,r),e.cm&&le(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Lt(e.cm,r.ranges,r.ranges.length-1):t}function tl(e,t,n){var r=e.history.done,a=pe(r);a&&a.ranges?(r[r.length-1]=t,Fi(e,t,n)):Xe(e,t,n)}function Xe(e,t,n){Fi(e,t,n),Bc(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Fi(e,t,n){(Ge(e,"beforeSelectionChange")||e.cm&&Ge(e.cm,"beforeSelectionChange"))&&(t=zc(e,t,n));var r=n&&n.bias||(v(t.primary().head,e.sel.primary().head)<0?-1:1);rl(e,il(e,t,r,!0)),!(n&&n.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&Yr(e.cm)}function rl(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,jr(e.cm)),je(e,"cursorActivity",e))}function nl(e){rl(e,il(e,e.sel,null,!1))}function il(e,t,n,r){for(var a,l=0;l<t.ranges.length;l++){var f=t.ranges[l],c=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[l],p=Ri(e,f.anchor,c&&c.anchor,n,r),h=Ri(e,f.head,c&&c.head,n,r);(a||p!=f.anchor||h!=f.head)&&(a||(a=t.ranges.slice(0,l)),a[l]=new Ce(p,h))}return a?Lt(e.cm,a,t.primIndex):t}function Qr(e,t,n,r,a){var l=te(e,t.line);if(l.markedSpans)for(var f=0;f<l.markedSpans.length;++f){var c=l.markedSpans[f],p=c.marker,h="selectLeft"in p?!p.selectLeft:p.inclusiveLeft,b="selectRight"in p?!p.selectRight:p.inclusiveRight;if((c.from==null||(h?c.from<=t.ch:c.from<t.ch))&&(c.to==null||(b?c.to>=t.ch:c.to>t.ch))){if(a&&(le(p,"beforeCursorEnter"),p.explicitlyCleared))if(l.markedSpans){--f;continue}else break;if(!p.atomic)continue;if(n){var C=p.find(r<0?1:-1),D=void 0;if((r<0?b:h)&&(C=al(e,C,-r,C&&C.line==t.line?l:null)),C&&C.line==t.line&&(D=v(C,n))&&(r<0?D<0:D>0))return Qr(e,C,t,r,a)}var _=p.find(r<0?-1:1);return(r<0?h:b)&&(_=al(e,_,r,_.line==t.line?l:null)),_?Qr(e,_,t,r,a):null}}return t}function Ri(e,t,n,r,a){var l=r||1,f=Qr(e,t,n,l,a)||!a&&Qr(e,t,n,l,!0)||Qr(e,t,n,-l,a)||!a&&Qr(e,t,n,-l,!0);return f||(e.cantEdit=!0,j(e.first,0))}function al(e,t,n,r){return n<0&&t.ch==0?t.line>e.first?X(e,j(t.line-1)):null:n>0&&t.ch==(r||te(e,t.line)).text.length?t.line<e.first+e.size-1?j(t.line+1,0):null:new j(t.line,t.ch+n)}function ol(e){e.setSelection(j(e.firstLine(),0),j(e.lastLine()),ye)}function sl(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(a,l,f,c){a&&(r.from=X(e,a)),l&&(r.to=X(e,l)),f&&(r.text=f),c!==void 0&&(r.origin=c)}),le(e,"beforeChange",e,r),e.cm&&le(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function en(e,t,n){if(e.cm){if(!e.cm.curOp)return Be(e.cm,en)(e,t,n);if(e.cm.state.suppressEdits)return}if(!((Ge(e,"beforeChange")||e.cm&&Ge(e.cm,"beforeChange"))&&(t=sl(e,t,!0),!t))){var r=Zo&&!n&&Bf(e,t.from,t.to);if(r)for(var a=r.length-1;a>=0;--a)ll(e,{from:r[a].from,to:r[a].to,text:a?[""]:t.text,origin:t.origin});else ll(e,t)}}function ll(e,t){if(!(t.text.length==1&&t.text[0]==""&&v(t.from,t.to)==0)){var n=ja(e,t);Ys(e,t,n,e.cm?e.cm.curOp.id:NaN),Gn(e,t,n,da(e,t));var r=[];ur(e,function(a,l){!l&&re(r,a.history)==-1&&(dl(a.history,t),r.push(a.history)),Gn(a,t,null,da(a,t))})}}function ji(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!(r&&!n)){for(var a=e.history,l,f=e.sel,c=t=="undo"?a.done:a.undone,p=t=="undo"?a.undone:a.done,h=0;h<c.length&&(l=c[h],!(n?l.ranges&&!l.equals(e.sel):!l.ranges));h++);if(h!=c.length){for(a.lastOrigin=a.lastSelOrigin=null;;)if(l=c.pop(),l.ranges){if(Ni(l,p),n&&!l.equals(e.sel)){Xe(e,l,{clearRedo:!1});return}f=l}else if(r){c.push(l);return}else break;var b=[];Ni(f,p),p.push({changes:b,generation:a.generation}),a.generation=l.generation||++a.maxGeneration;for(var C=Ge(e,"beforeChange")||e.cm&&Ge(e.cm,"beforeChange"),D=function(F){var U=l.changes[F];if(U.origin=t,C&&!sl(e,U,!1))return c.length=0,{};b.push(Ha(e,U));var q=F?ja(e,U):pe(c);Gn(e,U,q,Zs(e,U)),!F&&e.cm&&e.cm.scrollIntoView({from:U.from,to:lr(U)});var Y=[];ur(e,function(K,Z){!Z&&re(Y,K.history)==-1&&(dl(K.history,U),Y.push(K.history)),Gn(K,U,null,Zs(K,U))})},_=l.changes.length-1;_>=0;--_){var O=D(_);if(O)return O.v}}}}function ul(e,t){if(t!=0&&(e.first+=t,e.sel=new wt(kt(e.sel.ranges,function(a){return new Ce(j(a.anchor.line+t,a.anchor.ch),j(a.head.line+t,a.head.ch))}),e.sel.primIndex),e.cm)){st(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)ar(e.cm,r,"gutter")}}function Gn(e,t,n,r){if(e.cm&&!e.cm.curOp)return Be(e.cm,Gn)(e,t,n,r);if(t.to.line<e.first){ul(e,t.text.length-1-(t.to.line-t.from.line));return}if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var a=t.text.length-1-(e.first-t.from.line);ul(e,a),t={from:j(e.first,0),to:j(t.to.line+a,t.to.ch),text:[pe(t.text)],origin:t.origin}}var l=e.lastLine();t.to.line>l&&(t={from:t.from,to:j(l,te(e,l).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Rt(e,t.from,t.to),n||(n=ja(e,t)),e.cm?Uc(e.cm,t,r):Wa(e,t,r),Fi(e,n,ye),e.cantEdit&&Ri(e,j(e.firstLine(),0))&&(e.cantEdit=!1)}}function Uc(e,t,n){var r=e.doc,a=e.display,l=t.from,f=t.to,c=!1,p=l.line;e.options.lineWrapping||(p=be(At(te(r,l.line))),r.iter(p,f.line+1,function(_){if(_==a.maxLine)return c=!0,!0})),r.sel.contains(t.from,t.to)>-1&&jr(e),Wa(r,t,n,Es(e)),e.options.lineWrapping||(r.iter(p,l.line+t.text.length,function(_){var O=Si(_);O>a.maxLineLength&&(a.maxLine=_,a.maxLineLength=O,a.maxLineChanged=!0,c=!1)}),c&&(e.curOp.updateMaxLine=!0)),Lf(r,l.line),Hn(e,400);var h=t.text.length-(f.line-l.line)-1;t.full?st(e):l.line==f.line&&t.text.length==1&&!Vs(e.doc,t)?ar(e,l.line,"text"):st(e,l.line,f.line+1,h);var b=Ge(e,"changes"),C=Ge(e,"change");if(C||b){var D={from:l,to:f,text:t.text,removed:t.removed,origin:t.origin};C&&je(e,"change",e,D),b&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(D)}e.display.selForContextMenu=null}function tn(e,t,n,r,a){var l;r||(r=n),v(r,n)<0&&(l=[r,n],n=l[0],r=l[1]),typeof t=="string"&&(t=e.splitLines(t)),en(e,{from:n,to:r,text:t,origin:a})}function fl(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function cl(e,t,n,r){for(var a=0;a<e.length;++a){var l=e[a],f=!0;if(l.ranges){l.copied||(l=e[a]=l.deepCopy(),l.copied=!0);for(var c=0;c<l.ranges.length;c++)fl(l.ranges[c].anchor,t,n,r),fl(l.ranges[c].head,t,n,r);continue}for(var p=0;p<l.changes.length;++p){var h=l.changes[p];if(n<h.from.line)h.from=j(h.from.line+r,h.from.ch),h.to=j(h.to.line+r,h.to.ch);else if(t<=h.to.line){f=!1;break}}f||(e.splice(0,a+1),a=0)}}function dl(e,t){var n=t.from.line,r=t.to.line,a=t.text.length-(r-n)-1;cl(e.done,n,r,a),cl(e.undone,n,r,a)}function Vn(e,t,n,r){var a=t,l=t;return typeof t=="number"?l=te(e,ve(e,t)):a=be(t),a==null?null:(r(l,a)&&e.cm&&ar(e.cm,a,n),l)}function qn(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}qn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var a=this.lines[n];this.height-=a.height,Gf(a),je(a,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}};function Kn(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var a=e[r];t+=a.chunkSize(),n+=a.height,a.parent=this}this.size=t,this.height=n,this.parent=null}Kn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],a=r.chunkSize();if(e<a){var l=Math.min(t,a-e),f=r.height;if(r.removeInner(e,l),this.height-=f-r.height,a==l&&(this.children.splice(n--,1),r.parent=null),(t-=l)==0)break;e=0}else e-=a}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof qn))){var c=[];this.collapse(c),this.children=[new qn(c)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var a=this.children[r],l=a.chunkSize();if(e<=l){if(a.insertInner(e,t,n),a.lines&&a.lines.length>50){for(var f=a.lines.length%25+25,c=f;c<a.lines.length;){var p=new qn(a.lines.slice(c,c+=25));a.height-=p.height,this.children.splice(++r,0,p),p.parent=this}a.lines=a.lines.slice(0,f),this.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Kn(t);if(e.parent){e.size-=n.size,e.height-=n.height;var a=re(e.parent.children,e);e.parent.children.splice(a+1,0,n)}else{var r=new Kn(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var a=this.children[r],l=a.chunkSize();if(e<l){var f=Math.min(t,l-e);if(a.iterN(e,f,n))return!0;if((t-=f)==0)break;e=0}else e-=l}}};var Jn=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Jn.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=be(n);if(!(r==null||!t)){for(var a=0;a<t.length;++a)t[a]==this&&t.splice(a--,1);t.length||(n.widgets=null);var l=Nn(this);pt(n,Math.max(0,n.height-l)),e&&(ht(e,function(){pl(e,n,-l),ar(e,r,"widget")}),je(e,"lineWidgetCleared",e,this,r))}},Jn.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var a=Nn(this)-t;!a||(ir(this.doc,r)||pt(r,r.height+a),n&&ht(n,function(){n.curOp.forceUpdate=!0,pl(n,r,a),je(n,"lineWidgetChanged",n,e,be(r))}))},It(Jn);function pl(e,t,n){Jt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&La(e,n)}function Gc(e,t,n,r){var a=new Jn(e,n,r),l=e.cm;return l&&a.noHScroll&&(l.display.alignWidgets=!0),Vn(e,t,"widget",function(f){var c=f.widgets||(f.widgets=[]);if(a.insertAt==null?c.push(a):c.splice(Math.min(c.length,Math.max(0,a.insertAt)),0,a),a.line=f,l&&!ir(e,f)){var p=Jt(f)<e.scrollTop;pt(f,f.height+Nn(a)),p&&La(l,a.height),l.curOp.forceUpdate=!0}return!0}),l&&je(l,"lineWidgetAdded",l,a,typeof t=="number"?t:be(t)),a}var hl=0,fr=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++hl};fr.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Dr(e),Ge(this,"clear")){var n=this.find();n&&je(this,"clear",n.from,n.to)}for(var r=null,a=null,l=0;l<this.lines.length;++l){var f=this.lines[l],c=Mn(f.markedSpans,this);e&&!this.collapsed?ar(e,be(f),"text"):e&&(c.to!=null&&(a=be(f)),c.from!=null&&(r=be(f))),f.markedSpans=If(f.markedSpans,c),c.from==null&&this.collapsed&&!ir(this.doc,f)&&e&&pt(f,qr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var p=0;p<this.lines.length;++p){var h=At(this.lines[p]),b=Si(h);b>e.display.maxLineLength&&(e.display.maxLine=h,e.display.maxLineLength=b,e.display.maxLineChanged=!0)}r!=null&&e&&this.collapsed&&st(e,r,a+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&nl(e.doc)),e&&je(e,"markerCleared",e,this,r,a),t&&kr(e),this.parent&&this.parent.clear()}},fr.prototype.find=function(e,t){e==null&&this.type=="bookmark"&&(e=1);for(var n,r,a=0;a<this.lines.length;++a){var l=this.lines[a],f=Mn(l.markedSpans,this);if(f.from!=null&&(n=j(t?l:be(l),f.from),e==-1))return n;if(f.to!=null&&(r=j(t?l:be(l),f.to),e==1))return r}return n&&{from:n,to:r}},fr.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;!t||!r||ht(r,function(){var a=t.line,l=be(t.line),f=Ca(r,l);if(f&&(Cs(f),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!ir(n.doc,a)&&n.height!=null){var c=n.height;n.height=null;var p=Nn(n)-c;p&&pt(a,a.height+p)}je(r,"markerChanged",r,e)})},fr.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||re(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},fr.prototype.detachLine=function(e){if(this.lines.splice(re(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},It(fr);function rn(e,t,n,r,a){if(r&&r.shared)return Vc(e,t,n,r,a);if(e.cm&&!e.cm.curOp)return Be(e.cm,rn)(e,t,n,r,a);var l=new fr(e,a),f=v(t,n);if(r&&Ke(r,l,!1),f>0||f==0&&l.clearWhenEmpty!==!1)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=E("span",[l.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(is(e,t.line,t,n,l)||t.line!=n.line&&is(e,n.line,t,n,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");Nf()}l.addToHistory&&Ys(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var c=t.line,p=e.cm,h;if(e.iter(c,n.line+1,function(C){p&&l.collapsed&&!p.options.lineWrapping&&At(C)==p.display.maxLine&&(h=!0),l.collapsed&&c!=t.line&&pt(C,0),Ff(C,new yi(l,c==t.line?t.ch:null,c==n.line?n.ch:null),e.cm&&e.cm.curOp),++c}),l.collapsed&&e.iter(t.line,n.line+1,function(C){ir(e,C)&&pt(C,0)}),l.clearOnEnter&&ae(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(Pf(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++hl,l.atomic=!0),p){if(h&&(p.curOp.updateMaxLine=!0),l.collapsed)st(p,t.line,n.line+1);else if(l.className||l.startStyle||l.endStyle||l.css||l.attributes||l.title)for(var b=t.line;b<=n.line;b++)ar(p,b,"text");l.atomic&&nl(p.doc),je(p,"markerAdded",p,l)}return l}var Yn=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Yn.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();je(this,"clear")}},Yn.prototype.find=function(e,t){return this.primary.find(e,t)},It(Yn);function Vc(e,t,n,r,a){r=Ke(r),r.shared=!1;var l=[rn(e,t,n,r,a)],f=l[0],c=r.widgetNode;return ur(e,function(p){c&&(r.widgetNode=c.cloneNode(!0)),l.push(rn(p,X(p,t),X(p,n),r,a));for(var h=0;h<p.linked.length;++h)if(p.linked[h].isParent)return;f=pe(l)}),new Yn(l,f)}function vl(e){return e.findMarks(j(e.first,0),e.clipPos(j(e.lastLine())),function(t){return t.parent})}function qc(e,t){for(var n=0;n<t.length;n++){var r=t[n],a=r.find(),l=e.clipPos(a.from),f=e.clipPos(a.to);if(v(l,f)){var c=rn(e,l,f,r.primary,r.primary.type);r.markers.push(c),c.parent=r}}}function Kc(e){for(var t=function(r){var a=e[r],l=[a.primary.doc];ur(a.primary.doc,function(p){return l.push(p)});for(var f=0;f<a.markers.length;f++){var c=a.markers[f];re(l,c.doc)==-1&&(c.parent=null,a.markers.splice(f--,1))}},n=0;n<e.length;n++)t(n)}var Jc=0,lt=function(e,t,n,r,a){if(!(this instanceof lt))return new lt(e,t,n,r,a);n==null&&(n=0),Kn.call(this,[new qn([new Ur("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var l=j(n,0);this.sel=sr(l),this.history=new Pi(null),this.id=++Jc,this.modeOption=t,this.lineSep=r,this.direction=a=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),Wa(this,{from:l,to:l,text:e}),Xe(this,sr(l),ye)};lt.prototype=ui(Kn.prototype,{constructor:lt,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=$n(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:We(function(e){var t=j(this.first,0),n=this.first+this.size-1;en(this,{from:t,to:j(n,te(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Rn(this.cm,0,0),Xe(this,sr(t),ye)}),replaceRange:function(e,t,n,r){t=X(this,t),n=n?X(this,n):t,tn(this,e,t,n,r)},getRange:function(e,t,n){var r=Rt(this,X(this,e),X(this,t));return n===!1?r:n===""?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(br(this,e))return te(this,e)},getLineNumber:function(e){return be(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=te(this,e)),At(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return X(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return e==null||e=="head"?n=t.head:e=="anchor"?n=t.anchor:e=="end"||e=="to"||e===!1?n=t.to():n=t.from(),n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:We(function(e,t,n){el(this,X(this,typeof e=="number"?j(e,t||0):e),null,n)}),setSelection:We(function(e,t,n){el(this,X(this,e),X(this,t||e),n)}),extendSelection:We(function(e,t,n){Ii(this,X(this,e),t&&X(this,t),n)}),extendSelections:We(function(e,t){Qs(this,Tt(this,e),t)}),extendSelectionsBy:We(function(e,t){var n=kt(this.sel.ranges,e);Qs(this,Tt(this,n),t)}),setSelections:We(function(e,t,n){if(!!e.length){for(var r=[],a=0;a<e.length;a++)r[a]=new Ce(X(this,e[a].anchor),X(this,e[a].head||e[a].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),Xe(this,Lt(this.cm,r,t),n)}}),addSelection:We(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Ce(X(this,e),X(this,t||e))),Xe(this,Lt(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t=this.sel.ranges,n,r=0;r<t.length;r++){var a=Rt(this,t[r].from(),t[r].to());n=n?n.concat(a):a}return e===!1?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var a=Rt(this,n[r].from(),n[r].to());e!==!1&&(a=a.join(e||this.lineSeparator())),t[r]=a}return t},replaceSelection:function(e,t,n){for(var r=[],a=0;a<this.sel.ranges.length;a++)r[a]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:We(function(e,t,n){for(var r=[],a=this.sel,l=0;l<a.ranges.length;l++){var f=a.ranges[l];r[l]={from:f.from(),to:f.to(),text:this.splitLines(e[l]),origin:n}}for(var c=t&&t!="end"&&Ic(this,r,t),p=r.length-1;p>=0;p--)en(this,r[p]);c?tl(this,c):this.cm&&Yr(this.cm)}),undo:We(function(){ji(this,"undo")}),redo:We(function(){ji(this,"redo")}),undoSelection:We(function(){ji(this,"undo",!0)}),redoSelection:We(function(){ji(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var a=0;a<e.undone.length;a++)e.undone[a].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Pi(this.history),ur(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Zr(this.history.done),undone:Zr(this.history.undone)}},setHistory:function(e){var t=this.history=new Pi(this.history);t.done=Zr(e.done.slice(0),null,!0),t.undone=Zr(e.undone.slice(0),null,!0)},setGutterMarker:We(function(e,t,n){return Vn(this,e,"gutter",function(r){var a=r.gutterMarkers||(r.gutterMarkers={});return a[t]=n,!n&&ci(a)&&(r.gutterMarkers=null),!0})}),clearGutter:We(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Vn(t,n,"gutter",function(){return n.gutterMarkers[e]=null,ci(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!br(this,e)||(t=e,e=te(this,e),!e))return null}else if(t=be(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:We(function(e,t,n){return Vn(this,e,t=="gutter"?"gutter":"class",function(r){var a=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!r[a])r[a]=n;else{if(he(n).test(r[a]))return!1;r[a]+=" "+n}return!0})}),removeLineClass:We(function(e,t,n){return Vn(this,e,t=="gutter"?"gutter":"class",function(r){var a=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",l=r[a];if(l)if(n==null)r[a]=null;else{var f=l.match(he(n));if(!f)return!1;var c=f.index+f[0].length;r[a]=l.slice(0,f.index)+(!f.index||c==l.length?"":" ")+l.slice(c)||null}else return!1;return!0})}),addLineWidget:We(function(e,t,n){return Gc(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return rn(this,X(this,e),X(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=X(this,e),rn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=X(this,e);var t=[],n=te(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var a=n[r];(a.from==null||a.from<=e.ch)&&(a.to==null||a.to>=e.ch)&&t.push(a.marker.parent||a.marker)}return t},findMarks:function(e,t,n){e=X(this,e),t=X(this,t);var r=[],a=e.line;return this.iter(e.line,t.line+1,function(l){var f=l.markedSpans;if(f)for(var c=0;c<f.length;c++){var p=f[c];!(p.to!=null&&a==e.line&&e.ch>=p.to||p.from==null&&a!=e.line||p.from!=null&&a==t.line&&p.from>=t.ch)&&(!n||n(p.marker))&&r.push(p.marker.parent||p.marker)}++a}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)n[r].from!=null&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(a){var l=a.text.length+r;if(l>e)return t=e,!0;e-=l,++n}),X(this,j(n,t))},indexFromPos:function(e){e=X(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(r){t+=r.text.length+n}),t},copy:function(e){var t=new lt($n(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<n&&(n=e.to);var r=new lt($n(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],qc(r,vl(this)),r},unlinkDoc:function(e){if(e instanceof De&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Kc(vl(this));break}}if(e.history==this.history){var r=[e.id];ur(e,function(a){return r.push(a.id)},!0),e.history=new Pi(null),e.history.done=Zr(this.history.done,r),e.history.undone=Zr(this.history.undone,r)}},iterLinkedDocs:function(e){ur(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):_n(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:We(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&Fc(this.cm))})}),lt.prototype.eachLine=lt.prototype.iter;var gl=0;function Yc(e){var t=this;if(ml(t),!(Pe(t,e)||Yt(t.display,e))){Je(e),T&&(gl=+new Date);var n=Sr(t,e,!0),r=e.dataTransfer.files;if(!(!n||t.isReadOnly()))if(r&&r.length&&window.FileReader&&window.File)for(var a=r.length,l=Array(a),f=0,c=function(){++f==a&&Be(t,function(){n=X(t.doc,n);var _={from:n,to:n,text:t.doc.splitLines(l.filter(function(O){return O!=null}).join(t.doc.lineSeparator())),origin:"paste"};en(t.doc,_),tl(t.doc,sr(X(t.doc,n),X(t.doc,lr(_))))})()},p=function(_,O){if(t.options.allowDropFileTypes&&re(t.options.allowDropFileTypes,_.type)==-1){c();return}var F=new FileReader;F.onerror=function(){return c()},F.onload=function(){var U=F.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(U)){c();return}l[O]=U,c()},F.readAsText(_)},h=0;h<r.length;h++)p(r[h],h);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1){t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20);return}try{var b=e.dataTransfer.getData("Text");if(b){var C;if(t.state.draggingText&&!t.state.draggingText.copy&&(C=t.listSelections()),Fi(t.doc,sr(n,n)),C)for(var D=0;D<C.length;++D)tn(t.doc,"",C[D].anchor,C[D].head,"drag");t.replaceSelection(b,"around","paste"),t.display.input.focus()}}catch{}}}}function Xc(e,t){if(T&&(!e.state.draggingText||+new Date-gl<100)){yr(t);return}if(!(Pe(e,t)||Yt(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!z)){var n=R("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",I&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),I&&n.parentNode.removeChild(n)}}function Zc(e,t){var n=Sr(e,t);if(!!n){var r=document.createDocumentFragment();Ea(e,n,r),e.display.dragCursor||(e.display.dragCursor=R("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),N(e.display.dragCursor,r)}}function ml(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function yl(e){if(!!document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var a=t[r].CodeMirror;a&&n.push(a)}n.length&&n[0].operation(function(){for(var l=0;l<n.length;l++)e(n[l])})}}var bl=!1;function Qc(){bl||(ed(),bl=!0)}function ed(){var e;ae(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,yl(td)},100))}),ae(window,"blur",function(){return yl(Jr)})}function td(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var cr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Xn=0;Xn<10;Xn++)cr[Xn+48]=cr[Xn+96]=String(Xn);for(var Bi=65;Bi<=90;Bi++)cr[Bi]=String.fromCharCode(Bi);for(var Zn=1;Zn<=12;Zn++)cr[Zn+111]=cr[Zn+63235]="F"+Zn;var Zt={};Zt.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Zt.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Zt.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Zt.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Zt.default=L?Zt.macDefault:Zt.pcDefault;function rd(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,a,l,f=0;f<t.length-1;f++){var c=t[f];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))a=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),l&&(e="Cmd-"+e),a&&(e="Shift-"+e),e}function nd(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if(r=="..."){delete e[n];continue}for(var a=kt(n.split(" "),rd),l=0;l<a.length;l++){var f=void 0,c=void 0;l==a.length-1?(c=a.join(" "),f=r):(c=a.slice(0,l+1).join(" "),f="...");var p=t[c];if(!p)t[c]=f;else if(p!=f)throw new Error("Inconsistent bindings for "+c)}delete e[n]}for(var h in t)e[h]=t[h];return e}function nn(e,t,n,r){t=Wi(t);var a=t.call?t.call(e,r):t[e];if(a===!1)return"nothing";if(a==="...")return"multi";if(a!=null&&n(a))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return nn(e,t.fallthrough,n,r);for(var l=0;l<t.fallthrough.length;l++){var f=nn(e,t.fallthrough[l],n,r);if(f)return f}}}function Cl(e){var t=typeof e=="string"?e:cr[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function xl(e,t,n){var r=e;return t.altKey&&r!="Alt"&&(e="Alt-"+e),(fe?t.metaKey:t.ctrlKey)&&r!="Ctrl"&&(e="Ctrl-"+e),(fe?t.ctrlKey:t.metaKey)&&r!="Mod"&&(e="Cmd-"+e),!n&&t.shiftKey&&r!="Shift"&&(e="Shift-"+e),e}function Sl(e,t){if(I&&e.keyCode==34&&e.char)return!1;var n=cr[e.keyCode];return n==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(n=e.code),xl(n,e,t))}function Wi(e){return typeof e=="string"?Zt[e]:e}function an(e,t){for(var n=e.doc.sel.ranges,r=[],a=0;a<n.length;a++){for(var l=t(n[a]);r.length&&v(l.from,pe(r).to)<=0;){var f=r.pop();if(v(f.from,l.from)<0){l.from=f.from;break}}r.push(l)}ht(e,function(){for(var c=r.length-1;c>=0;c--)tn(e.doc,"",r[c].from,r[c].to,"+delete");Yr(e)})}function Ga(e,t,n){var r=di(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Va(e,t,n){var r=Ga(e,t.ch,n);return r==null?null:new j(t.line,r,n<0?"after":"before")}function qa(e,t,n,r,a){if(e){t.doc.direction=="rtl"&&(a=-a);var l=dt(n,t.doc.direction);if(l){var f=a<0?pe(l):l[0],c=a<0==(f.level==1),p=c?"after":"before",h;if(f.level>0||t.doc.direction=="rtl"){var b=Vr(t,n);h=a<0?n.text.length-1:0;var C=Ht(t,b,h).top;h=Nt(function(D){return Ht(t,b,D).top==C},a<0==(f.level==1)?f.from:f.to-1,h),p=="before"&&(h=Ga(n,h,1))}else h=a<0?f.to:f.from;return new j(r,h,p)}}return new j(r,a<0?n.text.length:0,a<0?"before":"after")}function id(e,t,n,r){var a=dt(t,e.doc.direction);if(!a)return Va(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var l=$e(a,n.ch,n.sticky),f=a[l];if(e.doc.direction=="ltr"&&f.level%2==0&&(r>0?f.to>n.ch:f.from<n.ch))return Va(t,n,r);var c=function(q,Y){return Ga(t,q instanceof j?q.ch:q,Y)},p,h=function(q){return e.options.lineWrapping?(p=p||Vr(e,t),ks(e,t,p,q)):{begin:0,end:t.text.length}},b=h(n.sticky=="before"?c(n,-1):n.ch);if(e.doc.direction=="rtl"||f.level==1){var C=f.level==1==r<0,D=c(n,C?1:-1);if(D!=null&&(C?D<=f.to&&D<=b.end:D>=f.from&&D>=b.begin)){var _=C?"before":"after";return new j(n.line,D,_)}}var O=function(q,Y,K){for(var Z=function(Te,He){return He?new j(n.line,c(Te,1),"before"):new j(n.line,Te,"after")};q>=0&&q<a.length;q+=Y){var ie=a[q],ne=Y>0==(ie.level!=1),de=ne?K.begin:c(K.end,-1);if(ie.from<=de&&de<ie.to||(de=ne?ie.from:c(ie.to,-1),K.begin<=de&&de<K.end))return Z(de,ne)}},F=O(l+r,r,b);if(F)return F;var U=r>0?b.end:c(b.begin,-1);return U!=null&&!(r>0&&U==t.text.length)&&(F=O(r>0?0:a.length-1,r,h(U)),F)?F:null}var Qn={selectAll:ol,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),ye)},killLine:function(e){return an(e,function(t){if(t.empty()){var n=te(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:j(t.head.line+1,0)}:{from:t.head,to:j(t.head.line,n)}}else return{from:t.from(),to:t.to()}})},deleteLine:function(e){return an(e,function(t){return{from:j(t.from().line,0),to:X(e.doc,j(t.to().line+1,0))}})},delLineLeft:function(e){return an(e,function(t){return{from:j(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return an(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return an(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(j(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(j(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Tl(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return wl(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return ad(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},ge)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},ge)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?wl(e,t.head):r},ge)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,a=0;a<n.length;a++){var l=n[a].from(),f=we(e.getLine(l.line),l.ch,r);t.push(Nr(r-f%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return ht(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(!!t[r].empty()){var a=t[r].head,l=te(e.doc,a.line).text;if(l){if(a.ch==l.length&&(a=new j(a.line,a.ch-1)),a.ch>0)a=new j(a.line,a.ch+1),e.replaceRange(l.charAt(a.ch-1)+l.charAt(a.ch-2),j(a.line,a.ch-2),a,"+transpose");else if(a.line>e.doc.first){var f=te(e.doc,a.line-1).text;f&&(a=new j(a.line,1),e.replaceRange(l.charAt(0)+e.doc.lineSeparator()+f.charAt(f.length-1),j(a.line-1,f.length-1),a,"+transpose"))}}n.push(new Ce(a,a))}e.setSelections(n)})},newlineAndIndent:function(e){return ht(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Yr(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Tl(e,t){var n=te(e.doc,t),r=At(n);return r!=n&&(t=be(r)),qa(!0,e,r,t,1)}function ad(e,t){var n=te(e.doc,t),r=Hf(n);return r!=n&&(t=be(r)),qa(!0,e,n,t,-1)}function wl(e,t){var n=Tl(e,t.line),r=te(e.doc,n.line),a=dt(r,e.doc.direction);if(!a||a[0].level==0){var l=Math.max(n.ch,r.text.search(/\S/)),f=t.line==n.line&&t.ch<=l&&t.ch;return j(n.line,f?0:l,n.sticky)}return n}function Hi(e,t,n){if(typeof t=="string"&&(t=Qn[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,a=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),a=t(e)!=ce}finally{e.display.shift=r,e.state.suppressEdits=!1}return a}function od(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var a=nn(t,e.state.keyMaps[r],n,e);if(a)return a}return e.options.extraKeys&&nn(t,e.options.extraKeys,n,e)||nn(t,e.options.keyMap,n,e)}var sd=new _e;function ei(e,t,n,r){var a=e.state.keySeq;if(a){if(Cl(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:sd.set(50,function(){e.state.keySeq==a&&(e.state.keySeq=null,e.display.input.reset())}),_l(e,a+" "+t,n,r))return!0}return _l(e,t,n,r)}function _l(e,t,n,r){var a=od(e,t,r);return a=="multi"&&(e.state.keySeq=t),a=="handled"&&je(e,"keyHandled",e,t,n),(a=="handled"||a=="multi")&&(Je(n),$a(e)),!!a}function Dl(e,t){var n=Sl(t,!0);return n?t.shiftKey&&!e.state.keySeq?ei(e,"Shift-"+n,t,function(r){return Hi(e,r,!0)})||ei(e,n,t,function(r){if(typeof r=="string"?/^go[A-Z]/.test(r):r.motion)return Hi(e,r)}):ei(e,n,t,function(r){return Hi(e,r)}):!1}function ld(e,t,n){return ei(e,"'"+n+"'",t,function(r){return Hi(e,r,!0)})}var Ka=null;function kl(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&(t.curOp.focus=me(),!Pe(t,e))){T&&w<11&&e.keyCode==27&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=n==16||e.shiftKey;var r=Dl(t,e);I&&(Ka=r?n:null,!r&&n==88&&!gi&&(L?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),d&&!L&&!r&&n==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),n==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&ud(t)}}function ud(e){var t=e.display.lineDiv;Ee(t,"CodeMirror-crosshair");function n(r){(r.keyCode==18||!r.altKey)&&(Se(t,"CodeMirror-crosshair"),at(document,"keyup",n),at(document,"mouseover",n))}ae(document,"keyup",n),ae(document,"mouseover",n)}function El(e){e.keyCode==16&&(this.doc.sel.shift=!1),Pe(this,e)}function $l(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&!(Yt(t.display,e)||Pe(t,e)||e.ctrlKey&&!e.altKey||L&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(I&&n==Ka){Ka=null,Je(e);return}if(!(I&&(!e.which||e.which<10)&&Dl(t,e))){var a=String.fromCharCode(r==null?n:r);a!="\b"&&(ld(t,e,a)||t.display.input.onKeyPress(e))}}}var fd=400,Ja=function(e,t,n){this.time=e,this.pos=t,this.button=n};Ja.prototype.compare=function(e,t,n){return this.time+fd>e&&v(t,this.pos)==0&&n==this.button};var ti,ri;function cd(e,t){var n=+new Date;return ri&&ri.compare(n,e,t)?(ti=ri=null,"triple"):ti&&ti.compare(n,e,t)?(ri=new Ja(n,e,t),ti=null,"double"):(ti=new Ja(n,e,t),ri=null,"single")}function Ol(e){var t=this,n=t.display;if(!(Pe(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Yt(n,e)){S||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));return}if(!Ya(t,e)){var r=Sr(t,e),a=pi(e),l=r?cd(r,a):"single";window.focus(),a==1&&t.state.selectingText&&t.state.selectingText(e),!(r&&dd(t,a,r,l,e))&&(a==1?r?hd(t,r,l,e):rr(e)==n.scroller&&Je(e):a==2?(r&&Ii(t.doc,r),setTimeout(function(){return n.input.focus()},20)):a==3&&(ee?t.display.input.onContextMenu(e):Oa(t)))}}}function dd(e,t,n,r,a){var l="Click";return r=="double"?l="Double"+l:r=="triple"&&(l="Triple"+l),l=(t==1?"Left":t==2?"Middle":"Right")+l,ei(e,xl(l,a),a,function(f){if(typeof f=="string"&&(f=Qn[f]),!f)return!1;var c=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),c=f(e,n)!=ce}finally{e.state.suppressEdits=!1}return c})}function pd(e,t,n){var r=e.getOption("configureMouse"),a=r?r(e,t,n):{};if(a.unit==null){var l=B?n.shiftKey&&n.metaKey:n.altKey;a.unit=l?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(a.extend==null||e.doc.extend)&&(a.extend=e.doc.extend||n.shiftKey),a.addNew==null&&(a.addNew=L?n.metaKey:n.ctrlKey),a.moveOnDrag==null&&(a.moveOnDrag=!(L?n.altKey:n.ctrlKey)),a}function hd(e,t,n,r){T?setTimeout(qe(As,e),0):e.curOp.focus=me();var a=pd(e,n,r),l=e.doc.sel,f;e.options.dragDrop&&Tn&&!e.isReadOnly()&&n=="single"&&(f=l.contains(t))>-1&&(v((f=l.ranges[f]).from(),t)<0||t.xRel>0)&&(v(f.to(),t)>0||t.xRel<0)?vd(e,r,t,a):gd(e,r,t,a)}function vd(e,t,n,r){var a=e.display,l=!1,f=Be(e,function(h){S&&(a.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Oa(e)),at(a.wrapper.ownerDocument,"mouseup",f),at(a.wrapper.ownerDocument,"mousemove",c),at(a.scroller,"dragstart",p),at(a.scroller,"drop",f),l||(Je(h),r.addNew||Ii(e.doc,n,null,null,r.extend),S&&!z||T&&w==9?setTimeout(function(){a.wrapper.ownerDocument.body.focus({preventScroll:!0}),a.input.focus()},20):a.input.focus())}),c=function(h){l=l||Math.abs(t.clientX-h.clientX)+Math.abs(t.clientY-h.clientY)>=10},p=function(){return l=!0};S&&(a.scroller.draggable=!0),e.state.draggingText=f,f.copy=!r.moveOnDrag,ae(a.wrapper.ownerDocument,"mouseup",f),ae(a.wrapper.ownerDocument,"mousemove",c),ae(a.scroller,"dragstart",p),ae(a.scroller,"drop",f),e.state.delayingBlurEvent=!0,setTimeout(function(){return a.input.focus()},20),a.scroller.dragDrop&&a.scroller.dragDrop()}function Al(e,t,n){if(n=="char")return new Ce(t,t);if(n=="word")return e.findWordAt(t);if(n=="line")return new Ce(j(t.line,0),X(e.doc,j(t.line+1,0)));var r=n(e,t);return new Ce(r.from,r.to)}function gd(e,t,n,r){T&&Oa(e);var a=e.display,l=e.doc;Je(t);var f,c,p=l.sel,h=p.ranges;if(r.addNew&&!r.extend?(c=l.sel.contains(n),c>-1?f=h[c]:f=new Ce(n,n)):(f=l.sel.primary(),c=l.sel.primIndex),r.unit=="rectangle")r.addNew||(f=new Ce(n,n)),n=Sr(e,t,!0,!0),c=-1;else{var b=Al(e,n,r.unit);r.extend?f=za(f,b.anchor,b.head,r.extend):f=b}r.addNew?c==-1?(c=h.length,Xe(l,Lt(e,h.concat([f]),c),{scroll:!1,origin:"*mouse"})):h.length>1&&h[c].empty()&&r.unit=="char"&&!r.extend?(Xe(l,Lt(e,h.slice(0,c).concat(h.slice(c+1)),0),{scroll:!1,origin:"*mouse"}),p=l.sel):Ua(l,c,f,Gt):(c=0,Xe(l,new wt([f],0),Gt),p=l.sel);var C=n;function D(K){if(v(C,K)!=0)if(C=K,r.unit=="rectangle"){for(var Z=[],ie=e.options.tabSize,ne=we(te(l,n.line).text,n.ch,ie),de=we(te(l,K.line).text,K.ch,ie),Te=Math.min(ne,de),He=Math.max(ne,de),ke=Math.min(n.line,K.line),vt=Math.min(e.lastLine(),Math.max(n.line,K.line));ke<=vt;ke++){var ut=te(l,ke).text,Ne=Re(ut,Te,ie);Te==He?Z.push(new Ce(j(ke,Ne),j(ke,Ne))):ut.length>Ne&&Z.push(new Ce(j(ke,Ne),j(ke,Re(ut,He,ie))))}Z.length||Z.push(new Ce(n,n)),Xe(l,Lt(e,p.ranges.slice(0,c).concat(Z),c),{origin:"*mouse",scroll:!1}),e.scrollIntoView(K)}else{var ft=f,Ve=Al(e,K,r.unit),Fe=ft.anchor,Ie;v(Ve.anchor,Fe)>0?(Ie=Ve.head,Fe=ue(ft.from(),Ve.anchor)):(Ie=Ve.anchor,Fe=H(ft.to(),Ve.head));var Ae=p.ranges.slice(0);Ae[c]=md(e,new Ce(X(l,Fe),Ie)),Xe(l,Lt(e,Ae,c),Gt)}}var _=a.wrapper.getBoundingClientRect(),O=0;function F(K){var Z=++O,ie=Sr(e,K,!0,r.unit=="rectangle");if(!!ie)if(v(ie,C)!=0){e.curOp.focus=me(),D(ie);var ne=Oi(a,l);(ie.line>=ne.to||ie.line<ne.from)&&setTimeout(Be(e,function(){O==Z&&F(K)}),150)}else{var de=K.clientY<_.top?-20:K.clientY>_.bottom?20:0;de&&setTimeout(Be(e,function(){O==Z&&(a.scroller.scrollTop+=de,F(K))}),50)}}function U(K){e.state.selectingText=!1,O=1/0,K&&(Je(K),a.input.focus()),at(a.wrapper.ownerDocument,"mousemove",q),at(a.wrapper.ownerDocument,"mouseup",Y),l.history.lastSelOrigin=null}var q=Be(e,function(K){K.buttons===0||!pi(K)?U(K):F(K)}),Y=Be(e,U);e.state.selectingText=Y,ae(a.wrapper.ownerDocument,"mousemove",q),ae(a.wrapper.ownerDocument,"mouseup",Y)}function md(e,t){var n=t.anchor,r=t.head,a=te(e.doc,n.line);if(v(n,r)==0&&n.sticky==r.sticky)return t;var l=dt(a);if(!l)return t;var f=$e(l,n.ch,n.sticky),c=l[f];if(c.from!=n.ch&&c.to!=n.ch)return t;var p=f+(c.from==n.ch==(c.level!=1)?0:1);if(p==0||p==l.length)return t;var h;if(r.line!=n.line)h=(r.line-n.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var b=$e(l,r.ch,r.sticky),C=b-f||(r.ch-n.ch)*(c.level==1?-1:1);b==p-1||b==p?h=C<0:h=C>0}var D=l[p+(h?-1:0)],_=h==(D.level==1),O=_?D.from:D.to,F=_?"after":"before";return n.ch==O&&n.sticky==F?t:new Ce(new j(n.line,O,F),r)}function Ml(e,t,n,r){var a,l;if(t.touches)a=t.touches[0].clientX,l=t.touches[0].clientY;else try{a=t.clientX,l=t.clientY}catch{return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Je(t);var f=e.display,c=f.lineDiv.getBoundingClientRect();if(l>c.bottom||!Ge(e,n))return Ct(t);l-=c.top-f.viewOffset;for(var p=0;p<e.display.gutterSpecs.length;++p){var h=f.gutters.childNodes[p];if(h&&h.getBoundingClientRect().right>=a){var b=jt(e.doc,l),C=e.display.gutterSpecs[p];return le(e,n,e,b,C.className,t),Ct(t)}}}function Ya(e,t){return Ml(e,t,"gutterClick",!0)}function Ll(e,t){Yt(e.display,t)||yd(e,t)||Pe(e,t,"contextmenu")||ee||e.display.input.onContextMenu(t)}function yd(e,t){return Ge(e,"gutterContextMenu")?Ml(e,t,"gutterContextMenu",!1):!1}function Pl(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),In(e)}var on={toString:function(){return"CodeMirror.Init"}},Nl={},zi={};function bd(e){var t=e.optionHandlers;function n(r,a,l,f){e.defaults[r]=a,l&&(t[r]=f?function(c,p,h){h!=on&&l(c,p,h)}:l)}e.defineOption=n,e.Init=on,n("value","",function(r,a){return r.setValue(a)},!0),n("mode",null,function(r,a){r.doc.modeOption=a,Ba(r)},!0),n("indentUnit",2,Ba,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(r){Un(r),In(r),st(r)},!0),n("lineSeparator",null,function(r,a){if(r.doc.lineSep=a,!!a){var l=[],f=r.doc.first;r.doc.iter(function(p){for(var h=0;;){var b=p.text.indexOf(a,h);if(b==-1)break;h=b+a.length,l.push(j(f,b))}f++});for(var c=l.length-1;c>=0;c--)tn(r.doc,a,l[c],j(l[c].line,l[c].ch+a.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(r,a,l){r.state.specialChars=new RegExp(a.source+(a.test("	")?"":"|	"),"g"),l!=on&&r.refresh()}),n("specialCharPlaceholder",Kf,function(r){return r.refresh()},!0),n("electricChars",!0),n("inputStyle",$?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(r,a){return r.getInputField().spellcheck=a},!0),n("autocorrect",!1,function(r,a){return r.getInputField().autocorrect=a},!0),n("autocapitalize",!1,function(r,a){return r.getInputField().autocapitalize=a},!0),n("rtlMoveVisually",!W),n("wholeLineUpdateBefore",!0),n("theme","default",function(r){Pl(r),zn(r)},!0),n("keyMap","default",function(r,a,l){var f=Wi(a),c=l!=on&&Wi(l);c&&c.detach&&c.detach(r,f),f.attach&&f.attach(r,c||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,xd,!0),n("gutters",[],function(r,a){r.display.gutterSpecs=Ra(a,r.options.lineNumbers),zn(r)},!0),n("fixedGutter",!0,function(r,a){r.display.gutters.style.left=a?Da(r.display)+"px":"0",r.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(r){return Xr(r)},!0),n("scrollbarStyle","native",function(r){Fs(r),Xr(r),r.display.scrollbars.setScrollTop(r.doc.scrollTop),r.display.scrollbars.setScrollLeft(r.doc.scrollLeft)},!0),n("lineNumbers",!1,function(r,a){r.display.gutterSpecs=Ra(r.options.gutters,a),zn(r)},!0),n("firstLineNumber",1,zn,!0),n("lineNumberFormatter",function(r){return r},zn,!0),n("showCursorWhenSelecting",!1,Fn,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(r,a){a=="nocursor"&&(Jr(r),r.display.input.blur()),r.display.input.readOnlyChanged(a)}),n("screenReaderLabel",null,function(r,a){a=a===""?null:a,r.display.input.screenReaderLabelChanged(a)}),n("disableInput",!1,function(r,a){a||r.display.input.reset()},!0),n("dragDrop",!0,Cd),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Fn,!0),n("singleCursorHeightPerLine",!0,Fn,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Un,!0),n("addModeClass",!1,Un,!0),n("pollInterval",100),n("undoDepth",200,function(r,a){return r.doc.history.undoDepth=a}),n("historyEventDelay",1250),n("viewportMargin",10,function(r){return r.refresh()},!0),n("maxHighlightLength",1e4,Un,!0),n("moveInputWithCursor",!0,function(r,a){a||r.display.input.resetPosition()}),n("tabindex",null,function(r,a){return r.display.input.getField().tabIndex=a||""}),n("autofocus",null),n("direction","ltr",function(r,a){return r.doc.setDirection(a)},!0),n("phrases",null)}function Cd(e,t,n){var r=n&&n!=on;if(!t!=!r){var a=e.display.dragFunctions,l=t?ae:at;l(e.display.scroller,"dragstart",a.start),l(e.display.scroller,"dragenter",a.enter),l(e.display.scroller,"dragover",a.over),l(e.display.scroller,"dragleave",a.leave),l(e.display.scroller,"drop",a.drop)}}function xd(e){e.options.lineWrapping?(Ee(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Se(e.display.wrapper,"CodeMirror-wrap"),ga(e)),ka(e),st(e),In(e),setTimeout(function(){return Xr(e)},100)}function De(e,t){var n=this;if(!(this instanceof De))return new De(e,t);this.options=t=t?Ke(t):{},Ke(Nl,t,!1);var r=t.value;typeof r=="string"?r=new lt(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var a=new De.inputStyles[t.inputStyle](this),l=this.display=new Pc(e,r,a,t);l.wrapper.CodeMirror=this,Pl(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Fs(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new _e,keySeq:null,specialChars:null},t.autofocus&&!$&&l.input.focus(),T&&w<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Sd(this),Qc(),Dr(this),this.curOp.forceUpdate=!0,qs(this,r),t.autofocus&&!$||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&Aa(n)},20):Jr(this);for(var f in zi)zi.hasOwnProperty(f)&&zi[f](this,t[f],on);Bs(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Xa.length;++c)Xa[c](this);kr(this),S&&t.lineWrapping&&getComputedStyle(l.lineDiv).textRendering=="optimizelegibility"&&(l.lineDiv.style.textRendering="auto")}De.defaults=Nl,De.optionHandlers=zi;function Sd(e){var t=e.display;ae(t.scroller,"mousedown",Be(e,Ol)),T&&w<11?ae(t.scroller,"dblclick",Be(e,function(p){if(!Pe(e,p)){var h=Sr(e,p);if(!(!h||Ya(e,p)||Yt(e.display,p))){Je(p);var b=e.findWordAt(h);Ii(e.doc,b.anchor,b.head)}}})):ae(t.scroller,"dblclick",function(p){return Pe(e,p)||Je(p)}),ae(t.scroller,"contextmenu",function(p){return Ll(e,p)}),ae(t.input.getField(),"contextmenu",function(p){t.scroller.contains(p.target)||Ll(e,p)});var n,r={end:0};function a(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),r=t.activeTouch,r.end=+new Date)}function l(p){if(p.touches.length!=1)return!1;var h=p.touches[0];return h.radiusX<=1&&h.radiusY<=1}function f(p,h){if(h.left==null)return!0;var b=h.left-p.left,C=h.top-p.top;return b*b+C*C>20*20}ae(t.scroller,"touchstart",function(p){if(!Pe(e,p)&&!l(p)&&!Ya(e,p)){t.input.ensurePolled(),clearTimeout(n);var h=+new Date;t.activeTouch={start:h,moved:!1,prev:h-r.end<=300?r:null},p.touches.length==1&&(t.activeTouch.left=p.touches[0].pageX,t.activeTouch.top=p.touches[0].pageY)}}),ae(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),ae(t.scroller,"touchend",function(p){var h=t.activeTouch;if(h&&!Yt(t,p)&&h.left!=null&&!h.moved&&new Date-h.start<300){var b=e.coordsChar(t.activeTouch,"page"),C;!h.prev||f(h,h.prev)?C=new Ce(b,b):!h.prev.prev||f(h,h.prev.prev)?C=e.findWordAt(b):C=new Ce(j(b.line,0),X(e.doc,j(b.line+1,0))),e.setSelection(C.anchor,C.head),e.focus(),Je(p)}a()}),ae(t.scroller,"touchcancel",a),ae(t.scroller,"scroll",function(){t.scroller.clientHeight&&(jn(e,t.scroller.scrollTop),wr(e,t.scroller.scrollLeft,!0),le(e,"scroll",e))}),ae(t.scroller,"mousewheel",function(p){return zs(e,p)}),ae(t.scroller,"DOMMouseScroll",function(p){return zs(e,p)}),ae(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(p){Pe(e,p)||yr(p)},over:function(p){Pe(e,p)||(Zc(e,p),yr(p))},start:function(p){return Xc(e,p)},drop:Be(e,Yc),leave:function(p){Pe(e,p)||ml(e)}};var c=t.input.getField();ae(c,"keyup",function(p){return El.call(e,p)}),ae(c,"keydown",Be(e,kl)),ae(c,"keypress",Be(e,$l)),ae(c,"focus",function(p){return Aa(e,p)}),ae(c,"blur",function(p){return Jr(e,p)})}var Xa=[];De.defineInitHook=function(e){return Xa.push(e)};function ni(e,t,n,r){var a=e.doc,l;n==null&&(n="add"),n=="smart"&&(a.mode.indent?l=An(e,t).state:n="prev");var f=e.options.tabSize,c=te(a,t),p=we(c.text,null,f);c.stateAfter&&(c.stateAfter=null);var h=c.text.match(/^\s*/)[0],b;if(!r&&!/\S/.test(c.text))b=0,n="not";else if(n=="smart"&&(b=a.mode.indent(l,c.text.slice(h.length),c.text),b==ce||b>150)){if(!r)return;n="prev"}n=="prev"?t>a.first?b=we(te(a,t-1).text,null,f):b=0:n=="add"?b=p+e.options.indentUnit:n=="subtract"?b=p-e.options.indentUnit:typeof n=="number"&&(b=p+n),b=Math.max(0,b);var C="",D=0;if(e.options.indentWithTabs)for(var _=Math.floor(b/f);_;--_)D+=f,C+="	";if(D<b&&(C+=Nr(b-D)),C!=h)return tn(a,C,j(t,0),j(t,h.length),"+input"),c.stateAfter=null,!0;for(var O=0;O<a.sel.ranges.length;O++){var F=a.sel.ranges[O];if(F.head.line==t&&F.head.ch<h.length){var U=j(t,h.length);Ua(a,O,new Ce(U,U));break}}}var Pt=null;function Ui(e){Pt=e}function Za(e,t,n,r,a){var l=e.doc;e.display.shift=!1,r||(r=l.sel);var f=+new Date-200,c=a=="paste"||e.state.pasteIncoming>f,p=_n(t),h=null;if(c&&r.ranges.length>1)if(Pt&&Pt.text.join(`
`)==t){if(r.ranges.length%Pt.text.length==0){h=[];for(var b=0;b<Pt.text.length;b++)h.push(l.splitLines(Pt.text[b]))}}else p.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(h=kt(p,function(q){return[q]}));for(var C=e.curOp.updateInput,D=r.ranges.length-1;D>=0;D--){var _=r.ranges[D],O=_.from(),F=_.to();_.empty()&&(n&&n>0?O=j(O.line,O.ch-n):e.state.overwrite&&!c?F=j(F.line,Math.min(te(l,F.line).text.length,F.ch+pe(p).length)):c&&Pt&&Pt.lineWise&&Pt.text.join(`
`)==p.join(`
`)&&(O=F=j(O.line,0)));var U={from:O,to:F,text:h?h[D%h.length]:p,origin:a||(c?"paste":e.state.cutIncoming>f?"cut":"+input")};en(e.doc,U),je(e,"inputRead",e,U)}t&&!c&&Fl(e,t),Yr(e),e.curOp.updateInput<2&&(e.curOp.updateInput=C),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Il(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&t.hasFocus()&&ht(t,function(){return Za(t,n,0,null,"paste")}),!0}function Fl(e,t){if(!(!e.options.electricChars||!e.options.smartIndent))for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var a=n.ranges[r];if(!(a.head.ch>100||r&&n.ranges[r-1].head.line==a.head.line)){var l=e.getModeAt(a.head),f=!1;if(l.electricChars){for(var c=0;c<l.electricChars.length;c++)if(t.indexOf(l.electricChars.charAt(c))>-1){f=ni(e,a.head.line,"smart");break}}else l.electricInput&&l.electricInput.test(te(e.doc,a.head.line).text.slice(0,a.head.ch))&&(f=ni(e,a.head.line,"smart"));f&&je(e,"electricInput",e,a.head.line)}}}function Rl(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var a=e.doc.sel.ranges[r].head.line,l={anchor:j(a,0),head:j(a+1,0)};n.push(l),t.push(e.getRange(l.anchor,l.head))}return{text:t,ranges:n}}function jl(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Bl(){var e=R("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=R("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return S?e.style.width="1000px":e.setAttribute("wrap","off"),G&&(e.style.border="1px solid black"),jl(e),t}function Td(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(r,a){var l=this.options,f=l[r];l[r]==a&&r!="mode"||(l[r]=a,t.hasOwnProperty(r)&&Be(this,t[r])(this,a,f),le(this,"optionChange",this,r))},getOption:function(r){return this.options[r]},getDoc:function(){return this.doc},addKeyMap:function(r,a){this.state.keyMaps[a?"push":"unshift"](Wi(r))},removeKeyMap:function(r){for(var a=this.state.keyMaps,l=0;l<a.length;++l)if(a[l]==r||a[l].name==r)return a.splice(l,1),!0},addOverlay:rt(function(r,a){var l=r.token?r:e.getMode(this.options,r);if(l.startState)throw new Error("Overlays may not be stateful.");tr(this.state.overlays,{mode:l,modeSpec:r,opaque:a&&a.opaque,priority:a&&a.priority||0},function(f){return f.priority}),this.state.modeGen++,st(this)}),removeOverlay:rt(function(r){for(var a=this.state.overlays,l=0;l<a.length;++l){var f=a[l].modeSpec;if(f==r||typeof r=="string"&&f.name==r){a.splice(l,1),this.state.modeGen++,st(this);return}}}),indentLine:rt(function(r,a,l){typeof a!="string"&&typeof a!="number"&&(a==null?a=this.options.smartIndent?"smart":"prev":a=a?"add":"subtract"),br(this.doc,r)&&ni(this,r,a,l)}),indentSelection:rt(function(r){for(var a=this.doc.sel.ranges,l=-1,f=0;f<a.length;f++){var c=a[f];if(c.empty())c.head.line>l&&(ni(this,c.head.line,r,!0),l=c.head.line,f==this.doc.sel.primIndex&&Yr(this));else{var p=c.from(),h=c.to(),b=Math.max(l,p.line);l=Math.min(this.lastLine(),h.line-(h.ch?0:1))+1;for(var C=b;C<l;++C)ni(this,C,r);var D=this.doc.sel.ranges;p.ch==0&&a.length==D.length&&D[f].from().ch>0&&Ua(this.doc,f,new Ce(p,D[f].to()),ye)}}}),getTokenAt:function(r,a){return Jo(this,r,a)},getLineTokens:function(r,a){return Jo(this,j(r),a,!0)},getTokenTypeAt:function(r){r=X(this.doc,r);var a=Vo(this,te(this.doc,r.line)),l=0,f=(a.length-1)/2,c=r.ch,p;if(c==0)p=a[2];else for(;;){var h=l+f>>1;if((h?a[h*2-1]:0)>=c)f=h;else if(a[h*2+1]<c)l=h+1;else{p=a[h*2+2];break}}var b=p?p.indexOf("overlay "):-1;return b<0?p:b==0?null:p.slice(0,b-1)},getModeAt:function(r){var a=this.doc.mode;return a.innerMode?e.innerMode(a,this.getTokenAt(r).state).mode:a},getHelper:function(r,a){return this.getHelpers(r,a)[0]},getHelpers:function(r,a){var l=[];if(!n.hasOwnProperty(a))return l;var f=n[a],c=this.getModeAt(r);if(typeof c[a]=="string")f[c[a]]&&l.push(f[c[a]]);else if(c[a])for(var p=0;p<c[a].length;p++){var h=f[c[a][p]];h&&l.push(h)}else c.helperType&&f[c.helperType]?l.push(f[c.helperType]):f[c.name]&&l.push(f[c.name]);for(var b=0;b<f._global.length;b++){var C=f._global[b];C.pred(c,this)&&re(l,C.val)==-1&&l.push(C.val)}return l},getStateAfter:function(r,a){var l=this.doc;return r=ve(l,r==null?l.first+l.size-1:r),An(this,r+1,a).state},cursorCoords:function(r,a){var l,f=this.doc.sel.primary();return r==null?l=f.head:typeof r=="object"?l=X(this.doc,r):l=r?f.from():f.to(),Mt(this,l,a||"page")},charCoords:function(r,a){return Di(this,X(this.doc,r),a||"page")},coordsChar:function(r,a){return r=ws(this,r,a||"page"),Ta(this,r.left,r.top)},lineAtHeight:function(r,a){return r=ws(this,{top:r,left:0},a||"page").top,jt(this.doc,r+this.display.viewOffset)},heightAtLine:function(r,a,l){var f=!1,c;if(typeof r=="number"){var p=this.doc.first+this.doc.size-1;r<this.doc.first?r=this.doc.first:r>p&&(r=p,f=!0),c=te(this.doc,r)}else c=r;return _i(this,c,{top:0,left:0},a||"page",l||f).top+(f?this.doc.height-Jt(c):0)},defaultTextHeight:function(){return qr(this.display)},defaultCharWidth:function(){return Kr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(r,a,l,f,c){var p=this.display;r=Mt(this,X(this.doc,r));var h=r.bottom,b=r.left;if(a.style.position="absolute",a.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(a),p.sizer.appendChild(a),f=="over")h=r.top;else if(f=="above"||f=="near"){var C=Math.max(p.wrapper.clientHeight,this.doc.height),D=Math.max(p.sizer.clientWidth,p.lineSpace.clientWidth);(f=="above"||r.bottom+a.offsetHeight>C)&&r.top>a.offsetHeight?h=r.top-a.offsetHeight:r.bottom+a.offsetHeight<=C&&(h=r.bottom),b+a.offsetWidth>D&&(b=D-a.offsetWidth)}a.style.top=h+"px",a.style.left=a.style.right="",c=="right"?(b=p.sizer.clientWidth-a.offsetWidth,a.style.right="0px"):(c=="left"?b=0:c=="middle"&&(b=(p.sizer.clientWidth-a.offsetWidth)/2),a.style.left=b+"px"),l&&Cc(this,{left:b,top:h,right:b+a.offsetWidth,bottom:h+a.offsetHeight})},triggerOnKeyDown:rt(kl),triggerOnKeyPress:rt($l),triggerOnKeyUp:El,triggerOnMouseDown:rt(Ol),execCommand:function(r){if(Qn.hasOwnProperty(r))return Qn[r].call(null,this)},triggerElectric:rt(function(r){Fl(this,r)}),findPosH:function(r,a,l,f){var c=1;a<0&&(c=-1,a=-a);for(var p=X(this.doc,r),h=0;h<a&&(p=Qa(this.doc,p,c,l,f),!p.hitSide);++h);return p},moveH:rt(function(r,a){var l=this;this.extendSelectionsBy(function(f){return l.display.shift||l.doc.extend||f.empty()?Qa(l.doc,f.head,r,a,l.options.rtlMoveVisually):r<0?f.from():f.to()},ge)}),deleteH:rt(function(r,a){var l=this.doc.sel,f=this.doc;l.somethingSelected()?f.replaceSelection("",null,"+delete"):an(this,function(c){var p=Qa(f,c.head,r,a,!1);return r<0?{from:p,to:c.head}:{from:c.head,to:p}})}),findPosV:function(r,a,l,f){var c=1,p=f;a<0&&(c=-1,a=-a);for(var h=X(this.doc,r),b=0;b<a;++b){var C=Mt(this,h,"div");if(p==null?p=C.left:C.left=p,h=Wl(this,C,c,l),h.hitSide)break}return h},moveV:rt(function(r,a){var l=this,f=this.doc,c=[],p=!this.display.shift&&!f.extend&&f.sel.somethingSelected();if(f.extendSelectionsBy(function(b){if(p)return r<0?b.from():b.to();var C=Mt(l,b.head,"div");b.goalColumn!=null&&(C.left=b.goalColumn),c.push(C.left);var D=Wl(l,C,r,a);return a=="page"&&b==f.sel.primary()&&La(l,Di(l,D,"div").top-C.top),D},ge),c.length)for(var h=0;h<f.sel.ranges.length;h++)f.sel.ranges[h].goalColumn=c[h]}),findWordAt:function(r){var a=this.doc,l=te(a,r.line).text,f=r.ch,c=r.ch;if(l){var p=this.getHelper(r,"wordChars");(r.sticky=="before"||c==l.length)&&f?--f:++c;for(var h=l.charAt(f),b=Fr(h,p)?function(C){return Fr(C,p)}:/\s/.test(h)?function(C){return/\s/.test(C)}:function(C){return!/\s/.test(C)&&!Fr(C)};f>0&&b(l.charAt(f-1));)--f;for(;c<l.length&&b(l.charAt(c));)++c}return new Ce(j(r.line,f),j(r.line,c))},toggleOverwrite:function(r){r!=null&&r==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ee(this.display.cursorDiv,"CodeMirror-overwrite"):Se(this.display.cursorDiv,"CodeMirror-overwrite"),le(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==me()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:rt(function(r,a){Rn(this,r,a)}),getScrollInfo:function(){var r=this.display.scroller;return{left:r.scrollLeft,top:r.scrollTop,height:r.scrollHeight-Wt(this)-this.display.barHeight,width:r.scrollWidth-Wt(this)-this.display.barWidth,clientHeight:ba(this),clientWidth:Cr(this)}},scrollIntoView:rt(function(r,a){r==null?(r={from:this.doc.sel.primary().head,to:null},a==null&&(a=this.options.cursorScrollMargin)):typeof r=="number"?r={from:j(r,0),to:null}:r.from==null&&(r={from:r,to:null}),r.to||(r.to=r.from),r.margin=a||0,r.from.line!=null?xc(this,r):Ls(this,r.from,r.to,r.margin)}),setSize:rt(function(r,a){var l=this,f=function(p){return typeof p=="number"||/^\d+$/.test(String(p))?p+"px":p};r!=null&&(this.display.wrapper.style.width=f(r)),a!=null&&(this.display.wrapper.style.height=f(a)),this.options.lineWrapping&&xs(this);var c=this.display.viewFrom;this.doc.iter(c,this.display.viewTo,function(p){if(p.widgets){for(var h=0;h<p.widgets.length;h++)if(p.widgets[h].noHScroll){ar(l,c,"widget");break}}++c}),this.curOp.forceUpdate=!0,le(this,"refresh",this)}),operation:function(r){return ht(this,r)},startOperation:function(){return Dr(this)},endOperation:function(){return kr(this)},refresh:rt(function(){var r=this.display.cachedTextHeight;st(this),this.curOp.forceUpdate=!0,In(this),Rn(this,this.doc.scrollLeft,this.doc.scrollTop),Ia(this.display),(r==null||Math.abs(r-qr(this.display))>.5||this.options.lineWrapping)&&ka(this),le(this,"refresh",this)}),swapDoc:rt(function(r){var a=this.doc;return a.cm=null,this.state.selectingText&&this.state.selectingText(),qs(this,r),In(this),this.display.input.reset(),Rn(this,r.scrollLeft,r.scrollTop),this.curOp.forceScroll=!0,je(this,"swapDoc",this,a),a}),phrase:function(r){var a=this.options.phrases;return a&&Object.prototype.hasOwnProperty.call(a,r)?a[r]:r},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},It(e),e.registerHelper=function(r,a,l){n.hasOwnProperty(r)||(n[r]=e[r]={_global:[]}),n[r][a]=l},e.registerGlobalHelper=function(r,a,l,f){e.registerHelper(r,a,f),n[r]._global.push({pred:l,val:f})}}function Qa(e,t,n,r,a){var l=t,f=n,c=te(e,t.line),p=a&&e.direction=="rtl"?-n:n;function h(){var Y=t.line+p;return Y<e.first||Y>=e.first+e.size?!1:(t=new j(Y,t.ch,t.sticky),c=te(e,Y))}function b(Y){var K;if(r=="codepoint"){var Z=c.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(Z))K=null;else{var ie=n>0?Z>=55296&&Z<56320:Z>=56320&&Z<57343;K=new j(t.line,Math.max(0,Math.min(c.text.length,t.ch+n*(ie?2:1))),-n)}}else a?K=id(e.cm,c,t,n):K=Va(c,t,n);if(K==null)if(!Y&&h())t=qa(a,e.cm,c,t.line,p);else return!1;else t=K;return!0}if(r=="char"||r=="codepoint")b();else if(r=="column")b(!0);else if(r=="word"||r=="group")for(var C=null,D=r=="group",_=e.cm&&e.cm.getHelper(t,"wordChars"),O=!0;!(n<0&&!b(!O));O=!1){var F=c.text.charAt(t.ch)||`
`,U=Fr(F,_)?"w":D&&F==`
`?"n":!D||/\s/.test(F)?null:"p";if(D&&!O&&!U&&(U="s"),C&&C!=U){n<0&&(n=1,b(),t.sticky="after");break}if(U&&(C=U),n>0&&!b(!O))break}var q=Ri(e,t,l,f,!0);return x(l,q)&&(q.hitSide=!0),q}function Wl(e,t,n,r){var a=e.doc,l=t.left,f;if(r=="page"){var c=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),p=Math.max(c-.5*qr(e.display),3);f=(n>0?t.bottom:t.top)+n*p}else r=="line"&&(f=n>0?t.bottom+3:t.top-3);for(var h;h=Ta(e,l,f),!!h.outside;){if(n<0?f<=0:f>=a.height){h.hitSide=!0;break}f+=n*5}return h}var xe=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _e,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};xe.prototype.init=function(e){var t=this,n=this,r=n.cm,a=n.div=e.lineDiv;a.contentEditable=!0,jl(a,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize);function l(c){for(var p=c.target;p;p=p.parentNode){if(p==a)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(p.className))break}return!1}ae(a,"paste",function(c){!l(c)||Pe(r,c)||Il(c,r)||w<=11&&setTimeout(Be(r,function(){return t.updateFromDOM()}),20)}),ae(a,"compositionstart",function(c){t.composing={data:c.data,done:!1}}),ae(a,"compositionupdate",function(c){t.composing||(t.composing={data:c.data,done:!1})}),ae(a,"compositionend",function(c){t.composing&&(c.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),ae(a,"touchstart",function(){return n.forceCompositionEnd()}),ae(a,"input",function(){t.composing||t.readFromDOMSoon()});function f(c){if(!(!l(c)||Pe(r,c))){if(r.somethingSelected())Ui({lineWise:!1,text:r.getSelections()}),c.type=="cut"&&r.replaceSelection("",null,"cut");else if(r.options.lineWiseCopyCut){var p=Rl(r);Ui({lineWise:!0,text:p.text}),c.type=="cut"&&r.operation(function(){r.setSelections(p.ranges,0,ye),r.replaceSelection("",null,"cut")})}else return;if(c.clipboardData){c.clipboardData.clearData();var h=Pt.text.join(`
`);if(c.clipboardData.setData("Text",h),c.clipboardData.getData("Text")==h){c.preventDefault();return}}var b=Bl(),C=b.firstChild;r.display.lineSpace.insertBefore(b,r.display.lineSpace.firstChild),C.value=Pt.text.join(`
`);var D=me();tt(C),setTimeout(function(){r.display.lineSpace.removeChild(b),D.focus(),D==a&&n.showPrimarySelection()},50)}}ae(a,"copy",f),ae(a,"cut",f)},xe.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},xe.prototype.prepareSelection=function(){var e=Os(this.cm,!1);return e.focus=me()==this.div,e},xe.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},xe.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},xe.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),a=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||a.line<t.display.viewFrom){e.removeAllRanges();return}var l=Gi(t,e.anchorNode,e.anchorOffset),f=Gi(t,e.focusNode,e.focusOffset);if(!(l&&!l.bad&&f&&!f.bad&&v(ue(l,f),r)==0&&v(H(l,f),a)==0)){var c=t.display.view,p=r.line>=t.display.viewFrom&&Hl(t,r)||{node:c[0].measure.map[2],offset:0},h=a.line<t.display.viewTo&&Hl(t,a);if(!h){var b=c[c.length-1].measure,C=b.maps?b.maps[b.maps.length-1]:b.map;h={node:C[C.length-1],offset:C[C.length-2]-C[C.length-3]}}if(!p||!h){e.removeAllRanges();return}var D=e.rangeCount&&e.getRangeAt(0),_;try{_=yt(p.node,p.offset,h.offset,h.node)}catch{}_&&(!d&&t.state.focused?(e.collapse(p.node,p.offset),_.collapsed||(e.removeAllRanges(),e.addRange(_))):(e.removeAllRanges(),e.addRange(_)),D&&e.anchorNode==null?e.addRange(D):d&&this.startGracePeriod()),this.rememberSelection()}},xe.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},xe.prototype.showMultipleSelections=function(e){N(this.cm.display.cursorDiv,e.cursors),N(this.cm.display.selectionDiv,e.selection)},xe.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},xe.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ue(this.div,t)},xe.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||me()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},xe.prototype.blur=function(){this.div.blur()},xe.prototype.getField=function(){return this.div},xe.prototype.supportsTouch=function(){return!0},xe.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):ht(this.cm,function(){return t.cm.curOp.selectionChanged=!0});function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))}this.polling.set(this.cm.options.pollInterval,n)},xe.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},xe.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),t=this.cm;if(k&&M&&this.cm.display.gutterSpecs.length&&wd(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var n=Gi(t,e.anchorNode,e.anchorOffset),r=Gi(t,e.focusNode,e.focusOffset);n&&r&&ht(t,function(){Xe(t.doc,sr(n,r),ye),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},xe.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),a=n.to();if(r.ch==0&&r.line>e.firstLine()&&(r=j(r.line-1,te(e.doc,r.line-1).length)),a.ch==te(e.doc,a.line).text.length&&a.line<e.lastLine()&&(a=j(a.line+1,0)),r.line<t.viewFrom||a.line>t.viewTo-1)return!1;var l,f,c;r.line==t.viewFrom||(l=Tr(e,r.line))==0?(f=be(t.view[0].line),c=t.view[0].node):(f=be(t.view[l].line),c=t.view[l-1].node.nextSibling);var p=Tr(e,a.line),h,b;if(p==t.view.length-1?(h=t.viewTo-1,b=t.lineDiv.lastChild):(h=be(t.view[p+1].line)-1,b=t.view[p+1].node.previousSibling),!c)return!1;for(var C=e.doc.splitLines(_d(e,c,b,f,h)),D=Rt(e.doc,j(f,0),j(h,te(e.doc,h).text.length));C.length>1&&D.length>1;)if(pe(C)==pe(D))C.pop(),D.pop(),h--;else if(C[0]==D[0])C.shift(),D.shift(),f++;else break;for(var _=0,O=0,F=C[0],U=D[0],q=Math.min(F.length,U.length);_<q&&F.charCodeAt(_)==U.charCodeAt(_);)++_;for(var Y=pe(C),K=pe(D),Z=Math.min(Y.length-(C.length==1?_:0),K.length-(D.length==1?_:0));O<Z&&Y.charCodeAt(Y.length-O-1)==K.charCodeAt(K.length-O-1);)++O;if(C.length==1&&D.length==1&&f==r.line)for(;_&&_>r.ch&&Y.charCodeAt(Y.length-O-1)==K.charCodeAt(K.length-O-1);)_--,O++;C[C.length-1]=Y.slice(0,Y.length-O).replace(/^\u200b+/,""),C[0]=C[0].slice(_).replace(/\u200b+$/,"");var ie=j(f,_),ne=j(h,D.length?pe(D).length-O:0);if(C.length>1||C[0]||v(ie,ne))return tn(e.doc,C,ie,ne,"+input"),!0},xe.prototype.ensurePolled=function(){this.forceCompositionEnd()},xe.prototype.reset=function(){this.forceCompositionEnd()},xe.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},xe.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},xe.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&ht(this.cm,function(){return st(e.cm)})},xe.prototype.setUneditable=function(e){e.contentEditable="false"},xe.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Be(this.cm,Za)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},xe.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},xe.prototype.onContextMenu=function(){},xe.prototype.resetPosition=function(){},xe.prototype.needsContentAttribute=!0;function Hl(e,t){var n=Ca(e,t.line);if(!n||n.hidden)return null;var r=te(e.doc,t.line),a=gs(n,r,t.line),l=dt(r,e.doc.direction),f="left";if(l){var c=$e(l,t.ch);f=c%2?"right":"left"}var p=bs(a.map,t.ch,f);return p.offset=p.collapse=="right"?p.end:p.start,p}function wd(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function sn(e,t){return t&&(e.bad=!0),e}function _d(e,t,n,r,a){var l="",f=!1,c=e.doc.lineSeparator(),p=!1;function h(_){return function(O){return O.id==_}}function b(){f&&(l+=c,p&&(l+=c),f=p=!1)}function C(_){_&&(b(),l+=_)}function D(_){if(_.nodeType==1){var O=_.getAttribute("cm-text");if(O){C(O);return}var F=_.getAttribute("cm-marker"),U;if(F){var q=e.findMarks(j(r,0),j(a+1,0),h(+F));q.length&&(U=q[0].find(0))&&C(Rt(e.doc,U.from,U.to).join(c));return}if(_.getAttribute("contenteditable")=="false")return;var Y=/^(pre|div|p|li|table|br)$/i.test(_.nodeName);if(!/^br$/i.test(_.nodeName)&&_.textContent.length==0)return;Y&&b();for(var K=0;K<_.childNodes.length;K++)D(_.childNodes[K]);/^(pre|p)$/i.test(_.nodeName)&&(p=!0),Y&&(f=!0)}else _.nodeType==3&&C(_.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;D(t),t!=n;)t=t.nextSibling,p=!1;return l}function Gi(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return sn(e.clipPos(j(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var a=0;a<e.display.view.length;a++){var l=e.display.view[a];if(l.node==r)return Dd(l,t,n)}}function Dd(e,t,n){var r=e.text.firstChild,a=!1;if(!t||!Ue(r,t))return sn(j(be(e.line),0),!0);if(t==r&&(a=!0,t=r.childNodes[n],n=0,!t)){var l=e.rest?pe(e.rest):e.line;return sn(j(be(l),l.text.length),a)}var f=t.nodeType==3?t:null,c=t;for(!f&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(f=t.firstChild,n&&(n=f.nodeValue.length));c.parentNode!=r;)c=c.parentNode;var p=e.measure,h=p.maps;function b(U,q,Y){for(var K=-1;K<(h?h.length:0);K++)for(var Z=K<0?p.map:h[K],ie=0;ie<Z.length;ie+=3){var ne=Z[ie+2];if(ne==U||ne==q){var de=be(K<0?e.line:e.rest[K]),Te=Z[ie]+Y;return(Y<0||ne!=U)&&(Te=Z[ie+(Y?1:0)]),j(de,Te)}}}var C=b(f,c,n);if(C)return sn(C,a);for(var D=c.nextSibling,_=f?f.nodeValue.length-n:0;D;D=D.nextSibling){if(C=b(D,D.firstChild,0),C)return sn(j(C.line,C.ch-_),a);_+=D.textContent.length}for(var O=c.previousSibling,F=n;O;O=O.previousSibling){if(C=b(O,O.firstChild,-1),C)return sn(j(C.line,C.ch+F),a);F+=O.textContent.length}}var Le=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new _e,this.hasSelection=!1,this.composing=null};Le.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var a=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),G&&(a.style.width="0px"),ae(a,"input",function(){T&&w>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),ae(a,"paste",function(f){Pe(r,f)||Il(f,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())});function l(f){if(!Pe(r,f)){if(r.somethingSelected())Ui({lineWise:!1,text:r.getSelections()});else if(r.options.lineWiseCopyCut){var c=Rl(r);Ui({lineWise:!0,text:c.text}),f.type=="cut"?r.setSelections(c.ranges,null,ye):(n.prevInput="",a.value=c.text.join(`
`),tt(a))}else return;f.type=="cut"&&(r.state.cutIncoming=+new Date)}}ae(a,"cut",l),ae(a,"copy",l),ae(e.scroller,"paste",function(f){if(!(Yt(e,f)||Pe(r,f))){if(!a.dispatchEvent){r.state.pasteIncoming=+new Date,n.focus();return}var c=new Event("paste");c.clipboardData=f.clipboardData,a.dispatchEvent(c)}}),ae(e.lineSpace,"selectstart",function(f){Yt(e,f)||Je(f)}),ae(a,"compositionstart",function(){var f=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:f,range:r.markText(f,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ae(a,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Le.prototype.createField=function(e){this.wrapper=Bl(),this.textarea=this.wrapper.firstChild},Le.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Le.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Os(e);if(e.options.moveInputWithCursor){var a=Mt(e,n.sel.primary().head,"div"),l=t.wrapper.getBoundingClientRect(),f=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,a.top+f.top-l.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,a.left+f.left-l.left))}return r},Le.prototype.showSelection=function(e){var t=this.cm,n=t.display;N(n.cursorDiv,e.cursors),N(n.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Le.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing)){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&tt(this.textarea),T&&w>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",T&&w>=9&&(this.hasSelection=null))}},Le.prototype.getField=function(){return this.textarea},Le.prototype.supportsTouch=function(){return!1},Le.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!$||me()!=this.textarea))try{this.textarea.focus()}catch{}},Le.prototype.blur=function(){this.textarea.blur()},Le.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Le.prototype.receivedFocus=function(){this.slowPoll()},Le.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Le.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0;function n(){var r=t.poll();!r&&!e?(e=!0,t.polling.set(60,n)):(t.pollingFast=!1,t.slowPoll())}t.polling.set(20,n)},Le.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||vi(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var a=n.value;if(a==r&&!t.somethingSelected())return!1;if(T&&w>=9&&this.hasSelection===a||L&&/[\uf700-\uf7ff]/.test(a))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var l=a.charCodeAt(0);if(l==8203&&!r&&(r="\u200B"),l==8666)return this.reset(),this.cm.execCommand("undo")}for(var f=0,c=Math.min(r.length,a.length);f<c&&r.charCodeAt(f)==a.charCodeAt(f);)++f;return ht(t,function(){Za(t,a.slice(f),r.length-f,null,e.composing?"*compose":null),a.length>1e3||a.indexOf(`
`)>-1?n.value=e.prevInput="":e.prevInput=a,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Le.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Le.prototype.onKeyPress=function(){T&&w>=9&&(this.hasSelection=null),this.fastPoll()},Le.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,a=t.textarea;t.contextMenuPending&&t.contextMenuPending();var l=Sr(n,e),f=r.scroller.scrollTop;if(!l||I)return;var c=n.options.resetSelectionOnContextMenu;c&&n.doc.sel.contains(l)==-1&&Be(n,Xe)(n.doc,sr(l),ye);var p=a.style.cssText,h=t.wrapper.style.cssText,b=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",a.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-b.top-5)+"px; left: "+(e.clientX-b.left-5)+`px;
      z-index: 1000; background: `+(T?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var C;S&&(C=window.scrollY),r.input.focus(),S&&window.scrollTo(null,C),r.input.reset(),n.somethingSelected()||(a.value=t.prevInput=" "),t.contextMenuPending=_,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll);function D(){if(a.selectionStart!=null){var F=n.somethingSelected(),U="\u200B"+(F?a.value:"");a.value="\u21DA",a.value=U,t.prevInput=F?"":"\u200B",a.selectionStart=1,a.selectionEnd=U.length,r.selForContextMenu=n.doc.sel}}function _(){if(t.contextMenuPending==_&&(t.contextMenuPending=!1,t.wrapper.style.cssText=h,a.style.cssText=p,T&&w<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=f),a.selectionStart!=null)){(!T||T&&w<9)&&D();var F=0,U=function(){r.selForContextMenu==n.doc.sel&&a.selectionStart==0&&a.selectionEnd>0&&t.prevInput=="\u200B"?Be(n,ol)(n):F++<10?r.detectingSelectAll=setTimeout(U,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(U,200)}}if(T&&w>=9&&D(),ee){yr(e);var O=function(){at(window,"mouseup",O),setTimeout(_,20)};ae(window,"mouseup",O)}else setTimeout(_,50)},Le.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},Le.prototype.setUneditable=function(){},Le.prototype.needsContentAttribute=!1;function kd(e,t){if(t=t?Ke(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var n=me();t.autofocus=n==e||e.getAttribute("autofocus")!=null&&n==document.body}function r(){e.value=c.getValue()}var a;if(e.form&&(ae(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var l=e.form;a=l.submit;try{var f=l.submit=function(){r(),l.submit=a,l.submit(),l.submit=f}}catch{}}t.finishInit=function(p){p.save=r,p.getTextArea=function(){return e},p.toTextArea=function(){p.toTextArea=isNaN,r(),e.parentNode.removeChild(p.getWrapperElement()),e.style.display="",e.form&&(at(e.form,"submit",r),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=a))}},e.style.display="none";var c=De(function(p){return e.parentNode.insertBefore(p,e.nextSibling)},t);return c}function Ed(e){e.off=at,e.on=ae,e.wheelEventPixels=Nc,e.Doc=lt,e.splitLines=_n,e.countColumn=we,e.findColumn=Re,e.isWordChar=Ir,e.Pass=ce,e.signal=le,e.Line=Ur,e.changeEnd=lr,e.scrollbarModel=Is,e.Pos=j,e.cmpPos=v,e.modes=Et,e.mimeModes=xt,e.resolveMode=Wr,e.getMode=Hr,e.modeExtensions=$t,e.extendMode=Ot,e.copyState=St,e.startState=En,e.innerMode=kn,e.commands=Qn,e.keyMap=Zt,e.keyName=Sl,e.isModifierKey=Cl,e.lookupKey=nn,e.normalizeKeyMap=nd,e.StringStream=Oe,e.SharedTextMarker=Yn,e.TextMarker=fr,e.LineWidget=Jn,e.e_preventDefault=Je,e.e_stopPropagation=Br,e.e_stop=yr,e.addClass=Ee,e.contains=Ue,e.rmClass=Se,e.keyNames=cr}bd(De),Td(De);var $d="iter insert remove copy getEditor constructor".split(" ");for(var Vi in lt.prototype)lt.prototype.hasOwnProperty(Vi)&&re($d,Vi)<0&&(De.prototype[Vi]=function(e){return function(){return e.apply(this.doc,arguments)}}(lt.prototype[Vi]));return It(lt),De.inputStyles={textarea:Le,contenteditable:xe},De.defineMode=function(e){!De.defaults.mode&&e!="null"&&(De.defaults.mode=e),mi.apply(this,arguments)},De.defineMIME=qt,De.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),De.defineMIME("text/plain","null"),De.defineExtension=function(e,t){De.prototype[e]=t},De.defineDocExtension=function(e,t){lt.prototype[e]=t},De.fromTextArea=kd,Ed(De),De.version="5.65.4",De})})(Po);(function(i,s){(function(o,u){i.exports=u(Po.exports)})(ta,function(o){return function(u){function d(y){if(g[y])return g[y].exports;var m=g[y]={i:y,l:!1,exports:{}};return u[y].call(m.exports,m,m.exports,d),m.l=!0,m.exports}var g={};return d.m=u,d.c=g,d.i=function(y){return y},d.d=function(y,m,T){d.o(y,m)||Object.defineProperty(y,m,{configurable:!1,enumerable:!0,get:T})},d.n=function(y){var m=y&&y.__esModule?function(){return y.default}:function(){return y};return d.d(m,"a",m),m},d.o=function(y,m){return Object.prototype.hasOwnProperty.call(y,m)},d.p="/",d(d.s=3)}([function(u,d){u.exports=o},function(u,d,g){Object.defineProperty(d,"__esModule",{value:!0});var y=g(0),m=function(w){return w&&w.__esModule?w:{default:w}}(y),T=window.CodeMirror||m.default;typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(w,S){if(w==null)throw new TypeError("Cannot convert undefined or null to object");for(var A=Object(w),M=1;M<arguments.length;M++){var I=arguments[M];if(I!=null)for(var z in I)Object.prototype.hasOwnProperty.call(I,z)&&(A[z]=I[z])}return A},writable:!0,configurable:!0}),d.default={name:"codemirror",data:function(){return{content:"",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,name:{type:String,default:"codemirror"},placeholder:{type:String,default:""},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{}}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(w){for(var S in w)this.cminstance.setOption(S,w[S])}},merge:function(){this.$nextTick(this.switchMerge)},code:function(w){this.handerCodeChange(w)},value:function(w){this.handerCodeChange(w)}},methods:{initialize:function(){var w=this,S=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=T.MergeView(this.$refs.mergeview,S),this.cminstance=this.codemirror.edit):(this.codemirror=T.fromTextArea(this.$refs.textarea,S),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on("change",function(M){w.content=M.getValue(),w.$emit&&w.$emit("input",w.content)});var A={};["scroll","changes","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"].concat(this.events).concat(this.globalEvents).filter(function(M){return!A[M]&&(A[M]=!0)}).forEach(function(M){w.cminstance.on(M,function(){for(var I=arguments.length,z=Array(I),V=0;V<I;V++)z[V]=arguments[V];w.$emit.apply(w,[M].concat(z));var J=M.replace(/([A-Z])/g,"-$1").toLowerCase();J!==M&&w.$emit.apply(w,[J].concat(z))})}),this.$emit("ready",this.codemirror),this.unseenLineMarkers(),this.refresh()},refresh:function(){var w=this;this.$nextTick(function(){w.cminstance.refresh()})},destroy:function(){var w=this.cminstance.doc.cm.getWrapperElement();w&&w.remove&&w.remove()},handerCodeChange:function(w){if(w!==this.cminstance.getValue()){var S=this.cminstance.getScrollInfo();this.cminstance.setValue(w),this.content=w,this.cminstance.scrollTo(S.left,S.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var w=this;this.unseenLines!==void 0&&this.marker!==void 0&&this.unseenLines.forEach(function(S){var A=w.cminstance.lineInfo(S);w.cminstance.setGutterMarker(S,"breakpoints",A.gutterMarkers?null:w.marker())})},switchMerge:function(){var w=this.cminstance.doc.history,S=this.cminstance.doc.cleanGeneration;this.options.value=this.cminstance.getValue(),this.destroy(),this.initialize(),this.cminstance.doc.history=w,this.cminstance.doc.cleanGeneration=S}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(u,d,g){Object.defineProperty(d,"__esModule",{value:!0});var y=g(1),m=g.n(y);for(var T in y)["default","default"].indexOf(T)<0&&function(M){g.d(d,M,function(){return y[M]})}(T);var w=g(5),S=g(4),A=S(m.a,w.a,!1,null,null,null);d.default=A.exports},function(u,d,g){function y(z){return z&&z.__esModule?z:{default:z}}Object.defineProperty(d,"__esModule",{value:!0}),d.install=d.codemirror=d.CodeMirror=void 0;var m=g(0),T=y(m),w=g(2),S=y(w),A=window.CodeMirror||T.default,M=function(z,V){V&&(V.options&&(S.default.props.globalOptions.default=function(){return V.options}),V.events&&(S.default.props.globalEvents.default=function(){return V.events})),z.component(S.default.name,S.default)},I={CodeMirror:A,codemirror:S.default,install:M};d.default=I,d.CodeMirror=A,d.codemirror=S.default,d.install=M},function(u,d){u.exports=function(g,y,m,T,w,S){var A,M=g=g||{},I=typeof g.default;I!=="object"&&I!=="function"||(A=g,M=g.default);var z=typeof M=="function"?M.options:M;y&&(z.render=y.render,z.staticRenderFns=y.staticRenderFns,z._compiled=!0),m&&(z.functional=!0),w&&(z._scopeId=w);var V;if(S?(V=function(k){k=k||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,k||typeof __VUE_SSR_CONTEXT__=="undefined"||(k=__VUE_SSR_CONTEXT__),T&&T.call(this,k),k&&k._registeredComponents&&k._registeredComponents.add(S)},z._ssrRegister=V):T&&(V=T),V){var J=z.functional,G=J?z.render:z.beforeCreate;J?(z._injectStyles=V,z.render=function(k,$){return V.call($),G(k,$)}):z.beforeCreate=G?[].concat(G,V):[V]}return{esModule:A,exports:M,options:z}}},function(u,d,g){var y=function(){var w=this,S=w.$createElement,A=w._self._c||S;return A("div",{staticClass:"vue-codemirror",class:{merge:w.merge}},[w.merge?A("div",{ref:"mergeview"}):A("textarea",{ref:"textarea",attrs:{name:w.name,placeholder:w.placeholder}})])},m=[],T={render:y,staticRenderFns:m};d.a=T}])})})(Ru);(function(i,s){(function(o){o(Po.exports)})(function(o){o.defineMode("javascript",function(u,d){var g=u.indentUnit,y=d.statementIndent,m=d.jsonld,T=d.json||m,w=d.trackScope!==!1,S=d.typescript,A=d.wordCharacters||/[\w$\xa1-\uffff]/,M=function(){function v(Ye){return{type:Ye,style:"keyword"}}var x=v("keyword a"),P=v("keyword b"),H=v("keyword c"),ue=v("keyword d"),ve=v("operator"),X={type:"atom",style:"atom"};return{if:v("if"),while:x,with:x,else:P,do:P,try:P,finally:P,return:ue,break:ue,continue:ue,new:v("new"),delete:H,void:H,throw:H,debugger:v("debugger"),var:v("var"),const:v("var"),let:v("var"),function:v("function"),catch:v("catch"),for:v("for"),switch:v("switch"),case:v("case"),default:v("default"),in:ve,typeof:ve,instanceof:ve,true:X,false:X,null:X,undefined:X,NaN:X,Infinity:X,this:v("this"),class:v("class"),super:v("atom"),yield:H,export:v("export"),import:v("import"),extends:H,await:H}}(),I=/[+\-*&%=<>!?|~^@]/,z=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function V(v){for(var x=!1,P,H=!1;(P=v.next())!=null;){if(!x){if(P=="/"&&!H)return;P=="["?H=!0:H&&P=="]"&&(H=!1)}x=!x&&P=="\\"}}var J,G;function k(v,x,P){return J=v,G=P,x}function $(v,x){var P=v.next();if(P=='"'||P=="'")return x.tokenize=L(P),x.tokenize(v,x);if(P=="."&&v.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return k("number","number");if(P=="."&&v.match(".."))return k("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(P))return k(P);if(P=="="&&v.eat(">"))return k("=>","operator");if(P=="0"&&v.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return k("number","number");if(/\d/.test(P))return v.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),k("number","number");if(P=="/")return v.eat("*")?(x.tokenize=B,B(v,x)):v.eat("/")?(v.skipToEnd(),k("comment","comment")):j(v,x,1)?(V(v),v.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),k("regexp","string-2")):(v.eat("="),k("operator","operator",v.current()));if(P=="`")return x.tokenize=W,W(v,x);if(P=="#"&&v.peek()=="!")return v.skipToEnd(),k("meta","meta");if(P=="#"&&v.eatWhile(A))return k("variable","property");if(P=="<"&&v.match("!--")||P=="-"&&v.match("->")&&!/\S/.test(v.string.slice(0,v.start)))return v.skipToEnd(),k("comment","comment");if(I.test(P))return(P!=">"||!x.lexical||x.lexical.type!=">")&&(v.eat("=")?(P=="!"||P=="=")&&v.eat("="):/[<>*+\-|&?]/.test(P)&&(v.eat(P),P==">"&&v.eat(P))),P=="?"&&v.eat(".")?k("."):k("operator","operator",v.current());if(A.test(P)){v.eatWhile(A);var H=v.current();if(x.lastType!="."){if(M.propertyIsEnumerable(H)){var ue=M[H];return k(ue.type,ue.style,H)}if(H=="async"&&v.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return k("async","keyword",H)}return k("variable","variable",H)}}function L(v){return function(x,P){var H=!1,ue;if(m&&x.peek()=="@"&&x.match(z))return P.tokenize=$,k("jsonld-keyword","meta");for(;(ue=x.next())!=null&&!(ue==v&&!H);)H=!H&&ue=="\\";return H||(P.tokenize=$),k("string","string")}}function B(v,x){for(var P=!1,H;H=v.next();){if(H=="/"&&P){x.tokenize=$;break}P=H=="*"}return k("comment","comment")}function W(v,x){for(var P=!1,H;(H=v.next())!=null;){if(!P&&(H=="`"||H=="$"&&v.eat("{"))){x.tokenize=$;break}P=!P&&H=="\\"}return k("quasi","string-2",v.current())}var Q="([{}])";function fe(v,x){x.fatArrowAt&&(x.fatArrowAt=null);var P=v.string.indexOf("=>",v.start);if(!(P<0)){if(S){var H=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(v.string.slice(v.start,P));H&&(P=H.index)}for(var ue=0,ve=!1,X=P-1;X>=0;--X){var Ye=v.string.charAt(X),Tt=Q.indexOf(Ye);if(Tt>=0&&Tt<3){if(!ue){++X;break}if(--ue==0){Ye=="("&&(ve=!0);break}}else if(Tt>=3&&Tt<6)++ue;else if(A.test(Ye))ve=!0;else if(/["'\/`]/.test(Ye))for(;;--X){if(X==0)return;var zr=v.string.charAt(X-1);if(zr==Ye&&v.string.charAt(X-2)!="\\"){X--;break}}else if(ve&&!ue){++X;break}}ve&&!ue&&(x.fatArrowAt=X)}}var ee={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function he(v,x,P,H,ue,ve){this.indented=v,this.column=x,this.type=P,this.prev=ue,this.info=ve,H!=null&&(this.align=H)}function Se(v,x){if(!w)return!1;for(var P=v.localVars;P;P=P.next)if(P.name==x)return!0;for(var H=v.context;H;H=H.prev)for(var P=H.vars;P;P=P.next)if(P.name==x)return!0}function Me(v,x,P,H,ue){var ve=v.cc;for(N.state=v,N.stream=ue,N.marked=null,N.cc=ve,N.style=x,v.lexical.hasOwnProperty("align")||(v.lexical.align=!0);;){var X=ve.length?ve.pop():T?ge:ye;if(X(P,H)){for(;ve.length&&ve[ve.length-1].lex;)ve.pop()();return N.marked?N.marked:P=="variable"&&Se(v,H)?"variable-2":x}}}var N={state:null,column:null,marked:null,cc:null};function R(){for(var v=arguments.length-1;v>=0;v--)N.cc.push(arguments[v])}function E(){return R.apply(null,arguments),!0}function yt(v,x){for(var P=x;P;P=P.next)if(P.name==v)return!0;return!1}function Ue(v){var x=N.state;if(N.marked="def",!!w){if(x.context){if(x.lexical.info=="var"&&x.context&&x.context.block){var P=me(v,x.context);if(P!=null){x.context=P;return}}else if(!yt(v,x.localVars)){x.localVars=new tt(v,x.localVars);return}}d.globalVars&&!yt(v,x.globalVars)&&(x.globalVars=new tt(v,x.globalVars))}}function me(v,x){if(x)if(x.block){var P=me(v,x.prev);return P?P==x.prev?x:new et(P,x.vars,!0):null}else return yt(v,x.vars)?x:new et(x.prev,new tt(v,x.vars),!1);else return null}function Ee(v){return v=="public"||v=="private"||v=="protected"||v=="abstract"||v=="readonly"}function et(v,x,P){this.prev=v,this.vars=x,this.block=P}function tt(v,x){this.name=v,this.next=x}var qe=new tt("this",new tt("arguments",null));function Ke(){N.state.context=new et(N.state.context,N.state.localVars,!1),N.state.localVars=qe}function we(){N.state.context=new et(N.state.context,N.state.localVars,!0),N.state.localVars=null}Ke.lex=we.lex=!0;function _e(){N.state.localVars=N.state.context.vars,N.state.context=N.state.context.prev}_e.lex=!0;function re(v,x){var P=function(){var H=N.state,ue=H.indented;if(H.lexical.type=="stat")ue=H.lexical.indented;else for(var ve=H.lexical;ve&&ve.type==")"&&ve.align;ve=ve.prev)ue=ve.indented;H.lexical=new he(ue,N.stream.column(),v,null,H.lexical,x)};return P.lex=!0,P}function se(){var v=N.state;v.lexical.prev&&(v.lexical.type==")"&&(v.indented=v.lexical.indented),v.lexical=v.lexical.prev)}se.lex=!0;function ce(v){function x(P){return P==v?E():v==";"||P=="}"||P==")"||P=="]"?R():E(x)}return x}function ye(v,x){return v=="var"?E(re("vardef",x),Tn,ce(";"),se):v=="keyword a"?E(re("form"),Dt,ye,se):v=="keyword b"?E(re("form"),ye,se):v=="keyword d"?N.stream.match(/^\s*$/,!1)?E():E(re("stat"),pe,ce(";"),se):v=="debugger"?E(ce(";")):v=="{"?E(re("}"),we,dt,se,_e):v==";"?E():v=="if"?(N.state.lexical.info=="else"&&N.state.cc[N.state.cc.length-1]==se&&N.state.cc.pop()(),E(re("form"),Dt,ye,se,vi)):v=="function"?E(Et):v=="for"?E(re("form"),we,gi,ye,_e,se):v=="class"||S&&x=="interface"?(N.marked="keyword",E(re("form",v=="class"?v:x),Hr,se)):v=="variable"?S&&x=="declare"?(N.marked="keyword",E(ye)):S&&(x=="module"||x=="enum"||x=="type")&&N.stream.match(/^\s*\w/,!1)?(N.marked="keyword",x=="enum"?E(jt):x=="type"?E(mi,ce("operator"),le,ce(";")):E(re("form"),ot,ce("{"),re("}"),dt,se,se)):S&&x=="namespace"?(N.marked="keyword",E(re("form"),ge,ye,se)):S&&x=="abstract"?(N.marked="keyword",E(ye)):E(re("stat"),Sn):v=="switch"?E(re("form"),Dt,ce("{"),re("}","switch"),we,dt,se,se,_e):v=="case"?E(ge,ce(":")):v=="default"?E(ce(":")):v=="catch"?E(re("form"),Ke,Gt,ye,se,_e):v=="export"?E(re("stat"),kn,se):v=="import"?E(re("stat"),Oe,se):v=="async"?E(ye):x=="@"?E(ge,ye):R(re("stat"),ge,ce(";"),se)}function Gt(v){if(v=="(")return E(qt,ce(")"))}function ge(v,x){return Nr(v,x,!1)}function Re(v,x){return Nr(v,x,!0)}function Dt(v){return v!="("?R():E(re(")"),pe,ce(")"),se)}function Nr(v,x,P){if(N.state.fatArrowAt==N.stream.start){var H=P?Ir:fi;if(v=="(")return E(Ke,re(")"),$e(qt,")"),se,ce("=>"),H,_e);if(v=="variable")return R(Ke,ot,ce("=>"),H,_e)}var ue=P?tr:kt;return ee.hasOwnProperty(v)?E(ue):v=="function"?E(Et,ue):v=="class"||S&&x=="interface"?(N.marked="keyword",E(re("form"),Wr,se)):v=="keyword c"||v=="async"?E(P?Re:ge):v=="("?E(re(")"),pe,ce(")"),se,ue):v=="operator"||v=="spread"?E(P?Re:ge):v=="["?E(re("]"),be,se,ue):v=="{"?mr(Nt,"}",null,ue):v=="quasi"?R(gr,ue):v=="new"?E(Fr(P)):E()}function pe(v){return v.match(/[;\}\)\],]/)?R():R(ge)}function kt(v,x){return v==","?E(pe):tr(v,x,!1)}function tr(v,x,P){var H=P==!1?kt:tr,ue=P==!1?ge:Re;if(v=="=>")return E(Ke,P?Ir:fi,_e);if(v=="operator")return/\+\+|--/.test(x)||S&&x=="!"?E(H):S&&x=="<"&&N.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?E(re(">"),$e(le,">"),se,H):x=="?"?E(ge,ce(":"),ue):E(ue);if(v=="quasi")return R(gr,H);if(v!=";"){if(v=="(")return mr(Re,")","call",H);if(v==".")return E(di,H);if(v=="[")return E(re("]"),pe,ce("]"),se,H);if(S&&x=="as")return N.marked="keyword",E(le,H);if(v=="regexp")return N.state.lastType=N.marked="operator",N.stream.backUp(N.stream.pos-N.stream.start-1),E(ue)}}function gr(v,x){return v!="quasi"?R():x.slice(x.length-2)!="${"?E(gr):E(pe,ui)}function ui(v){if(v=="}")return N.marked="string-2",N.state.tokenize=W,E(gr)}function fi(v){return fe(N.stream,N.state),R(v=="{"?ye:ge)}function Ir(v){return fe(N.stream,N.state),R(v=="{"?ye:Re)}function Fr(v){return function(x){return x=="."?E(v?la:ci):x=="variable"&&S?E(yr,v?tr:kt):R(v?Re:ge)}}function ci(v,x){if(x=="target")return N.marked="keyword",E(kt)}function la(v,x){if(x=="target")return N.marked="keyword",E(tr)}function Sn(v){return v==":"?E(se,ye):R(kt,ce(";"),se)}function di(v){if(v=="variable")return N.marked="property",E()}function Nt(v,x){if(v=="async")return N.marked="property",E(Nt);if(v=="variable"||N.style=="keyword"){if(N.marked="property",x=="get"||x=="set")return E(ua);var P;return S&&N.state.fatArrowAt==N.stream.start&&(P=N.stream.match(/^\s*:\s*/,!1))&&(N.state.fatArrowAt=N.stream.pos+P[0].length),E(bt)}else{if(v=="number"||v=="string")return N.marked=m?"property":N.style+" property",E(bt);if(v=="jsonld-keyword")return E(bt);if(S&&Ee(x))return N.marked="keyword",E(Nt);if(v=="[")return E(ge,Vt,ce("]"),bt);if(v=="spread")return E(Re,bt);if(x=="*")return N.marked="keyword",E(Nt);if(v==":")return R(bt)}}function ua(v){return v!="variable"?R(bt):(N.marked="property",E(Et))}function bt(v){if(v==":")return E(Re);if(v=="(")return R(Et)}function $e(v,x,P){function H(ue,ve){if(P?P.indexOf(ue)>-1:ue==","){var X=N.state.lexical;return X.info=="call"&&(X.pos=(X.pos||0)+1),E(function(Ye,Tt){return Ye==x||Tt==x?R():R(v)},H)}return ue==x||ve==x?E():P&&P.indexOf(";")>-1?R(v):E(ce(x))}return function(ue,ve){return ue==x||ve==x?E():R(v,H)}}function mr(v,x,P){for(var H=3;H<arguments.length;H++)N.cc.push(arguments[H]);return E(re(x,P),$e(v,x),se)}function dt(v){return v=="}"?E():R(ye,dt)}function Vt(v,x){if(S){if(v==":")return E(le);if(x=="?")return E(Vt)}}function ae(v,x){if(S&&(v==":"||x=="in"))return E(le)}function Rr(v){if(S&&v==":")return N.stream.match(/^\s*\w+\s+is\b/,!1)?E(ge,at,le):E(le)}function at(v,x){if(x=="is")return N.marked="keyword",E()}function le(v,x){if(x=="keyof"||x=="typeof"||x=="infer"||x=="readonly")return N.marked="keyword",E(x=="typeof"?Re:le);if(v=="variable"||x=="void")return N.marked="type",E(Ct);if(x=="|"||x=="&")return E(le);if(v=="string"||v=="number"||v=="atom")return E(Ct);if(v=="[")return E(re("]"),$e(le,"]",","),se,Ct);if(v=="{")return E(re("}"),jr,se,Ct);if(v=="(")return E($e(Br,")"),Pe,Ct);if(v=="<")return E($e(le,">"),le);if(v=="quasi")return R(It,Ct)}function Pe(v){if(v=="=>")return E(le)}function jr(v){return v.match(/[\}\)\]]/)?E():v==","||v==";"?E(jr):R(Ge,jr)}function Ge(v,x){if(v=="variable"||N.style=="keyword")return N.marked="property",E(Ge);if(x=="?"||v=="number"||v=="string")return E(Ge);if(v==":")return E(le);if(v=="[")return E(ce("variable"),ae,ce("]"),Ge);if(v=="(")return R(xt,Ge);if(!v.match(/[;\}\)\],]/))return E()}function It(v,x){return v!="quasi"?R():x.slice(x.length-2)!="${"?E(It):E(le,Je)}function Je(v){if(v=="}")return N.marked="string-2",N.state.tokenize=W,E(It)}function Br(v,x){return v=="variable"&&N.stream.match(/^\s*[?:]/,!1)||x=="?"?E(Br):v==":"?E(le):v=="spread"?E(Br):R(le)}function Ct(v,x){if(x=="<")return E(re(">"),$e(le,">"),se,Ct);if(x=="|"||v=="."||x=="&")return E(le);if(v=="[")return E(le,ce("]"),Ct);if(x=="extends"||x=="implements")return N.marked="keyword",E(le);if(x=="?")return E(le,ce(":"),le)}function yr(v,x){if(x=="<")return E(re(">"),$e(le,">"),se,Ct)}function rr(){return R(le,pi)}function pi(v,x){if(x=="=")return E(le)}function Tn(v,x){return x=="enum"?(N.marked="keyword",E(jt)):R(ot,Vt,Ft,_n)}function ot(v,x){if(S&&Ee(x))return N.marked="keyword",E(ot);if(v=="variable")return Ue(x),E();if(v=="spread")return E(ot);if(v=="[")return mr(wn,"]");if(v=="{")return mr(hi,"}")}function hi(v,x){return v=="variable"&&!N.stream.match(/^\s*:/,!1)?(Ue(x),E(Ft)):(v=="variable"&&(N.marked="property"),v=="spread"?E(ot):v=="}"?R():v=="["?E(ge,ce("]"),ce(":"),hi):E(ce(":"),ot,Ft))}function wn(){return R(ot,Ft)}function Ft(v,x){if(x=="=")return E(Re)}function _n(v){if(v==",")return E(Tn)}function vi(v,x){if(v=="keyword b"&&x=="else")return E(re("form","else"),ye,se)}function gi(v,x){if(x=="await")return E(gi);if(v=="(")return E(re(")"),Dn,se)}function Dn(v){return v=="var"?E(Tn,nr):v=="variable"?E(nr):R(nr)}function nr(v,x){return v==")"?E():v==";"?E(nr):x=="in"||x=="of"?(N.marked="keyword",E(ge,nr)):R(ge,nr)}function Et(v,x){if(x=="*")return N.marked="keyword",E(Et);if(v=="variable")return Ue(x),E(Et);if(v=="(")return E(Ke,re(")"),$e(qt,")"),se,Rr,ye,_e);if(S&&x=="<")return E(re(">"),$e(rr,">"),se,Et)}function xt(v,x){if(x=="*")return N.marked="keyword",E(xt);if(v=="variable")return Ue(x),E(xt);if(v=="(")return E(Ke,re(")"),$e(qt,")"),se,Rr,_e);if(S&&x=="<")return E(re(">"),$e(rr,">"),se,xt)}function mi(v,x){if(v=="keyword"||v=="variable")return N.marked="type",E(mi);if(x=="<")return E(re(">"),$e(rr,">"),se)}function qt(v,x){return x=="@"&&E(ge,qt),v=="spread"?E(qt):S&&Ee(x)?(N.marked="keyword",E(qt)):S&&v=="this"?E(Vt,Ft):R(ot,Vt,Ft)}function Wr(v,x){return v=="variable"?Hr(v,x):$t(v,x)}function Hr(v,x){if(v=="variable")return Ue(x),E($t)}function $t(v,x){if(x=="<")return E(re(">"),$e(rr,">"),se,$t);if(x=="extends"||x=="implements"||S&&v==",")return x=="implements"&&(N.marked="keyword"),E(S?le:ge,$t);if(v=="{")return E(re("}"),Ot,se)}function Ot(v,x){if(v=="async"||v=="variable"&&(x=="static"||x=="get"||x=="set"||S&&Ee(x))&&N.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return N.marked="keyword",E(Ot);if(v=="variable"||N.style=="keyword")return N.marked="property",E(St,Ot);if(v=="number"||v=="string")return E(St,Ot);if(v=="[")return E(ge,Vt,ce("]"),St,Ot);if(x=="*")return N.marked="keyword",E(Ot);if(S&&v=="(")return R(xt,Ot);if(v==";"||v==",")return E(Ot);if(v=="}")return E();if(x=="@")return E(ge,Ot)}function St(v,x){if(x=="!"||x=="?")return E(St);if(v==":")return E(le,Ft);if(x=="=")return E(Re);var P=N.state.lexical.prev,H=P&&P.info=="interface";return R(H?xt:Et)}function kn(v,x){return x=="*"?(N.marked="keyword",E(pt,ce(";"))):x=="default"?(N.marked="keyword",E(ge,ce(";"))):v=="{"?E($e(En,"}"),pt,ce(";")):R(ye)}function En(v,x){if(x=="as")return N.marked="keyword",E(ce("variable"));if(v=="variable")return R(Re,En)}function Oe(v){return v=="string"?E():v=="("?R(ge):v=="."?R(kt):R(te,Rt,pt)}function te(v,x){return v=="{"?mr(te,"}"):(v=="variable"&&Ue(x),x=="*"&&(N.marked="keyword"),E($n))}function Rt(v){if(v==",")return E(te,Rt)}function $n(v,x){if(x=="as")return N.marked="keyword",E(te)}function pt(v,x){if(x=="from")return N.marked="keyword",E(ge)}function be(v){return v=="]"?E():R($e(Re,"]"))}function jt(){return R(re("form"),ot,ce("{"),re("}"),$e(br,"}"),se,se)}function br(){return R(ot,Ft)}function On(v,x){return v.lastType=="operator"||v.lastType==","||I.test(x.charAt(0))||/[,.]/.test(x.charAt(0))}function j(v,x,P){return x.tokenize==$&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(x.lastType)||x.lastType=="quasi"&&/\{\s*$/.test(v.string.slice(0,v.pos-(P||0)))}return{startState:function(v){var x={tokenize:$,lastType:"sof",cc:[],lexical:new he((v||0)-g,0,"block",!1),localVars:d.localVars,context:d.localVars&&new et(null,null,!1),indented:v||0};return d.globalVars&&typeof d.globalVars=="object"&&(x.globalVars=d.globalVars),x},token:function(v,x){if(v.sol()&&(x.lexical.hasOwnProperty("align")||(x.lexical.align=!1),x.indented=v.indentation(),fe(v,x)),x.tokenize!=B&&v.eatSpace())return null;var P=x.tokenize(v,x);return J=="comment"?P:(x.lastType=J=="operator"&&(G=="++"||G=="--")?"incdec":J,Me(x,P,J,G,v))},indent:function(v,x){if(v.tokenize==B||v.tokenize==W)return o.Pass;if(v.tokenize!=$)return 0;var P=x&&x.charAt(0),H=v.lexical,ue;if(!/^\s*else\b/.test(x))for(var ve=v.cc.length-1;ve>=0;--ve){var X=v.cc[ve];if(X==se)H=H.prev;else if(X!=vi&&X!=_e)break}for(;(H.type=="stat"||H.type=="form")&&(P=="}"||(ue=v.cc[v.cc.length-1])&&(ue==kt||ue==tr)&&!/^[,\.=+\-*:?[\(]/.test(x));)H=H.prev;y&&H.type==")"&&H.prev.type=="stat"&&(H=H.prev);var Ye=H.type,Tt=P==Ye;return Ye=="vardef"?H.indented+(v.lastType=="operator"||v.lastType==","?H.info.length+1:0):Ye=="form"&&P=="{"?H.indented:Ye=="form"?H.indented+g:Ye=="stat"?H.indented+(On(v,x)?y||g:0):H.info=="switch"&&!Tt&&d.doubleIndentSwitch!=!1?H.indented+(/^(?:case|default)\b/.test(x)?g:2*g):H.align?H.column+(Tt?0:1):H.indented+(Tt?0:g)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:T?null:"/*",blockCommentEnd:T?null:"*/",blockCommentContinue:T?null:" * ",lineComment:T?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:T?"json":"javascript",jsonldMode:m,jsonMode:T,expressionAllowed:j,skipExpression:function(v){Me(v,"atom","atom","true",new o.StringStream("",2,null))}}}),o.registerHelper("wordChars","javascript",/[\w$]/),o.defineMIME("text/javascript","javascript"),o.defineMIME("text/ecmascript","javascript"),o.defineMIME("application/javascript","javascript"),o.defineMIME("application/x-javascript","javascript"),o.defineMIME("application/ecmascript","javascript"),o.defineMIME("application/json",{name:"javascript",json:!0}),o.defineMIME("application/x-json",{name:"javascript",json:!0}),o.defineMIME("application/manifest+json",{name:"javascript",json:!0}),o.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),o.defineMIME("text/typescript",{name:"javascript",typescript:!0}),o.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();var bn={exports:{}};(function(i,s){const o=["InputConfig","PaginationConfig","CalendarConfig","CascaderConfig","ColorPickerConfig","TransferConfig","TimePickerConfig","DatePickerConfig","DialogConfig","DrawerConfig","PopconfirmConfig","TableConfig","SelectConfig","TreeConfig","TreeSelectConfig","ListConfig","UploadConfig","UploadConfigProgress","UploadConfigDragger","UploadConfigFileList","UploadConfigImage","UploadConfigFile","FormConfig","TagConfig","StepsConfig","AlertConfig","DescriptionsConfig","AnchorConfig","MessageConfig","ImageConfig","ImageViewerConfig","GuideConfig"].sort((S,A)=>S.localeCompare(A)>0),u=["Message","MessageOptions","$Message","$Message.info","$Message.error","$Message.warning","$Message.success","$Message.loading","$Message.question","$Message.close","$Message.closeAll","$Message.config"],d=["Notification","NotificationOptions","$Notification","$Notification.info","$Notification.warning","$Notification.error","$Notification.success","$Notification.close","$Notification.closeAll","$Notification.config"],g=["Table","TableCol","BaseTable","BaseTableCol","PrimaryTable","PrimaryTableCol","EnhancedTable","EnhancedTableCol","TableRowState","TableColumnFilter","TableColumnController","TableEditableCellConfig","TableTreeConfig"],y=["GlobalConfigProvider"].concat(o),T={Avatar:["Avatar","AvatarGroup"],Checkbox:["Checkbox","CheckboxGroup"],Cell:{list:["Cell","CellGroup"],excludes:["Miniprogram"]},Radio:["Radio","RadioGroup"],Anchor:["Anchor","AnchorItem","AnchorTarget"],Descriptions:["Descriptions","DescriptionItem"],Tabs:["Tabs","TabPanel"],TabBar:["TabBar","TabBarItem"],Pagination:["Pagination","PaginationMini"],Form:["Form","FormItem","FormList","FormRule","FormErrorMessage"],Breadcrumb:["Breadcrumb","BreadcrumbItem"],Message:u,Notification:d,Layout:{list:["Layout","Header","Aside","Content","Footer"],includes:["Vue(PC)","VueNext(PC)","React(PC)","Angular(PC)"]},Col:{list:["Col","Row"],includes:["Vue(Mobile)","React(Mobile)","Miniprogram"]},Grid:["Grid","Row","Col","GridItem"],Icon:["IconSVG","Iconfont"],Select:["Select","Option","OptionGroup","TScroll"],Tag:["Tag","CheckTag","CheckTagGroup"],Collapse:["Collapse","CollapsePanel"],Dropdown:{list:["Dropdown","DropdownItem"],includes:["Vue(PC)","VueNext(PC)","React(PC)","Angular(PC)"]},DropdownMenu:{list:["DropdownMenu","DropdownItem"],excludes:["Miniprogram"]},Dialog:["DialogCard","Dialog","DialogOptions","DialogInstance","$Dialog","$Dialog.confirm","$Dialog.alert"],Drawer:["Drawer","DrawerOptions","DrawerInstance","$Drawer"],Table:g.concat("TScroll"),Tree:["Tree","TreeNodeState","TreeNodeModel","TScroll"],Breadcrumb:["Breadcrumb","BreadcrumbItem"],Steps:["Steps","StepItem"],Calendar:["Calendar","CalendarController","CalendarCell"],Menu:["Menu","HeadMenu","Submenu","MenuItem","MenuGroup"],Loading:["Loading","$Loading"],Upload:{list:["Upload","UploadFile"],excludes:["Miniprogram"]},List:["List","ListItem","ListItemMeta"],Picker:{list:["Picker","PickerItem"],includes:["Miniprogram"]},TimePicker:["TimePicker","TimeRangePicker","TimePickerPanel","TimeRangePickerPanel"],DateTimePicker:["DateTimePicker"],DatePicker:["DatePicker","DateRangePicker","DatePickerPanel","DateRangePickerPanel"],Swiper:{list:["Swiper","SwiperItem","SwiperNavigation"],excludes:["Miniprogram"]},Swiper:{list:["Swiper","SwiperNav"],includes:["Miniprogram"]},StickyTool:["StickyTool","StickyItem"],ConfigProvider:y,RangeInput:["RangeInput","RangeInputPopup"],Input:["Input","InputGroup"],Watermark:["Watermark","WatermarkText","WatermarkImage"],Timeline:["Timeline","TimelineItem"],Guide:["Guide","GuideStep"],Tooltip:["Tooltip","TooltipLite"],SideBar:["SideBar","SideBarItem"],Indexes:{list:["Indexes","IndexesAnchor"],excludes:["Miniprogram"]},Popup:["Popup","$Popup"]},w={Avatar:{list:["Avatar","AvatarGroup"],excludes:["Miniprogram"]},Checkbox:{list:["Checkbox","CheckboxGroup"],excludes:["Miniprogram"]},Cell:{list:["Cell","CellGroup"],excludes:["Miniprogram"]},Radio:{list:["Radio","RadioGroup"],excludes:["Miniprogram"]},Message:{list:u},Notification:{list:d},Form:{list:["Form","FormItem","FormList","FormRule","FormErrorMessage"]},Select:{list:["Select","Option","OptionGroup"]},Tabs:{list:["Tabs","TabPanel"],excludes:["Miniprogram"]},TabBar:{list:["TabBar","TabBarItem"],excludes:["Miniprogram"]},Pagination:{list:["Pagination","PaginationMini"]},Tag:{list:["Tag","CheckTag","CheckTagGroup"],excludes:["Miniprogram"]},Collapse:{list:["Collapse","CollapsePanel"],excludes:["Miniprogram"]},Grid:{list:["Grid","Row","Col","GridItem"],excludes:["Miniprogram"]},Layout:{list:["Layout","Header","Aside","Content","Footer"],includes:["Vue(PC)","VueNext(PC)","React(PC)","Angular(PC)"]},Dropdown:{list:["Dropdown","DropdownItem"],includes:["Vue(PC)","VueNext(PC)","React(PC)","Angular(PC)"]},DropdownMenu:{list:["DropdownMenu","DropdownItem"],excludes:["Miniprogram"]},Dialog:{list:["DialogCard","Dialog","DialogOptions","DialogInstance","$Dialog","$Dialog.confirm","$Dialog.alert"]},Drawer:{list:["Drawer","DrawerOptions","DrawerInstance","$Drawer"]},Tree:{list:["Tree","TreeNodeState","TreeNodeModel"]},Breadcrumb:{list:["Breadcrumb","BreadcrumbItem"]},Steps:{list:["Steps","StepItem"],excludes:["Miniprogram"]},Calendar:{list:["Calendar","CalendarController","CalendarCell"]},Descriptions:{list:["Descriptions","DescriptionItem"]},Menu:{list:["Menu","HeadMenu","Submenu","MenuItem","MenuGroup"]},Loading:{list:["Loading","$Loading"]},Upload:{list:["Upload","UploadFile"],excludes:["Miniprogram"]},List:{list:["List","ListItem","ListItemMeta"]},Picker:{list:["Picker","PickerItem"],excludes:["Miniprogram"]},TimePicker:{list:["TimePicker","TimeRangePicker","TimePickerPanel","TimeRangePickerPanel"]},DateTimePicker:{list:["DateTimePicker"]},DatePicker:{list:["DatePicker","DateRangePicker","DatePickerPanel","DateRangePickerPanel"]},Swiper:{list:["Swiper","SwiperItem","SwiperNavigation"],excludes:["Miniprogram"]},Table:{list:g},Icon:{list:["Iconfont","IconSVG"]},Anchor:{list:["AnchorTarget","AnchorItem"]},StickyTool:{list:["StickyTool","StickyItem"]},ConfigProvider:{list:y},RangeInput:{list:["RangeInput","RangeInputPopup"]},Input:{list:["Input","InputGroup"]},Watermark:{list:["Watermark","WatermarkText","WatermarkImage"]},Timeline:{list:["Timeline","TimelineItem"]},Guide:{list:["Guide","GuideStep"]},Tooltip:{list:["Tooltip","TooltipLite"]},SideBar:{list:["SideBar","SideBarItem"]},Indexes:{list:["Indexes","IndexesAnchor"],excludes:["Miniprogram"]}};s.GLOBAL_COMPONENTS_CONFIG=o,s.COMPONENT_API_MD_MAP=T,s.TYPES_COMBINE_MAP=w,s.default={COMPONENT_API_MD_MAP:T,TYPES_COMBINE_MAP:w,GLOBAL_COMPONENTS_CONFIG:o},i.exports={COMPONENT_API_MD_MAP:T,TYPES_COMBINE_MAP:w,GLOBAL_COMPONENTS_CONFIG:o},Object.defineProperty(s,"__esModule",{value:!0})})(bn,bn.exports);function ju(i,s=bn.exports.TYPES_COMBINE_MAP){const o={};return Object.keys(s).forEach(u=>{const d=s[u];d instanceof Array?o[u]=d:typeof d=="object"?(!d.includes&&!d.excludes||d.includes&&d.includes.includes(i)||d.excludes&&!d.excludes.includes(i)||!i)&&(o[u]=d.list):console.warn("COMPONENT_API_MD_MAP \u6570\u636E\u7ED3\u6784\u4E0D\u5BF9\uFF0C\u53EA\u80FD\u662F Array \u6216\u8005 Object \u7C7B\u578B")}),o}function np(i,s=bn.exports.TYPES_COMBINE_MAP){const o={},u=ju(i,s);return Object.keys(u).forEach(d=>{u[d].forEach(g=>{o[g]=d})}),o}function Bu(i,s=bn.exports.TYPES_COMBINE_MAP){const o={},u=ju(i,s);return Object.keys(u).forEach(d=>{const g=u[d];g.forEach(y=>{o[y]=g})}),o}function mt(i,s=void 0){if(typeof i=="object")return i;try{return JSON.parse(i)}catch{return s}}function ip(i){return`on${Mu(Ao(i))}`}function ap(i){if(document.querySelector(`script[src="${i}"]`))return Promise.resolve();const o=document.createElement("script");return o.src=i,document.body.appendChild(o),new Promise(u=>{o.onload=()=>{u()}})}var No={exports:{}},Wu=function(s,o){return function(){for(var d=new Array(arguments.length),g=0;g<d.length;g++)d[g]=arguments[g];return s.apply(o,d)}},op=Wu,Pr=Object.prototype.toString;function Io(i){return Pr.call(i)==="[object Array]"}function co(i){return typeof i=="undefined"}function sp(i){return i!==null&&!co(i)&&i.constructor!==null&&!co(i.constructor)&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function lp(i){return Pr.call(i)==="[object ArrayBuffer]"}function up(i){return typeof FormData!="undefined"&&i instanceof FormData}function fp(i){var s;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?s=ArrayBuffer.isView(i):s=i&&i.buffer&&i.buffer instanceof ArrayBuffer,s}function cp(i){return typeof i=="string"}function dp(i){return typeof i=="number"}function Hu(i){return i!==null&&typeof i=="object"}function Zi(i){if(Pr.call(i)!=="[object Object]")return!1;var s=Object.getPrototypeOf(i);return s===null||s===Object.prototype}function pp(i){return Pr.call(i)==="[object Date]"}function hp(i){return Pr.call(i)==="[object File]"}function vp(i){return Pr.call(i)==="[object Blob]"}function zu(i){return Pr.call(i)==="[object Function]"}function gp(i){return Hu(i)&&zu(i.pipe)}function mp(i){return typeof URLSearchParams!="undefined"&&i instanceof URLSearchParams}function yp(i){return i.replace(/^\s*/,"").replace(/\s*$/,"")}function bp(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Fo(i,s){if(!(i===null||typeof i=="undefined"))if(typeof i!="object"&&(i=[i]),Io(i))for(var o=0,u=i.length;o<u;o++)s.call(null,i[o],o,i);else for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&s.call(null,i[d],d,i)}function po(){var i={};function s(d,g){Zi(i[g])&&Zi(d)?i[g]=po(i[g],d):Zi(d)?i[g]=po({},d):Io(d)?i[g]=d.slice():i[g]=d}for(var o=0,u=arguments.length;o<u;o++)Fo(arguments[o],s);return i}function Cp(i,s,o){return Fo(s,function(d,g){o&&typeof d=="function"?i[g]=op(d,o):i[g]=d}),i}function xp(i){return i.charCodeAt(0)===65279&&(i=i.slice(1)),i}var _t={isArray:Io,isArrayBuffer:lp,isBuffer:sp,isFormData:up,isArrayBufferView:fp,isString:cp,isNumber:dp,isObject:Hu,isPlainObject:Zi,isUndefined:co,isDate:pp,isFile:hp,isBlob:vp,isFunction:zu,isStream:gp,isURLSearchParams:mp,isStandardBrowserEnv:bp,forEach:Fo,merge:po,extend:Cp,trim:yp,stripBOM:xp},cn=_t;function Xl(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Uu=function(s,o,u){if(!o)return s;var d;if(u)d=u(o);else if(cn.isURLSearchParams(o))d=o.toString();else{var g=[];cn.forEach(o,function(T,w){T===null||typeof T=="undefined"||(cn.isArray(T)?w=w+"[]":T=[T],cn.forEach(T,function(A){cn.isDate(A)?A=A.toISOString():cn.isObject(A)&&(A=JSON.stringify(A)),g.push(Xl(w)+"="+Xl(A))}))}),d=g.join("&")}if(d){var y=s.indexOf("#");y!==-1&&(s=s.slice(0,y)),s+=(s.indexOf("?")===-1?"?":"&")+d}return s},Sp=_t;function ia(){this.handlers=[]}ia.prototype.use=function(s,o){return this.handlers.push({fulfilled:s,rejected:o}),this.handlers.length-1};ia.prototype.eject=function(s){this.handlers[s]&&(this.handlers[s]=null)};ia.prototype.forEach=function(s){Sp.forEach(this.handlers,function(u){u!==null&&s(u)})};var Tp=ia,wp=_t,_p=function(s,o,u){return wp.forEach(u,function(g){s=g(s,o)}),s},Gu=function(s){return!!(s&&s.__CANCEL__)},Dp=_t,kp=function(s,o){Dp.forEach(s,function(d,g){g!==o&&g.toUpperCase()===o.toUpperCase()&&(s[o]=d,delete s[g])})},Ep=function(s,o,u,d,g){return s.config=o,u&&(s.code=u),s.request=d,s.response=g,s.isAxiosError=!0,s.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},s},$p=Ep,Vu=function(s,o,u,d,g){var y=new Error(s);return $p(y,o,u,d,g)},Op=Vu,Ap=function(s,o,u){var d=u.config.validateStatus;!u.status||!d||d(u.status)?s(u):o(Op("Request failed with status code "+u.status,u.config,null,u.request,u))},qi=_t,Mp=qi.isStandardBrowserEnv()?function(){return{write:function(o,u,d,g,y,m){var T=[];T.push(o+"="+encodeURIComponent(u)),qi.isNumber(d)&&T.push("expires="+new Date(d).toGMTString()),qi.isString(g)&&T.push("path="+g),qi.isString(y)&&T.push("domain="+y),m===!0&&T.push("secure"),document.cookie=T.join("; ")},read:function(o){var u=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Lp=function(s){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(s)},Pp=function(s,o){return o?s.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):s},Np=Lp,Ip=Pp,Fp=function(s,o){return s&&!Np(o)?Ip(s,o):o},ro=_t,Rp=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],jp=function(s){var o={},u,d,g;return s&&ro.forEach(s.split(`
`),function(m){if(g=m.indexOf(":"),u=ro.trim(m.substr(0,g)).toLowerCase(),d=ro.trim(m.substr(g+1)),u){if(o[u]&&Rp.indexOf(u)>=0)return;u==="set-cookie"?o[u]=(o[u]?o[u]:[]).concat([d]):o[u]=o[u]?o[u]+", "+d:d}}),o},Zl=_t,Bp=Zl.isStandardBrowserEnv()?function(){var s=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),u;function d(g){var y=g;return s&&(o.setAttribute("href",y),y=o.href),o.setAttribute("href",y),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return u=d(window.location.href),function(y){var m=Zl.isString(y)?d(y):y;return m.protocol===u.protocol&&m.host===u.host}}():function(){return function(){return!0}}(),dn=_t,Wp=Ap,Hp=Mp,zp=Uu,Up=Fp,Gp=jp,Vp=Bp,no=Vu,Ql=function(s){return new Promise(function(u,d){var g=s.data,y=s.headers;dn.isFormData(g)&&delete y["Content-Type"],(dn.isBlob(g)||dn.isFile(g))&&g.type&&delete y["Content-Type"];var m=new XMLHttpRequest;if(s.auth){var T=s.auth.username||"",w=unescape(encodeURIComponent(s.auth.password))||"";y.Authorization="Basic "+btoa(T+":"+w)}var S=Up(s.baseURL,s.url);if(m.open(s.method.toUpperCase(),zp(S,s.params,s.paramsSerializer),!0),m.timeout=s.timeout,m.onreadystatechange=function(){if(!(!m||m.readyState!==4)&&!(m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0))){var I="getAllResponseHeaders"in m?Gp(m.getAllResponseHeaders()):null,z=!s.responseType||s.responseType==="text"?m.responseText:m.response,V={data:z,status:m.status,statusText:m.statusText,headers:I,config:s,request:m};Wp(u,d,V),m=null}},m.onabort=function(){!m||(d(no("Request aborted",s,"ECONNABORTED",m)),m=null)},m.onerror=function(){d(no("Network Error",s,null,m)),m=null},m.ontimeout=function(){var I="timeout of "+s.timeout+"ms exceeded";s.timeoutErrorMessage&&(I=s.timeoutErrorMessage),d(no(I,s,"ECONNABORTED",m)),m=null},dn.isStandardBrowserEnv()){var A=(s.withCredentials||Vp(S))&&s.xsrfCookieName?Hp.read(s.xsrfCookieName):void 0;A&&(y[s.xsrfHeaderName]=A)}if("setRequestHeader"in m&&dn.forEach(y,function(I,z){typeof g=="undefined"&&z.toLowerCase()==="content-type"?delete y[z]:m.setRequestHeader(z,I)}),dn.isUndefined(s.withCredentials)||(m.withCredentials=!!s.withCredentials),s.responseType)try{m.responseType=s.responseType}catch(M){if(s.responseType!=="json")throw M}typeof s.onDownloadProgress=="function"&&m.addEventListener("progress",s.onDownloadProgress),typeof s.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",s.onUploadProgress),s.cancelToken&&s.cancelToken.promise.then(function(I){!m||(m.abort(),d(I),m=null)}),g||(g=null),m.send(g)})},gt=_t,eu=kp,qp={"Content-Type":"application/x-www-form-urlencoded"};function tu(i,s){!gt.isUndefined(i)&&gt.isUndefined(i["Content-Type"])&&(i["Content-Type"]=s)}function Kp(){var i;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(i=Ql),i}var aa={adapter:Kp(),transformRequest:[function(s,o){return eu(o,"Accept"),eu(o,"Content-Type"),gt.isFormData(s)||gt.isArrayBuffer(s)||gt.isBuffer(s)||gt.isStream(s)||gt.isFile(s)||gt.isBlob(s)?s:gt.isArrayBufferView(s)?s.buffer:gt.isURLSearchParams(s)?(tu(o,"application/x-www-form-urlencoded;charset=utf-8"),s.toString()):gt.isObject(s)?(tu(o,"application/json;charset=utf-8"),JSON.stringify(s)):s}],transformResponse:[function(s){if(typeof s=="string")try{s=JSON.parse(s)}catch{}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(s){return s>=200&&s<300}};aa.headers={common:{Accept:"application/json, text/plain, */*"}};gt.forEach(["delete","get","head"],function(s){aa.headers[s]={}});gt.forEach(["post","put","patch"],function(s){aa.headers[s]=gt.merge(qp)});var qu=aa,ru=_t,io=_p,Jp=Gu,Yp=qu;function ao(i){i.cancelToken&&i.cancelToken.throwIfRequested()}var Xp=function(s){ao(s),s.headers=s.headers||{},s.data=io(s.data,s.headers,s.transformRequest),s.headers=ru.merge(s.headers.common||{},s.headers[s.method]||{},s.headers),ru.forEach(["delete","get","head","post","put","patch","common"],function(d){delete s.headers[d]});var o=s.adapter||Yp.adapter;return o(s).then(function(d){return ao(s),d.data=io(d.data,d.headers,s.transformResponse),d},function(d){return Jp(d)||(ao(s),d&&d.response&&(d.response.data=io(d.response.data,d.response.headers,s.transformResponse))),Promise.reject(d)})},it=_t,Ku=function(s,o){o=o||{};var u={},d=["url","method","data"],g=["headers","auth","proxy","params"],y=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],m=["validateStatus"];function T(M,I){return it.isPlainObject(M)&&it.isPlainObject(I)?it.merge(M,I):it.isPlainObject(I)?it.merge({},I):it.isArray(I)?I.slice():I}function w(M){it.isUndefined(o[M])?it.isUndefined(s[M])||(u[M]=T(void 0,s[M])):u[M]=T(s[M],o[M])}it.forEach(d,function(I){it.isUndefined(o[I])||(u[I]=T(void 0,o[I]))}),it.forEach(g,w),it.forEach(y,function(I){it.isUndefined(o[I])?it.isUndefined(s[I])||(u[I]=T(void 0,s[I])):u[I]=T(void 0,o[I])}),it.forEach(m,function(I){I in o?u[I]=T(s[I],o[I]):I in s&&(u[I]=T(void 0,s[I]))});var S=d.concat(g).concat(y).concat(m),A=Object.keys(s).concat(Object.keys(o)).filter(function(I){return S.indexOf(I)===-1});return it.forEach(A,w),u},Ju=_t,Zp=Uu,nu=Tp,Qp=Xp,oa=Ku;function li(i){this.defaults=i,this.interceptors={request:new nu,response:new nu}}li.prototype.request=function(s){typeof s=="string"?(s=arguments[1]||{},s.url=arguments[0]):s=s||{},s=oa(this.defaults,s),s.method?s.method=s.method.toLowerCase():this.defaults.method?s.method=this.defaults.method.toLowerCase():s.method="get";var o=[Qp,void 0],u=Promise.resolve(s);for(this.interceptors.request.forEach(function(g){o.unshift(g.fulfilled,g.rejected)}),this.interceptors.response.forEach(function(g){o.push(g.fulfilled,g.rejected)});o.length;)u=u.then(o.shift(),o.shift());return u};li.prototype.getUri=function(s){return s=oa(this.defaults,s),Zp(s.url,s.params,s.paramsSerializer).replace(/^\?/,"")};Ju.forEach(["delete","get","head","options"],function(s){li.prototype[s]=function(o,u){return this.request(oa(u||{},{method:s,url:o}))}});Ju.forEach(["post","put","patch"],function(s){li.prototype[s]=function(o,u,d){return this.request(oa(d||{},{method:s,url:o,data:u}))}});var eh=li;function Ro(i){this.message=i}Ro.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Ro.prototype.__CANCEL__=!0;var Yu=Ro,th=Yu;function ra(i){if(typeof i!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(d){s=d});var o=this;i(function(d){o.reason||(o.reason=new th(d),s(o.reason))})}ra.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};ra.source=function(){var s,o=new ra(function(d){s=d});return{token:o,cancel:s}};var rh=ra,nh=function(s){return function(u){return s.apply(null,u)}},iu=_t,ih=Wu,Qi=eh,ah=Ku,oh=qu;function Xu(i){var s=new Qi(i),o=ih(Qi.prototype.request,s);return iu.extend(o,Qi.prototype,s),iu.extend(o,s),o}var Ut=Xu(oh);Ut.Axios=Qi;Ut.create=function(s){return Xu(ah(Ut.defaults,s))};Ut.Cancel=Yu;Ut.CancelToken=rh;Ut.isCancel=Gu;Ut.all=function(s){return Promise.all(s)};Ut.spread=nh;No.exports=Ut;No.exports.default=Ut;var sh=No.exports;const vr=sh.create({baseURL:"http://127.0.0.1:16001/",headers:{"Access-Control-Allow-Origin":"*"},timeout:1e3});var lh=function(){var i=this,s=i.$createElement,o=i._self._c||s;return o("div",{staticClass:"API-Preview tdesign-document"},[o("t-table",{attrs:{data:i.list,columns:i.columns,rowKey:"id",tableLayout:"auto",hover:""},scopedSlots:i._u([{key:"component",fn:function(u){var d=u.row,g=d===void 0?{}:d;return[o("div",[o("div",[o("span",{staticStyle:{"padding-right":"8px"}},[i._v(i._s(g.component))]),g.field_category_text?o("t-tag",{attrs:{size:"small",theme:{Props:"primary",Events:"success",Functions:"warning",Return:"default",Extends:"default","<T>":"default"}[g.field_category_text]||"primary",variant:"light"}},[i._v(" "+i._s(g.field_category_text)+" ")]):i._e()],1)])]}},{key:"field_desc_zh",fn:function(u){var d=u.row,g=d===void 0?{}:d;return[o("div",[o("p",[g.deprecated?[i._v("\u5DF2\u5E9F\u5F03\u3002")]:i._e(),g.html_attribute?[i._v("HTML \u539F\u751F\u5C5E\u6027\u3002")]:i._e(),g.field_required?[i._v("\u5FC5\u9700\u3002")]:i._e(),i._v(" "+i._s(g.field_desc_zh)+" "),i.isTestedPC(g.test_description)?o("t-tag",[i._v("Tested(PC)")]):i._e()],2),g.field_enum?[o("p",[i._v("\u53EF\u9009\u503C\uFF1A"+i._s(g.field_enum)+"\u3002")])]:i._e(),g.custom_field_type?[o("p",[i._v("TS \u7C7B\u578B\u5B9A\u4E49\uFF1A"+i._s(g.custom_field_type)+"\u3002")])]:i._e(),g.event_input?[o("p",[i._v(" \u53C2\u6570\uFF1A"+i._s(g.event_input)+" ")])]:i._e(),g.event_output?[o("p",[i._v(" \u8FD4\u56DE\u503C\uFF1A"+i._s(g.event_output)+" ")])]:i._e(),o("p",[g.syntactic_sugar?[i._v(" \u652F\u6301 Vue \u8BED\u6CD5\u7CD6\uFF1A"+i._s(g.syntactic_sugar)+"\u3002 ")]:i._e(),g.support_default_value?[i._v("\u652F\u6301\u975E\u53D7\u63A7\u5C5E\u6027\u3002")]:i._e()],2),o("p",{staticStyle:{"font-size":"12px",color:"#a6a6a6"}},[i._v(" "+i._s(g.platform_framework_text.join(", "))+" ")]),g.version?o("p",{staticStyle:{"font-size":"12px",color:"#a6a6a6"}},[i._v(" \u7248\u672C\u53F7\uFF1A"+i._s(g.version)+" ")]):i._e()],2)]}},{key:"field_type_text",fn:function(u){var d=u.row;return[i._v(" "+i._s(d.field_type_text&&d.field_type_text.join("/"))+" ")]}},{key:"operation",fn:function(u){return[o("div",[o("div",{staticClass:"t-demo-table-btns"},[o("t-button",{attrs:{variant:"text",theme:"primary"},on:{click:function(){return i.onEditClick(u)}}},[i._v("Edit")]),o("t-button",{attrs:{variant:"text",theme:"primary"},on:{click:function(){return i.onTestsEditClick(u)}}},[i._v("Tests")]),o("t-popconfirm",{attrs:{theme:"danger",content:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",trigger:"click"},on:{confirm:function(){return i.onDeleteConfirm(u)}}},[o("t-button",{staticStyle:{"margin-left":"8px"},attrs:{variant:"text",theme:"danger"}},[i._v("Delete")])],1)],1),o("div",{staticStyle:{"font-size":"12px",color:"#a6a6a6"}},[i._v(" "+i._s(u.row.update_time)+" ")])])]}}])})],1)},uh=[];const fh={name:"ApiList",components:{TTable:Nd,TButton:Lu,TPopconfirm:Id},props:{list:Array,platformOptions:Array,preview:Boolean},computed:{columns(){return this.getCols()}},watch:{},methods:{getCols(){const i=[{title:"ID",colKey:"id"},{title:"\u7EC4\u4EF6/\u63D2\u4EF6",colKey:"component",fixed:"left",width:200},{title:"\u540D\u79F0",colKey:"field_name"},{title:"\u63CF\u8FF0",colKey:"field_desc_zh"},{title:"\u7C7B\u578B",colKey:"field_type_text"},{title:"\u9ED8\u8BA4\u503C",colKey:"field_default_value",width:90}];return this.preview||i.push({title:"\u64CD\u4F5C",colKey:"operation",fixed:"right"}),i},onCreate(){this.$emit("create-api")},onDeleteConfirm(i){vr({url:"/cmp/api",method:"delete",data:{id:i.row.id}}).then(()=>{this.$message.info("\u5220\u9664\u6210\u529F\uFF01"),this.$emit("delete-api-success")})},onEditClick(i){this.$emit("click-edit-btn",i)},onTestsEditClick(i){this.$emit("click-test-edit-btn",i)},onCodePreivew(i,s){this.$emit("code-preview",i,s)},isTestedPC(i){if(!i)return!1;const s=mt(i);return!(!s||!s.PC)}}},au={};var ch=er(fh,lh,uh,!1,dh,null,null,null);function dh(i){for(let s in au)this[s]=au[s]}var ph=function(){return ch.exports}(),hh=function(){var i=this,s=i.$createElement,o=i._self._c||s;return o("div",{staticClass:"tdesign-checkbox-indeterminate"},[o("t-checkbox",{staticClass:"site-check-all",attrs:{checked:i.checkedAll,indeterminate:i.indeterminate},on:{change:i.onCheckedAllChange}},[i._v("\u5168\u90E8")]),o("t-checkbox-group",{attrs:{options:i.options},on:{change:i.onChange},model:{value:i.checkedList,callback:function(u){i.checkedList=u},expression:"checkedList"}})],1)},vh=[];const gh={name:"SiteCheckbox",components:{TCheckbox:Pu,TCheckboxGroup:Nu},props:{options:Array,value:{}},data(){return{indeterminate:!1,checkedList:[]}},computed:{checkedStr(){return this.checkedList.join()},checkedAll(){const i=this.checkedList,s=this.options?this.options.map(o=>o.value):[];return i.sort().join()===s.sort().join()}},watch:{value:{immediate:!0,handler(i){this.checkedList=i}},checkedStr(){this.$emit("input",this.checkedList)}},methods:{onCheckedAllChange(i){this.indeterminate=!1,this.checkedList=i?this.options.map(s=>s.value):[]},onChange(i){this.indeterminate=!!i.length&&!this.checkedAll}}},ou={};var mh=er(gh,hh,vh,!1,yh,null,null,null);function yh(i){for(let s in ou)this[s]=ou[s]}var Zu=function(){return mh.exports}(),bh=function(){var i=this,s=i.$createElement,o=i._self._c||s;return o("div",{staticClass:"t-api-tool__multi-operations"},[o("t-button",{attrs:{theme:"primary"},nativeOn:{click:function(u){return i.onCreateApi.apply(null,arguments)}}},[i._v("New API")]),o("t-button",{attrs:{theme:"primary"},nativeOn:{click:function(u){return i.onGenerateDialogShow.apply(null,arguments)}}},[i._v("Generate API Files")]),o("a",{staticClass:"link",attrs:{href:"https://github.com/Tencent/tdesign/wiki/Component-API-Guide",target:"_blank"}},[o("t-button",{staticStyle:{color:"#99999"},attrs:{variant:"text"}},[i._v(" API Design ")])],1),o("t-dialog",{attrs:{header:"\u751F\u6210",width:"830",visible:i.generateFilesVisible},on:{"update:visible":function(u){i.generateFilesVisible=u},confirm:i.onGenerateConfirm}},[o("div",{attrs:{slot:"body"},slot:"body"},[o("form",{staticClass:"t-form api-edit-form",attrs:{onsubmit:"return false"}},[o("div",{staticClass:"t-form-item"},[o("label",[i._v("\u7EC4\u4EF6\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u7EC4\u4EF6",clearable:"",filterable:""},model:{value:i.formData.component,callback:function(u){i.$set(i.formData,"component",u)},expression:"formData.component"}},i._l(i.componentList,function(u,d){return o("t-option",{key:d,attrs:{label:`${u.value} ${u.label}`,value:u.value}})}),1)],1)]),o("div",{staticClass:"t-form-item"},[o("label",{staticStyle:{"vertical-align":"top"}},[i._v("\u6846\u67B6\u5E73\u53F0\uFF1A")]),o("div",{staticClass:"t-form-content platform"},[o("site-checkbox",{attrs:{options:i.frameworkOptions},model:{value:i.formData.platform,callback:function(u){i.$set(i.formData,"platform",u)},expression:"formData.platform"}})],1)]),o("div",{staticClass:"t-form-item"},[o("label",{staticStyle:{"vertical-align":"top"}},[i._v("\u53C2\u6570\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-checkbox",{model:{value:i.formData.finalProject,callback:function(u){i.$set(i.formData,"finalProject",u)},expression:"formData.finalProject"}},[i._v("\u8F93\u51FA\u6587\u4EF6\u5230\u5404\u6846\u67B6\u4ED3\u5E93")]),i._v("\xA0\xA0 "),o("t-checkbox",{model:{value:i.formData.onlyDocs,callback:function(u){i.$set(i.formData,"onlyDocs",u)},expression:"formData.onlyDocs"}},[i._v("\u4EC5\u8F93\u51FA API \u6587\u6863")]),i._v("\xA0\xA0 "),o("t-checkbox",{model:{value:i.formData.useDefault,callback:function(u){i.$set(i.formData,"useDefault",u)},expression:"formData.useDefault"}},[i._v("\u8F93\u51FA useDefault/useVModel \u6587\u4EF6(Vue2)")]),i._v("\xA0\xA0 "),o("t-checkbox",{model:{value:i.formData.vitest,callback:function(u){i.$set(i.formData,"vitest",u)},expression:"formData.vitest"}},[i._v("\u8F93\u51FA\u5355\u6D4B\u7528\u4F8B")])],1)]),i.commandLine&&i.commandLine.length?o("div",{staticClass:"t-form-item"},[o("label",[i._v("\u6700\u7EC8\u547D\u4EE4\u884C\uFF1A")]),o("div",{staticClass:"t-form-content",staticStyle:{"vertical-align":"top"}},i._l(i.commandLine,function(u){return o("code",{key:u},[i._v(i._s(u)),o("br")])}),0)]):i._e()])])])],1)},Ch=[];const xh={name:"ApiToolOperation",components:{TButton:Lu,TSelect:Mo,TOption:Lo,SiteCheckbox:Zu},props:{map:Object},data(){return{codeType:"",generateFilesVisible:!1,checkedAll:!1,formData:{platform:[],component:"",finalProject:!1}}},computed:{frameworkOptions(){return this.map.platform_framework?[{label:"VueNext(PC)",value:1e3}].concat(this.map.platform_framework):[]},componentList(){return[{label:"\u5168\u90E8",value:"ALL"}].concat(this.map.components).filter(i=>i&&!i.type||["Table"].includes(i==null?void 0:i.value))},commandLine(){if(!this.map||!this.map.platform_framework)return;const i=this.formData.component,s={finalProject:this.formData.finalProject,onlyDocs:this.formData.onlyDocs,useDefault:this.formData.useDefault,vitest:this.formData.vitest,isUseUnitTest:this.formData.isUseUnitTest};i.toLocaleLowerCase()==="all"&&(s.onlyDocs=!0);const o=Object.keys(s).filter(d=>s[d]).join();return this.frameworkOptions.filter(d=>this.formData.platform.includes(d.value)).map(d=>`npm run api:docs ${i} "${d.label}" ${o}`)}},methods:{onCreateApi(){this.$emit("create-dialog-show")},onGenerateDialogShow(){this.generateFilesVisible=!0},onGenerateConfirm(){vr({method:"post",url:"/cmp/generate-api",data:{commandLines:this.commandLine.map(i=>i.replace("npm run api:docs",""))}}).then(()=>{this.generateFilesVisible=!1})}}},su={};var Sh=er(xh,bh,Ch,!1,Th,null,null,null);function Th(i){for(let s in su)this[s]=su[s]}var wh=function(){return Sh.exports}();const ho=1,vo=2,_h=4,go=8,Qu=16,ef=32,tf=64,Dh={[ho]:{placeholder:{name:"\u8BF7\u8F93\u5165\u5C5E\u6027\u540D\u79F0\uFF0C\u5982\uFF1Aname/theme/size/disabled"}},[vo]:{placeholder:{name:"\u4E8B\u4EF6\u540D\u79F0\u5F55\u5165\u65F6\u7EDF\u4E00\u4F7F\u7528\u5C0F\u9A7C\u5CF0\u547D\u540D\uFF0C\u4E14\u4E0D\u5E26on\uFF0C\u5982\uFF1AvisibleChange",inputParams:"\u4E8B\u4EF6\u53C2\u6570\uFF0C\u5982\uFF1A(context: { e: Event, value: string | number })",descZh:"\u8BF7\u8F93\u5165\u4E8B\u4EF6\u63CF\u8FF0\uFF08\u4E2D\u6587\uFF09\uFF0C\u5982\uFF1A\u70B9\u51FB\u786E\u8BA4\u6309\u94AE\u65F6\u89E6\u53D1",descEn:"type event description in English",triggerElements:"\u4E8B\u4EF6\u89E6\u53D1\u5143\u7D20\u63CF\u8FF0\uFF0C\u9ED8\u8BA4\u4E3A MouseEvent<HTMLDivElement>"}},[_h]:{placeholder:{name:"\u7EC4\u4EF6\u5BF9\u5916\u66B4\u9732\u7684\u65B9\u6CD5\u540D\u79F0",inputParams:"\u65B9\u6CD5\u53C2\u6570\uFF0C\u5982\uFF1A(validateRules: RulesObject)",outputParams:"\u65B9\u6CD5\u8FD4\u56DE\u503C\uFF0C\u5982\uFF1A(validateResult: boolean)",descZh:"\u8F93\u5165\u65B9\u6CD5\u63CF\u8FF0\uFF0C\u5982\uFF1A\u4F7F\u7528\u8BE5\u65B9\u6CD5\u8FDB\u884C\u8868\u5355\u6821\u9A8C",descEn:"type function description in English"}},[go]:{placeholder:{name:"\u7EC4\u4EF6\u63D2\u4EF6\u540D\u79F0\uFF0C\u5982\uFF1Athis.$message.info",inputParams:"\u63D2\u4EF6\u53C2\u6570\uFF0C\u5982\uFF1A(options) => {}",outputParams:"\u63D2\u4EF6\u8FD4\u56DE\u503C\uFF0C\u5982\uFF1A(options) => Promise<instance: \u7EC4\u4EF6\u5B9E\u4F8B>",descZh:"\u63D2\u4EF6\u63CF\u8FF0\uFF0C\u5982\uFF1A\u4F7F\u7528\u8BE5\u63D2\u4EF6\u5F39\u51FA\u4FE1\u606F\u63D0\u9192",descEn:"type plugin description in English"}},[Qu]:{placeholder:{name:"\u8BF7\u8F93\u5165\u7EE7\u627F API \u540D\u79F0"},desc:"React.ButtonHTMLAttributes<HTMLButtonElement>"},[ef]:{placeholder:{name:"\u8BF7\u8F93\u5165\u63D2\u4EF6\u51FD\u6570\u8FD4\u56DE\u503C\u7C7B\u578B"},desc:"Promise<MessageInstance>;\u3010interface MessageInstance { close: () => void }\u3011  }"},[tf]:{placeholder:{name:"\u8BF7\u8F93\u5165\u6CDB\u578B\u53C2\u6570\uFF0C\u793A\u4F8B\uFF1A<DataOption = TreeOptionData>"}}},oo=1,kh=2,Eh=1,$h=8;var na={exports:{}};function Oh(i,s=""){if(!i||i.indexOf("preSkip")!==-1)return{};try{return JSON.parse(i)}catch{return console.error(s||`${i} is not a JSON.`),{}}}function Ah(i,s){const o={};return i[s].forEach(u=>{o[u.label]=u.value}),o}function Mh(i){return i?".skip":""}function Lh(i,s){const o={};return i.forEach(u=>{s&&!u.platform_framework.includes(s)||(o[u.component]?o[u.component].push(u):o[u.component]=[u])}),Object.keys(o).forEach(u=>{o[u].type==="plugin"&&(o[u]=o[u].sort((g,y)=>g.field_category<y.field_category?-1:g.create_time.localeCompare(y.create_time)))}),o}function Ph(i,s){const o={};return Object.keys(i).forEach(u=>{if(!u)return;const d=i[u];d instanceof Array?o[u]=d:typeof d=="object"?(!d.includes&&!d.excludes||d.includes&&d.includes.includes(s)||d.excludes&&!d.excludes.includes(s))&&(o[u]=d.list):console.warn("COMPONENT_API_MD_MAP \u6570\u636E\u7ED3\u6784\u4E0D\u5BF9\uFF0C\u53EA\u80FD\u662F Array \u6216\u8005 Object \u7C7B\u578B")}),o}function Nh(i,s){const o=Object.entries(i);for(let u=0,d=o.length;u<d;u++){const[g,y]=o[u];if(y.includes(s))return g}}var Cn={parseJSON:Oh,formatArrayToMap:Ah,groupByComponent:Lh,getApiComponentMapByFrameWork:Ph,getSkipCode:Mh,getParentByChildComponent:Nh};const Ih={focus:"focus",blur:"blur",click:"click",wheel:"wheel",paste:"paste",mousedown:"mouseDown",mouseenter:"mouseEnter",mouseleave:"mouseLeave",mousemove:"mouseMove",mouseout:"mouseOut",mouseover:"mouseOver",mouseup:"mouseUp",keydown:"keyDown",keypress:"keyPress",keyup:"keyUp",dragend:"dragEnd",dragenter:"dragEnter",dragexit:"dragExit",dragleave:"dragLeave",dragover:"dragOver",dragstart:"dragStart",drop:"drop",compositionend:"compositionEnd",compositionstart:"compositionStart",compositionupdate:"compositionUpdate","keydown.enter":{event:"keyDown",modifier:{key:"Enter",code:"Enter",charCode:13},userEvent:"Enter"},"keydown.backspace":{event:"keyDown",modifier:{key:"Backspace",code:"Backspace",charCode:8},userEvent:"Backspace"},"keydown.esc":{event:"keyDown",modifier:{key:"Escape",code:"Escape",charCode:27},userEvent:"Escape"},"keydown.delete":{event:"keyDown",modifier:{key:"Delete",code:"Delete",charCode:46},userEvent:"Delete"},"keydown.tab":{event:"keyDown",modifier:{key:"Tab",code:"Tab",charCode:9},userEvent:"Tab"},"keydown.space":{event:"keyDown",modifier:{key:"Space",code:"Space",charCode:32}},"keydown.left":{event:"keyDown",modifier:{key:"ArrowLeft",code:"ArrowLeft",charCode:37},userEvent:"ArrowLeft"},"keydown.up":{event:"keyDown",modifier:{key:"ArrowUp",code:"ArrowUp",charCode:38},userEvent:"ArrowUp"},"keydown.right":{event:"keyDown",modifier:{key:"ArrowRight",code:"ArrowRight",charCode:39},userEvent:"ArrowRight"},"keydown.down":{event:"keyDown",modifier:{key:"ArrowDown",code:"ArrowDown",charCode:40},userEvent:"ArrowDown"}};var Fh={UNIT_TEST_EVENTS_MAP:Ih};const Rh=["mouseenter","mouseleave"];var jh={reactNeedMockDelayEvents:Rh};const sa=Ao,Bh=Iu,Wh=Mu,{UNIT_TEST_EVENTS_MAP:Hh}=Fh,{reactNeedMockDelayEvents:zh}=jh,rf=["value","checked"],nf="style",af=["simulateInputChange","simulateInputEnter","simulateKeydownEvent","simulateImageEvent","simulateFileChange","simulateDragFileChange","simulateDocumentMouseEvent"],Uh=["getFakeFileList"];function Gh(i){return`'${i.field_category_text.toLocaleLowerCase()}.${i.field_name} works fine'`}function Vh(i,s){if(i==="Vue(PC)")return[`mount({
        render() {
          return (
            ${s}
          );
        }
      })`];if(["VueNext(PC)","Vue(Mobile)"].includes(i))return s.length>100?`mount(
${s}
)`:`mount(${s})`;if(["React(PC)","React(Mobile)"].includes(i))return s.length>100?`render(
${s}
)`:`render(${s})`}function qh(i){Object.keys(i).forEach(s=>{s===void 0&&delete i[s]})}function Kh(i,s,o,u={}){const{content:d,wrapper:g}=u;qh(o);const y=o.events;delete o.events;let m="";if(g){const T=[s,Xh(o,y),y].filter(w=>w).join(", ");return`${g}(${T})`}else{const T=o?Object.keys(o).map(S=>{const A=typeof o[S]=="object"?JSON.stringify(o[S]):o[S],M=of(A);return`${S}=${/^'.+'$/.test(M)?M:`{${M}}`}`}).join(" "):"",w=y&&!y.includes("on=")&&i==="Vue(PC)"?`on={${y}}`:y;m=`<${s} ${T} ${w||""}>${d||""}</${s}>`}return Vh(i,m)}function Jh(i,s,o){const{wrapper:u}=o,d=!u&&s!=="Vue(PC)",g=[];return i.forEach((y,m)=>{!y.event||Object.keys(y.event).forEach(T=>{const[w]=T.split("."),S=Yh(w,s);d?g.push(`${S}={${mo(w,m)}}`):g.push(`${S}: ${mo(w,m)}`)})}),d?g.join(" "):g.length?`{ ${g.join(", ")} }`:void 0}function Yh(i,s){return s==="Vue(PC)"?`'${Bh(i)}'`:jo(i)}function mo(i,s){return`${jo(i)}Fn${s||""}`}function jo(i){return`on${Wh(sa(i))}`}function Xh(i,s){if(!i||!Object.keys(i).length)return s?"{}":"";const o=Object.entries(i);return o.length?`{ ${o.map(([d,g])=>`'${d}': ${of(g)}`).join(", ")} }`:{}}function of(i){if(typeof i=="boolean"||/^'.+'$/.test(i))return i;if(/^\$\{.+\}$/.test(i))return i.slice(2,-1);if(/^\/-.+-\/$/.test(i))return i.slice(2,-2);if(typeof i=="string"&&(i.indexOf("=>")!==-1||i.indexOf("</")!==-1||i.indexOf("/>")!==-1||/^\[.*\]$/.test(i)||/^\{.*\}$/.test(i)))return i;if(Array.isArray(i)||!Array.isArray(i)&&typeof i)return JSON.stringify(i);try{return JSON.parse(i),i}catch{return typeof i=="string"?`'${i}'`:i}}function Zh(i,s,o="",u){if(!!i){if(u)return"expect(document.body).toMatchSnapshot();";if(s.indexOf("Vue")!==-1)return`expect(wrapper${o}.element).toMatchSnapshot();`;if(s.indexOf("React")!==-1)return`expect(container${o}).toMatchSnapshot();`}}function Qh(i,s,o="",u="",d={}){const{trigger:g="",component:y,wrapper:m,onlyDocumentDom:T}=d;if(i.indexOf("Vue")!==-1){const w=o?`.find('${o}')`:"",S=[];let A=Array.isArray(s)?s.join(`
`):s;return i==="Vue(PC)"&&g.includes("focus")&&!m&&(S.push("// Vue2 need attachTo to trigger `focus` event. https://v1.test-utils.vuejs.org/api/wrapper/#trigger","createElementById()"),A=A.replace(/\)$/,", { attachTo: '#focus-dom' })")),T?S.push(`${A}${w};`):S.push(`const wrapper${u} = ${A}${w};`),g&&S.push(yo(g,i,y)),S.filter(M=>M).join(`
`)}if(i.indexOf("React")!==-1){const w=g&&yo(g,i,y);return T?[s,w].filter(S=>S).join(`
`):ev(s,o,u,{triggerCode:w})}}function ev(i,s="",o="",{triggerCode:u}){const d=o;return s?[`const wrapper${d} = ${i};`,u,`const container${d} = wrapper${d}.container.querySelector('${s}');`].filter(g=>g).join(`
`):[o?`const { container: container${o} } = ${i};`:`const { container } = ${i};`,u].filter(g=>g).join(`
`)}function sf(i){return sa(i.replace(/(\.|#|)/g,""))}function tv(i,s,o=""){const u=i.replace("document",""),d=`${sf(u)}Dom${o}`;return[`const ${d} = document.querySelector(${u});`,`expect(${d}).toBeTruthy();`].filter(g=>g).join(`
`)}function rv(i,s,o=""){if(!!s){if(s.indexOf("document")!==-1)return tv(s,i,o);if(i.indexOf("Vue")!==-1)return`expect(wrapper${o}.find(${s}).exists()).toBeTruthy();`;if(i.indexOf("React")!==-1)return`expect(container${o}.querySelector(${s})).toBeTruthy();`}}function nv(i,s,o=""){if(!!s){if(s.indexOf("document")!==-1)return`expect(document.querySelector(${s.replace("document","")})).toBeNull();`;if(i.indexOf("Vue")!==-1)return`expect(wrapper${o}.find(${s}).exists()).toBeFalsy();`;if(i.indexOf("React")!==-1)return`expect(container${o}.querySelector(${s})).toBeFalsy()`}}function lf(i,s,o){const u=i.replace("document",""),d=`${sf(u)}Dom`,g=(typeof s=="object"||s==!1)&&typeof s!="number";return[`const ${d} = document.${g?"querySelector":"querySelectorAll"}('${u}')`,(()=>{if(s===!1)return`expect(${d}).toBeFalsy()`;if(typeof s=="number")return iv(d,s);if(g)return av(d,s,o)})()].filter(m=>m).join(`
`)}function iv(i,s){return`expect(${i}.length).toBe(${s});`}function av(i,s,o){if(o.indexOf("Vue")!==-1)return`expect(${i}.textContent).toBe('${s.text}');`;if(o.indexOf("React")!==-1)return`expect(${i}.textContent).toBe('${s.text}');`}function ov(i,s,o="",u=""){let d="";const g=Object.entries(s).map(([y,m])=>{if(y==="clearElementAtEnd"){d=m;return}if(typeof m=="object"&&m.className)return fv(i,y,m,o,u);if(typeof m=="number"||m===!1)return sv(i,y,m,o);if(typeof m=="object"){if(m.text)return lv(i,y,m,o);if(m.attribute)return uv(i,y,m,o,u)}});return d&&g.push(uf(d,i)),g.filter(y=>y).join(`
`)}function uf(i,s){return s.indexOf("React")!==-1?void 0:(Array.isArray(i)?i:[i]).map(u=>`document.querySelectorAll('${u}').forEach(node => node.remove());`).join(`
`)}function sv(i,s,o,u){if(!isNaN(o)){if(s.indexOf("document")!==-1)return lf(s,o,i);if(i.indexOf("Vue")!==-1)return o===!1?`expect(wrapper${u}.find('${s}').exists()).toBeFalsy();`:`expect(wrapper${u}.findAll('${s}').length).toBe(${o});`;if(i.indexOf("React")!==-1)return o===!1?`expect(container${u}.querySelector('${s}')).toBeFalsy();`:`expect(container${u}.querySelectorAll('${s}').length).toBe(${o});`}}function lv(i,s,o,u){if(s.indexOf("document")!==-1)return lf(s,o,i);if(i.indexOf("Vue")!==-1)return`expect(wrapper${u}.find('${s}').text()).toBe('${o.text}');`;if(i.indexOf("React")!==-1)return`expect(container${u}.querySelector('${s}').textContent).toBe('${o.text}');`}function uv(i,s,o,u,d){const g=[],y=i.indexOf("Vue")!==-1,m=i.indexOf("React")!==-1,T=`attrDom${u||""}${d||""}`,w=s.indexOf("document")!==-1;return w?g.push(`const ${T} = document.querySelector('${s.replace("document","")}');`):y?g.push(`const ${T} = wrapper${u}.find('${s}');`):m&&g.push(`const ${T} = container${u}.querySelector('${s}');`),Object.entries(o.attribute).forEach(([S,A])=>{y?g.push(Bo(i,T,S,A,{isDocumentNode:w})):m&&g.push(Wo(i,T,S,A,"attrDom"))}),g.filter(S=>S).join(`
`)}function fv(i,s,o,u,d){const g=[];return o.className.forEach(y=>{const m=[{dom:s,className:{[y]:!0}}];g.push(pf(i,m,u,d))}),g.filter(y=>y).join(`
`)}function cv(i,s,o="",u=""){if(i.indexOf("Vue")!==-1)return`expect(wrapper${o}.classes(${s})).toBeTruthy();`;if(i.indexOf("React")!==-1)return`expect(container${o}${u?"":".firstChild"}).toHaveClass(${s});`}function dv(i,s,o=""){if(i.indexOf("Vue")!==-1)return`expect(wrapper${o}.classes(${s})).toBeFalsy();`;if(i.indexOf("React")!==-1)return`expect(container${o}.querySelector(\`.\${${s}}\`)).toBeFalsy();`}function pv(i,s,o="",u){return Object.entries(s).map(([d,g])=>hv(i,d,g,o,u)).join(`
`)}function hv(i,s,o,u,d){if(i.indexOf("Vue")!==-1)return Bo(i,`wrapper${u}`,s,o);if(i.indexOf("React")!==-1)return Wo(i,`container${u}`,s,o,d)}function Bo(i,s,o,u,d={}){const{isDocumentNode:g}=d,y=cf(o,u,i);return rf.includes(o)||o.includes(nf)?`expect(${s}${g?"":".element"}.${ff(o)}).${y};`:g?`expect(${s}.getAttribute('${o}')).${y};`:`expect(${s}.attributes('${o}')).${y};`}function Wo(i,s,o,u,d){const g=cf(o,u,i),y=d?"":".firstChild";return rf.includes(o)||o.includes(nf)?`expect(${s}${y}.${ff(o)}).${g};`:`expect(${s}${y}.getAttribute('${o}')).${g};`}function ff(i){return i.split(".").map(s=>s.includes("-")?sa(s):s).join(".")}function cf(i,s,o=""){if(s===!1)return vv(o);if(s===!0)return"toBeTruthy()";const u=typeof s=="string"&&s.includes("not."),d=u?s.slice(4):s,g=u?"not.":"";if(["toBeUndefined","toBeDefined"].includes(d))return`${s}()`;const y=/^\/.+\/$/.test(s)?s.slice(1,-1):`'${s}'`;return`${g}toBe(${y})`}function vv(i){if(i.indexOf("React")!==-1)return"toBeNull()";if(i.indexOf("Vue")!==-1)return"toBeUndefined()"}function gv(i,s,o,u=""){let d=[];return i.indexOf("Vue")!==-1&&s.forEach(({dom:g,attribute:y},m)=>{const T=mv(i,g,o,m,y,u);d=d.concat(T)}),i.indexOf("React")!==-1&&s.forEach(({dom:g,attribute:y},m)=>{const T=yv(i,g,m,y,u);d=d.concat(T)}),d.join(`
`)}function df(i,s){return i.indexOf("document")!==-1?`document.querySelector('${["document","body"].includes(i)?i:i.replace("document","").replace("document.body","body")}');`:s}function mv(i,s,o,u,d,g){const y=s==="self"||!s?`findComponent(${o})`:`find('${s}')`;return[`const domWrapper${u||""} = ${df(s,`wrapper${g}.${y}`)};`,Object.entries(d).map(([T,w])=>Bo(i,`domWrapper${u||""}`,T,w,{isDocumentNode:s.indexOf("document")!==-1})).join(`
`)]}function yv(i,s,o,u,d){const g=s==="self"||!s?"firstChild":`querySelector('${s}')`;return[`const domWrapper${o||""} = ${df(s,`container${d}.${g}`)};`,Object.entries(u).map(([m,T])=>Wo(i,`domWrapper${o||""}`,m,T,s)).join(`
`)]}function pf(i,s,o="",u=""){let d=[];return i.indexOf("Vue")!==-1&&s.forEach(({dom:g,className:y},m)=>{const T=`domWrapper${u||m||""}`,w=g.indexOf("document")!==-1,A=[w?`const ${T} = document.querySelector('${g.replace("document","")}');`:`const ${T} = wrapper${o}.find('${g}');`,Object.entries(y).map(([M,I])=>{const z=I?"toBeTruthy":"toBeFalsy",V=w?`classList.contains('${M}')`:`classes('${M}')`;return`expect(${T}.${V}).${z}();`}).join(`
`)];d=d.concat(A)}),i.indexOf("React")!==-1&&s.forEach(({dom:g,className:y},m)=>{const T=`domWrapper${u||m||""}`,S=[g.indexOf("document")!==-1?`const ${T} = document.querySelector('${g.replace("document","")}');`:`const ${T} = container${o}.querySelector('${g}');`,Object.entries(y).map(([A,M])=>M?`expect(${T}).toHaveClass('${A}');`:`expect(${T}.classList.contains('${A}')).toBeFalsy();`).join(`
`)];d=d.concat(S)}),d.join(`
`)}function bv(i){return`[${i.map(s=>typeof s=="string"?`'${s}'`:JSON.stringify(s)).join(", ")}]`}function hf(i){if(!i)return;const s=[];return Object.entries(i).forEach(([o,u])=>{const d=o.indexOf("-")!==-1?`'${o}'`:o,g=typeof u=="string"?`'${u}'`:u;s.push(`${d}: ${g}`)}),`{ ${s.join(", ")} }`}function Ho(i){if(!i.trigger)return{};const[s]=i.trigger.split("("),[o]=i.trigger.match(/\(.+\)$/)||[],u=i.triggerDom||(o==null?void 0:o.slice(1,-1));return{trigger:s,triggerDom:u}}function Cv(i,s){if(!i)return{};const o=s.indexOf("Vue")!==-1?i:Hh[i];if(!o){console.warn(`can not recognize Event Name: ${i}. Check Event Name in https://github.com/vuejs/test-utils/blob/main/src/constants/dom-events.ts#L109`);return}return typeof o=="object"?{eventName:o.event,eventModifier:hf(o.modifier)}:{eventName:o}}function zo(i){const s=["{"],o=Object.entries(i).map(([u,d])=>{let g=typeof d=="string"&&d!=="undefined"?`'${d}'`:d;return/\$\{.+\}/.test(d)&&(g=d.match(/\$\{(.+)\}/)[1]),typeof g=="object"&&(g=zo(g)),`'${u}': ${g}`}).join(",");return s.push(o),s.push("}"),s.join("")}function xv(i){const s=["["],o=i.map(u=>typeof u=="object"?zo(u):typeof u=="string"?`'${u}'`:u).join(",");return s.push(o),s.push("]"),s.join("")}function Sv(i,s,o,u){const d=["onChange","onInputChange"];return i.indexOf("React")!==-1&&(u===".e.type"||u===".type")&&/^'input'$/.test(o)&&d.find(g=>s.indexOf(g)!==-1)?"'change'":o}function so(i,s,o,u,d="",g="calls[0]"){const y=d?/^\[\d+\]/.test(d)?d:`.${d}`:"";if(/length=/.test(u)){const[m,T]=u.slice(1,-1).split("=");return`expect(${s}.mock.${g}[${o}]${y}.length).toBe(${T});`}else{if(oi(u))return`expect(${u}.test(${s}.mock.${g}[${o}]${y})).toBeTruthy();`;{const m=typeof u=="object"||/\$\{.+\}/.test(u)?"toEqual":"toBe";let T=Sv(i,s,u,y);typeof T=="object"&&(T=Array.isArray(T)?xv(T):zo(T)),/\$\{.+\}/.test(u)&&(T=u.match(/\$\{(.+)\}/)[1]);const w=/toBeTruthy/.test(T)?"toBeTruthy()":`${m}(${T})`;return`expect(${s}.mock.${g}[${o}]${y}).${w};`}}}function Tv(i,s,o={}){const{fnName:u="fn",calls:d="calls[0]",tnodeProps:g=!1}=o;if(typeof s=="string"&&s==="not")return[`expect(${u}).not.toHaveBeenCalled();`];if(!Array.isArray(s))return[];const y=s.map((m,T)=>{if(m===void 0||m==="skip")return;const w=g&&i.indexOf("Vue")!==-1?T+1:T;return typeof m=="string"&&!oi(m)&&m!=="undefined"?so(i,u,w,`'${m}'`,void 0,d):typeof m=="object"&&!Array.isArray(m)?Object.keys(m).map(S=>{const A=m[S];if(A===!0){const I=`${u}.mock.${d}[${w}].${S}`;return oi(m)?`expect(${m}.test(${I})).toBeTruthy();`:`expect(${I}).toBeTruthy();`}const M=typeof A=="string"&&!oi(A)&&A!=="undefined"?`'${A}'`:A;return so(i,u,w,M,S,d)}).join(`
`):so(i,u,w,m,void 0,d)});return y.unshift(`expect(${u}).toHaveBeenCalled();`),y.filter(m=>m)}function vf(i,{dom:s,event:o,delay:u,component:d},g="",y=""){let m=[];if(o!=="delay"){const w=kv(o,s),S=/^'.+'$/.test(s)?s.slice(1,-1):s;if(w.isSimulateEvent){const A=Dv(i,{component:d,eventInfo:w,wrapperIndex:g,eventIndex:y});A&&m.push(A)}else{const A=_v(i,{dom:S,event:(o==null?void 0:o.indexOf("delay"))!==-1?o:o==null?void 0:o.replace(/\(.+\)/,""),component:d},g="");A&&m.push(A)}}let T=u&&u!==!0||u===0?u:"";return i.indexOf("Vue")!==-1?(!T&&o==="delay"&&!isNaN(s)&&(T=s),T||T===0?m.push(`await mockDelay(${T});`):m.push(`await wrapper${g}.vm.$nextTick();`)):i.indexOf("React")!==-1&&(gf(o,u)||o==="delay")&&(o==="delay"&&!isNaN(s)&&(T=s),m.push(`await mockDelay(${T||""});`)),m.join(`
`)}function wv(i,s,o=""){var y;if(!i)return"";const u=[];if(!i.includes("delay"))return"";const g=((y=i.match(/\((.+)\)/))==null?void 0:y[1])||"";return s.indexOf("Vue")!==-1?g?u.push(`await mockDelay(${g});`):u.push(`await wrapper${o}.vm.$nextTick();`):s.indexOf("React")!==-1&&u.push(`await mockDelay(${g});`),u.join(`
`)}function _v(i,{dom:s,event:o,component:u},d=""){const{eventName:g,eventModifier:y}=Cv(o,i)||{};if(i.indexOf("Vue")!==-1){let m="";return g&&(s==="self"||!s?m=`wrapper${d}.findComponent(${u}).trigger('${g}');`:s.indexOf("document")!==-1?m=`document.querySelector('${s.replace("document","")}').${g}()`:m=`wrapper${d}.find('${s}').trigger('${g}');`),m}else if(i.indexOf("React")!==-1){let m=s==="self"||!s?`container${d}.firstChild`:`container.querySelector('${s}')`;s.indexOf("document")!==-1&&(m=`document.querySelector('${s.replace("document","")}')`);const T=[m,y].filter(S=>S).join(", ");return g?`fireEvent.${g}(${T});`:""}}function Dv(i,{component:s,eventInfo:o,wrapperIndex:u,eventIndex:d}){const{simulateEvent:g,args:y}=o,m=`${sa(y[0])}Dom${d||""}`,T=y[0],w=[];if(T==="document")return`${g}(${y.join(", ")});`;if(i.indexOf("Vue")!==-1){let A="";if(T==="self"||!T)A=`const ${m} = wrapper${u}.findComponent(${s}).element;`;else if(T.indexOf("document")!==-1){const M=T.replace("document","");A=`const ${m} = document.querySelector(${M}).element`}else A=`const ${m} = wrapper${u}.find(${T}).element;`;w.push(A)}else if(i.indexOf("React")!==-1){let A=T==="self"||!T?`container${u}.firstChild`:`container.querySelector(${T})`;T.indexOf("document")!==-1&&(A=`document.querySelector(${T.replace("document","")})`),A=`const ${m} = `+A,w.push(A)}const S=g.replace(/\(.+\)$/,"");return w.push(`${S}(${[`${m}`].concat(y.slice(1)).join(", ")});`),w.join(`
`)}function kv(i,s){const o=Boolean(af.find(u=>i&&i.indexOf(u)!==-1));return o?{isSimulateEvent:o,simulateEvent:i,args:s.split(",").map(u=>u.trim())}:{isSimulateEvent:o}}function gf(i,s){return s||s===0||s==="0"?!0:zh.includes(i)}function mf(i,s){if(!i||s.indexOf("React")===-1)return{};const o=Array.isArray(i)?i:[i];let u=!1;return o.forEach(d=>{const{delay:g}=d,{trigger:y}=Ho(d);gf(y,g)&&(u=!0)}),{reactAsync:u}}function oi(i){return/^\/(.+)\/[i|g|m/s]*$/.test(i)}function yo(i,s,o){return!i||!o?void 0:(Array.isArray(i)?i:[i]).map(d=>{const{triggerDom:g="self",trigger:y}=Ho({trigger:d});return vf(s,{dom:g,event:d.indexOf("delay")?d:y,component:o})}).join(`
`)}function Ev(i){if(typeof i=="string")return[{trigger:i}];if(Array.isArray(i))return i.map(s=>({trigger:s}))}function $v(i,s){const{reactAsync:o}=mf(Ev(i),s);return s.indexOf("Vue")!==-1&&i||o||(i==null?void 0:i.includes("delay"))?"async":""}function Ov(i,s){return i.component===s?"props":i.component}function Av(i){return i&&i.join(`
`)}var xn={SIMULATE_FUNCTIONS:af,GET_VAR_FUNCTIONS:Uh,getEventName:jo,getEventFnName:mo,isRegExp:oi,getItDescription:Gh,getWrapper:Qh,getMountComponent:Kh,getSnapshotCase:Zh,getArrayCode:bv,getObjectCode:hf,formatToTriggerAndDom:Ho,getDomExpectTruthy:rv,getDomExpectFalsy:nv,getDomCountExpectCode:ov,getClassNameExpectTruthy:cv,getClassNameExpectFalsy:dv,getAttributeExpect:pv,getDomAttributeExpect:gv,getDomClassNameExpect:pf,getEventArguments:Tv,getFireEventCode:vf,getClearDomInDocumentCode:uf,getReactFireEventAsync:mf,getEventFunctions:Jh,getDelayCode:wv,getPresetsExpect:yo,getItAsync:$v,getCategoryDesc:Ov,getVariablesCode:Av};const{SIMULATE_FUNCTIONS:Mv,GET_VAR_FUNCTIONS:Lv}=xn,Pv=["mockDelay","mockTimeout"];function Nv(i){return Pv.filter(s=>new RegExp(s).test(i))}function Iv(i={},s){const{hasEvent:o=!1,importedComponents:u=[],importedMounts:d=new Set,needDefaultRender:g=!1,importedTestUtils:y=[]}=i,m=s.join(""),T=Nv(m),w={"Vue(PC)":{"@vue/test-utils":[],vitest:[],"..":[],"./mount":[],"@test/utils":[]},"VueNext(PC)":{"@vue/test-utils":[],vitest:[],"..":[],"./mount":[],"@test/utils":[]},"Vue(Mobile)":{"@vue/test-utils":[],vitest:[],"..":[],"./mount":[],"@test/utils":[]},"React(PC)":{react:"React","@test/utils":[],"..":[],"./mount":[]},"React(Mobile)":{react:"React","@test/utils":[],"..":[],"./mount":[]}};if(o&&(w["Vue(PC)"].vitest.push("vi"),w["VueNext(PC)"].vitest.push("vi"),w["React(PC)"]["@test/utils"].push("fireEvent","vi")),u.length&&Object.keys(w).forEach(S=>{w[S][".."].push(...new Set(u))}),d.size>0){const S=[...d];Object.keys(w).forEach(A=>{w[A]["./mount"]=S})}if(g&&(w["React(PC)"]["@test/utils"].push("render"),w["React(Mobile)"]["@test/utils"].push("render"),w["Vue(PC)"]["@vue/test-utils"].push("mount"),w["VueNext(PC)"]["@vue/test-utils"].push("mount"),w["Vue(Mobile)"]["@vue/test-utils"].push("mount")),T&&Object.keys(w).forEach(S=>{w[S]["@test/utils"].push(...T)}),y&&y.length){const S=[...new Set(y)];Object.keys(w).forEach(A=>{w[A]["@test/utils"]=w[A]["@test/utils"].concat(S)})}return w}function Fv(i,s,o=[]){const u=i[s],d=[];return Object.entries(u).forEach(([g,y])=>{!y||!y.length||(Array.isArray(y)&&y.length>0?d.push(`import { ${y.join(", ")} } from '${g}'`):d.push(`import ${y} from '${g}'`))}),d.push(...o),d.join(`;
`)}function yf(i){const s=[];return Mv.forEach(o=>{i&&i.includes(o)&&s.push(o)}),s}function Rv(i,s,o,u){const d=[],g=[];return Array.isArray(s)?(s.forEach(y=>{Array.isArray(y.expect)&&(y.expect.forEach(m=>{if(typeof m=="object"&&m.trigger){const T=yf(m.trigger||u);T&&T.length&&d.push(...T),i==="Vue(PC)"&&!o&&m.trigger.includes("focus")&&d.push("createElementById")}}),y.wrapper&&g.push(y.wrapper))}),{importedTestUtils:d,importedMounts:g}):[]}function jv(i){const{variables:s,tnode:o}=i,u=s||[];Array.isArray(o)&&o.forEach(g=>{g.variables&&u.push(...g.variables)});const d=[];return Lv.forEach(g=>{u.find(y=>y.includes(g))&&d.push(g)}),d}var Bv={getImportsConfig:Iv,getImportsCode:Fv,getMoreEventImports:Rv,getSimulateEvents:yf,getVariableImports:jv};const{getItDescription:lu,getWrapper:pr,getMountComponent:Or,getSnapshotCase:pn,getArrayCode:uu,getClassNameExpectTruthy:Ar,getClassNameExpectFalsy:lo,getDomClassNameExpect:Wv,getPresetsExpect:Mr,getItAsync:Hv,getCategoryDesc:Ki}=xn,{getSkipCode:ii}=Cn;function zv(i,s,o,u){const d=Uv(i,s,o,u);return d&&d.filter(g=>g)}function Uv(i,s,o,u){const{className:d,classNameDom:g,props:y,snapshot:m,content:T,wrapper:w,trigger:S,skip:A}=i,M={content:T,wrapper:w},I=Hv(S,o),z=Or(o,u,Qe(oe({},y),{[s.field_name]:"/-item-/"}),M),V=s.field_enum.split("/").filter(G=>G),J=Ki(s,u);if(typeof d=="string"&&d.indexOf("${item}")!=-1&&V.length&&s.field_type_text[0]==="String")return[`[${V.map(k=>`'${k}'`).join(", ")}].forEach((item) => {`,`it${ii(A)}(\`${J}.${s.field_name} is equal to \${ item }\`,${I} () => {`,pr(o,z,g),S&&Mr(S,o,u),Ar(o,`\`${d}\``,"",g),pn(m,o),"});","});"];if(Array.isArray(d))if(s.field_type_text[0]==="String"&&V.length){const G=`${s.field_name}ClassNameList`,k=Gv(d),$=Ki(s,u);return[`const ${G} = ${uu(d)};`,`${uu(V)}.forEach((item, index) => {`,`it${ii(A)}(\`${$}.${s.field_name} is equal to \${ item }\`, ${I} () => {`,pr(o,z,g),S&&Mr(S,o,u),k?[`if (typeof ${G}[index] === 'string') {`,Ar(o,`${G}[index]`,"",g),`} else if (typeof ${G}[index] === 'object') {
            const classNameKey = Object.keys(${G}[index])[0];`,lo(o,"classNameKey"),"}"].join(`
`):Ar(o,`${G}[index]`,"",g),pn(m,o),"});","});"]}else{const G=Vv(d),k=Ki(s,u);return d.map(({value:$,expect:L})=>{const B=Or(o,u,Qe(oe({},y),{[s.field_name]:$}),M);return[`it${ii(A)}(\`${k}.${s.field_name} is equal to ${$}\`,${I} () => {`,pr(o,B,"","",{onlyDocumentDom:G}),S&&Mr(S,o,u),Wv(o,L),pn(m,o,"",{onlyDocumentDom:G}),"});"].filter(Q=>Q).join(`
`)})}if(typeof d=="string")if(s.field_type_text[0]==="Boolean"){const G=Or(o,u,oe({},y),M),k=Or(o,u,Qe(oe({},y),{[s.field_name]:!0}),M),$=Or(o,u,Qe(oe({},y),{[s.field_name]:!1}),M);return[`it${ii(A)}(${lu(s)},${I} () => {`,`// ${s.field_name} default value is ${s.field_default_value}`,pr(o,G,g,"1"),S&&Mr(S,o,u),s.field_default_value==="true"?Ar(o,`'${d}'`,"1",g):lo(o,`'${d}'`,"1",g),`// ${s.field_name} = true`,pr(o,k,g,"2"),S&&Mr(S,o,u),Ar(o,`'${d}'`,"2",g),pn(m,o,"2"),`// ${s.field_name} = false`,pr(o,$,g,"3"),S&&Mr(S,o,u),lo(o,`'${d}'`,"3",g),pn(m,o,"3"),"});"]}else{const G=Or(o,u,oe({},y),M);return[`it${ii(A)}(${lu(s)},${I} () => {`,pr(o,G,g,"",oe({trigger:S,component:u},M)),Ar(o,`'${d}'`,"",g),pn(m,o),"});"]}if(typeof d=="object"&&!Array.isArray(d)){const G=Ki(s,u),k=`${s.field_name}ClassNameMap`,$=Or(o,u,Qe(oe({},y),{[s.field_name]:"/-propValue-/"}),M);return[`const ${k} = ${JSON.stringify(d)};`,`Object.entries(${k}).forEach(([enumValue, expectedClassName]) => {
        it(\`${G}.${s.field_name} is equal to \${ enumValue }\`,${I} () => {
          let propValue = { true: true, false: false }[enumValue];
          propValue = propValue === undefined ? enumValue : propValue;`,pr(o,$,g),S&&Mr(S,o,u),Ar(o,"expectedClassName","",g),`});
      });`]}}function Gv(i){for(let s=0,o=i.length;s<o;s++)if(typeof i[s]!="string")return!0;return!1}function Vv(i){if(!!Array.isArray(i)){for(let s=0,o=i.length;s<o;s++){const u=i[s];if(typeof u=="object"&&u.expect&&u.expect.length){for(let d=0,g=u.expect.length;d<g;d++)if(!u.expect[d].dom.includes("document"))return!1}}return!0}}var qv={generateClassNameUnitCase:zv};const{kebabCase:uo}=Fd.exports,{getItDescription:Kv,getWrapper:Jv,getSnapshotCase:Yv,getDomExpectTruthy:bf,getMountComponent:Lr,getEventArguments:fu,getDelayCode:cu,getItAsync:Cf,getVariablesCode:bo}=xn,{getSkipCode:Xv}=Cn,yn="custom-node",Zv="document.custom-node";function Qv(i,s,o,u){let d=[];const{tnode:g,props:y,variables:m}=i;return Array.isArray(g)?g.forEach(T=>{const w=Qe(oe({},i),{tnode:T,props:oe(oe({},T.props),y),variables:[...T.variables||[],...m||[]]});w.tnode.description&&(w.tnode.description=`props.${s.field_name}: ${w.tnode.description}`),d=d.concat(du(w,s,o,u),`
`)}):d=d.concat(du(i,s,o,u)),d.filter(T=>T)}function du(i,s,o,u){const{tnode:d,props:g,variables:y,snapshot:m,content:T,wrapper:w,trigger:S,skip:A}=i,M={content:T,wrapper:w};let I="";if(o.indexOf("Vue")!==-1){const G=o==="Vue(PC)"?"h":"";I=Lr(o,u,oe({[s.field_name]:`(${G}) => <span class='${yn}'>TNode</span>`},g),M)}else o.indexOf("React")!==-1&&(s.field_name==="children"&&u===s.component?I=Lr(o,u,oe({},g),Qe(oe({},M),{content:`<span className='${yn}'>TNode</span>`})):I=Lr(o,u,oe({[s.field_name]:`<span className='${yn}'>TNode</span>`},g),M));const z=s.component===u?Kv(s):`'${s.component}.${s.field_name} works fine'`;let V=Co({itDesc:z,componentCode:I,trigger:d.trigger||S,framework:o,component:u,snapshot:m,tnode:d,skip:A,variables:y});const J=eg(M,s,o,u,m,d,A,g,S,y);if(J.length&&(V=V.concat(J)),typeof d=="object"&&d.params){const G=tg(d,s,o,u,{extraCode:M,skip:A,props:g,trigger:S,variables:y,description:d.description});V.push(G)}return V}function eg(i,s,o,u,d,g,y,m,T,w){let S=[],A=[],M=[];if(o.indexOf("Vue")!==-1){const I=s.field_type_text.join()==="Boolean,TNode",z=o==="Vue(PC)"?"scopedSlots":"v-slots",V=z==="scopedSlots"?"h":"",J=oe({[z]:`{ ${s.field_name}: (${V}) => <span class='${yn}'>TNode</span> }`},m);I&&(J[s.field_name]=!0);const G=Lr(o,u,J,i);S.push(`
`);const k=`'slots.${s.field_name} works fine'`;if(A=Co({itDesc:k,componentCode:G,trigger:g.trigger||T,framework:o,component:u,snapshot:d,tnode:g,skip:y,variables:w}),uo(s.field_name)!==s.field_name){const $=oe({[z]:`{ '${uo(s.field_name)}': (${V}) => <span class='${yn}'>TNode</span> }`},m);I&&($[s.field_name]=!0);const L=Lr(o,u,$,i);S.push(`
`);const B=`'slots.${uo(s.field_name)} works fine'`;M=Co({itDesc:B,componentCode:L,trigger:g.trigger||T,framework:o,component:u,snapshot:d,tnode:g,skip:y,variables:w})}}return A.length&&(S=S.concat(A)),M.length&&(S=S.concat(M)),S}function Co(i){var J;const{itDesc:s,componentCode:o,trigger:u,framework:d,component:g,snapshot:y,tnode:m,skip:T,variables:w}=i,S=Cf(u,d),A=Boolean(m.dom&&m.dom.includes(Zv)),M=Boolean(!u||u.indexOf("delay")!==-1||u&&u.indexOf("document")!==-1),I=Boolean(m.dom&&m.dom.length);let z=Boolean(M&&I&&((J=m==null?void 0:m.dom)==null?void 0:J.every(G=>G.includes("document"))));return[`it${Xv(T)}(${m.description?`'${m.description}'`:s}, ${S} () => {`,bo(w),Jv(d,o,"","",{onlyDocumentDom:z,trigger:u,component:g}),!A&&bf(d,`'.${yn}'`),m.dom&&rg(d,m.dom),Yv(y,d,"",z),"});"].filter(G=>G)}function tg(i,s,o,u,d){const{extraCode:g,skip:y,props:m,trigger:T,variables:w,description:S}=d,A=i.trigger||T,M=y?".skip":"",I=Cf(A,o),z=s.component===u?"props":s.component,V=S?`'${z}.${s.field_name}: a function with params${S?`, ${S}`:""}'`:`'${z}.${s.field_name} is a function with params'`,J=[`
it${M}(${V}, ${I} () => {`,bo(w),"const fn = vi.fn();",Lr(o,u,oe({[s.field_name]:"/-fn-/"},m),g),A&&cu(A,o),fu(o,i.params,{tnodeProps:!0}).join(`
`),"})"].filter(G=>G);if(o.indexOf("Vue")!==-1){const G=o==="Vue(PC)"?"scopedSlots":"v-slots",k=`slots.${s.field_name}: a function with params${S?`, ${S}`:""}`||`slots.${s.field_name} is a function with params`;J.push(`it${M}('${k}', ${I}() => {`,bo(w),"const fn = vi.fn();",Lr(o,u,oe({[G]:`{ '${s.field_name}': fn }`},m),g),cu(A,o),fu(o,i.params).join(`
`),"})")}return J.join(`
`)}function rg(i,s){return(Array.isArray(s)?s:[s]).map(u=>bf(i,`'${u}'`)).join(`
`)}var ng={generateTNodeElement:Qv};const{getArrayCode:pu,getItDescription:ig,getMountComponent:xo,getWrapper:So,getSnapshotCase:To,getAttributeExpect:hu,getDomAttributeExpect:ag,getItAsync:xf,getPresetsExpect:wo,getCategoryDesc:Sf}=xn,{getSkipCode:_o}=Cn;function og(i,s,o,u){const d=sg(i,s,o,u);return d&&d.filter(g=>g)}function sg(i,s,o,u){const{attribute:d,attributeDom:g,props:y,snapshot:m,content:T,wrapper:w,skip:S,trigger:A}=i,M={content:T,wrapper:w};if(typeof d!="object")return;if(Array.isArray(d))return lg(i,s,o,u,g,A);const I=xf(A,o),z=Object.keys(d)[0],V=d[z],J=s.field_enum&&s.field_enum.split("/");if(Array.isArray(V)&&J.length){const G=xo(o,u,oe({[s.field_name]:"/-item-/"},y),M),k=Sf(s,u);return[`const attributeValues = ${pu(V)};`,`${pu(J)}.forEach((item, index) => {`,`it${_o(S)}(\`${k}.${s.field_name} is equal to \${item}\`, ${I} () => {`,So(o,G,g),A&&wo(A,o,u),hu(o,{[z]:"/attributeValues[index]/"},"",g),To(m,o),"});","});"].filter(L=>L)}if(typeof V=="string"&&z===s.field_name){const G=xo(o,u,oe({[s.field_name]:V},y),M);return[`it${_o(S)}(${ig(s)},${I} () => {`,So(o,G,g),A&&wo(A,o,u),hu(o,{[z]:V},"",g),To(m,o),"});"].filter($=>$)}}function lg(i,s,o,u,d,g){const{attribute:y,props:m,snapshot:T,content:w,wrapper:S,skip:A}=i,M={content:w,wrapper:S},I=xf(g,o),z=ug(y);return y.map(({value:V,expect:J})=>{const G=xo(o,u,oe({[s.field_name]:V},m),M),k=Sf(s,u);return[`it${_o(A)}(\`${k}.${s.field_name} is equal to ${V}\`,${I} () => {`,So(o,G,d,"",{onlyDocumentDom:z}),g&&wo(g,o,u),ag(o,J,u),To(T,o,"",z),"});"].filter(L=>L).join(`
`)})}function ug(i){if(!!Array.isArray(i)){for(let s=0,o=i.length;s<o;s++){const u=i[s];if(u.expect&&u.expect.length){for(let d=0,g=u.expect.length;d<g;d++)if(!u.expect[d].dom.includes("document"))return!1}}return!0}}var fg={generateAttributeUnitCase:og};const{getArrayCode:vu,getMountComponent:hn,getSnapshotCase:Ji,getWrapper:vn,getDomExpectTruthy:ea,getDomExpectFalsy:gu,getDomCountExpectCode:cg,getPresetsExpect:gn,getItAsync:dg,getCategoryDesc:pg,getVariablesCode:Yi}=xn,{getSkipCode:Xi}=Cn;function hg(i,s,o,u){let d=[];const{dom:g,props:y,variables:m,description:T,snapshot:w}=i;return Array.isArray(g)&&g[0]&&g[0].dom?g.forEach(S=>{const A=S.props,M=S.variables,I=S.description,z=S.snapshot;delete S.props,delete S.variables,delete S.description,delete S.snapshot,s.field_enum="";const V=Qe(oe({},i),{dom:S.dom,props:oe(oe({},A),y),variables:[...M||[],...m||[]],description:I||T,snapshot:z||w});V.description&&(V.description=`props.${s.field_name}: ${V.description}`),d=d.concat(mu(V,s,o,u),`
`)}):d=d.concat(mu(i,s,o,u)),d&&d.filter(S=>S)}function mu(i,s,o,u){const{props:d,variables:g,dom:y,snapshot:m,content:T,wrapper:w,trigger:S,skip:A,description:M}=i,I={content:T,wrapper:w},z=dg(S,o),V=pg(s,u);if(typeof y=="string"&&s.field_type_text.includes("Boolean")){const J=hn(o,u,oe({},d),I),G=hn(o,u,oe({[s.field_name]:!1},d),I),k=hn(o,u,oe({[s.field_name]:!0},d),I),$=!S||S&&S.indexOf("document")!==-1||S.indexOf("delay")!==-1,L=Boolean(y&&y.indexOf("document")!==-1&&$),B=M||`${V}.${s.field_name}: ${u} contains element \`${y}\``;return[`it${Xi(A)}('${B}', ${z}() => {`,Yi(g),`// ${s.field_name} default value is ${s.field_default_value}`,vn(o,J,"","",{onlyDocumentDom:L}),S&&gn(S,o,u),s.field_default_value==="true"?ea(o,`'${y}'`):gu(o,`'${y}'`),`// ${s.field_name} = false`,vn(o,G,void 0,"1",{onlyDocumentDom:L}),S&&gn(S,o,u),gu(o,`'${y}'`,"1"),`// ${s.field_name} = true`,vn(o,k,void 0,"2",{onlyDocumentDom:L}),S&&gn(S,o,u),ea(o,`'${y}'`,"2"),Ji(m,o,"2",L),"})"].filter(Q=>Q)}if(Array.isArray(y))if(s.field_enum){const J=s.field_enum.split("/"),G=`${s.field_name}ExpectedDom`,k=hn(o,u,oe({[s.field_name]:"/-item-/"},d),I),$=y.find(W=>typeof W=="string"&&W.includes("document"))?"document":"",L=M?`'${M}'`:`\`${V}.${s.field_name} is equal to \${item}\``;return[`const ${G} = ${vu(y.map(W=>W.replace("document","")))};`,`${vu(J)}.forEach((item, index) => {
          it${Xi(A)}(${L}, ${z} () => {`,Yi(g),vn(o,k),S&&gn(S,o,u),ea(o,`${$}${G}[index]`),Ji(m,o),"});","});"].filter(W=>W)}else{let J=[];const G=yu(y,S);return y.forEach(k=>{const $=hn(o,u,oe({},d),I);let L=JSON.stringify(k);L=L.length>100?"":` \`${L}\` should exist`;const B=M||`${V}.${s.field_name} works fine.${L}`,W=[`it${Xi(A)}('${B}',${z} () => {`,Yi(g),vn(o,$,"","",{onlyDocumentDom:G}),S&&gn(S,o,u),bu(o,k),Ji(m,o,"",G),`});
`];J=J.concat(W)}),J.filter(k=>k)}if(!Array.isArray(y)&&typeof y=="object"){let J=[];const G=yu(y,S);return Object.entries(y).forEach(([k,$])=>{const L=hn(o,u,oe({[s.field_name]:k},d),I),B=M||`${V}.${s.field_name} is equal ${k.replace(/'/g,"")}`,W=[`it${Xi(A)}('${B}', ${z} () => {`,Yi(g),vn(o,L,"","",{onlyDocumentDom:G}),S&&gn(S,o,u),bu(o,$),Ji(m,o,"",G),`});
`];J=J.concat(W)}),J.filter(k=>k)}}function yu(i,s){let o=!0,u=[];const d=y=>{Array.isArray(y)?typeof y[0]=="object"&&y[0].dom?y.forEach(m=>{d(m)}):u=u.concat(y):typeof y=="object"&&(u=Object.values(y))};return d(i),u.forEach(y=>{if(typeof y=="string"&&!y.includes("document")){o=!1;return}typeof y=="object"&&Object.keys(y).forEach(m=>{m.includes("document")||(o=!1)})}),Boolean(!s||s&&s.indexOf("document")!==-1||s.indexOf("delay")!==-1)||(o=!1),o}function bu(i,s){if(typeof s=="string")return ea(i,`'${s}'`);if(typeof s=="object"&&!Array.isArray(s))return cg(i,s)}var vg={generateDomUnitCase:hg};const gg=Iu,mg=Ao,{getWrapper:Cu,getMountComponent:xu,getDomExpectTruthy:yg,getItDescription:bg,formatToTriggerAndDom:Tf,getFireEventCode:wf,getDomCountExpectCode:Cg,getClearDomInDocumentCode:xg,getReactFireEventAsync:Su,getEventFunctions:Sg,getEventName:Tg,getEventFnName:_f,getEventArguments:Df,getPresetsExpect:Tu,getItAsync:wg}=xn,{getSkipCode:wu}=Cn;function _g(i,s,o,u){const d=Dg(i,s,o,u);return d&&d.filter(g=>g)}function Dg(i,s,o,u){const{props:d,trigger:g,content:y,wrapper:m,delay:T,skip:w}=i;let{event:S}=i;d&&Array.isArray(S)&&(S=S.map(z=>Qe(oe({},z),{props:oe(oe({},d),z.props)})));const A={content:y,wrapper:m},M=Mg(S)&&o.indexOf("Vue")===-1,I=wg(g,o);if(typeof S=="object"&&!Array.isArray(S)){const V=Object.keys(S)[0],J=Tf({trigger:V}),G=J.trigger,k=J.triggerDom,L={events:Ag(o,{[G]:"fn"})};s.field_type_text[0]==="Boolean"&&(L[s.field_name]=!0);const B=xu(o,u,L,A),{reactAsync:W}=Su([{trigger:G,delay:T}],o),Q=o.indexOf("Vue")!==-1,fe=s.field_category_text?mg(s.field_category_text):"interactive";return[`it${wu(w)}('${fe}.${s.field_name} works fine', ${Q||W||I?"async":""} () => {
        const fn = vi.fn();`,Cu(o,B,"","",{trigger:G,wrapper:m,onlyDocumentDom:M}),g&&Tu(g,o,u),wf(o,{dom:k||"self",event:G,component:u,delay:T}),`${Df(o,S[V].arguments).join(`
`)}`,"});"].filter(he=>he)}else if(Array.isArray(S)){let z=[];return S.forEach(V=>{var N;const{props:J,expect:G,description:k,wrapper:$}=V,L=oe({},A);$&&(L.wrapper=$);const B=Qe(oe({},J||{}),{events:Sg(G,o,L)});s.field_type_text&&s.field_type_text[0]==="Boolean"&&B[s.field_name]===void 0&&(B[s.field_name]=!0);const W=xu(o,u,B,L),{reactAsync:Q}=Su(G,o),fe=o.indexOf("Vue")!==-1||Q||I?"async":"",ee=(N=s.field_category_text)==null?void 0:N.toLocaleLowerCase(),he=ee?`${ee}.${s.field_name}: `:"",Se=k?`'${he}${k}'`:bg(s),Me=[`it${wu(w)}(${Se}, ${fe} () => {`,kg(G),Cu(o,W,"","",{trigger:Og(G),wrapper:L.wrapper,onlyDocumentDom:M}),g&&Tu(g,o,u),G.map((R,E)=>Eg(R,E,o,u)).join(`
`),"});"];z=z.filter(R=>R).concat(Me,`
`)}),z}}function kg(i){return i.map(({event:s},o)=>{if(!s)return"";const u=Object.keys(s).map(d=>{const[g]=d.split(".");return`const ${_f(g,o)} = vi.fn();`});return u&&u.join(`
`)}).filter(s=>s).join(`
`)}function Eg(i,s,o,u){const{exist:d,event:g,delay:y,clearElementAtEnd:m}=i,{triggerDom:T="self",trigger:w}=Tf(i);return[wf(o,{dom:T,event:w,component:u,delay:y},"",s),$g(o,d,s),g&&Object.entries(g).map(([A,M])=>{const[I,z]=A.split("."),V=_f(I,s);return[Df(o,M,{fnName:V,calls:z}).join("")].join(`
`)}).join(`
`),m&&xg(m,o)].filter(A=>A).join("")}function $g(i,s,o){return((Array.isArray(s)||!s?s:[s])||[]).map(d=>typeof d=="object"?Cg(i,d,"",o):yg(i,`'${d}'`)).join(`
`)}function Og(i){if(!Array.isArray(i))return;let s="";return i.forEach(o=>{o.trigger&&o.trigger.includes("focus")&&(s="focus")}),s}function Ag(i,s){if(i==="Vue(PC)"){const u=[];return Object.entries(s).forEach(([d,g])=>{u.push(`'${gg(d)}': ${g},`)}),`on={{ ${u.join(" ")} }}`}const o=[];return Object.entries(s).forEach(([u,d])=>{o.push(`${Tg(u)}={${d}}`)}),o.join(`
`)}function Mg(i){if(!Array.isArray(i))return!1;for(let s=0,o=i.length;s<o;s++){const u=i[s];if(u.expect&&u.expect.length){for(let d=0,g=u.expect.length;d<g;d++)if(!u.expect[d].trigger.includes("document"))return!1}}return!0}var Lg={generateEventUnitCase:_g};function Pg(i,s,o){const{wrapper:u,copyTestToWrapper:d}=s,g=i.join(`
`),y=[];let m=[];const T=new RegExp(u,"g");return Array.isArray(d)&&(y.push(...d),m=d.map(w=>g.replace(T,w))),typeof d=="object"&&!Array.isArray(d)&&Object.keys(d).forEach(w=>{if(o.indexOf(w)!==-1){const S=d[w];y.push(...S);const A=S.map(M=>g.replace(T,M)).join(`
`);m.push(A)}}),{copyCode:m.join(`
`),wrappers:y}}var Ng={copyUnitTestsToOtherWrapper:Pg};const Ig=0,Fg={field_category:[{label:"Props",value:"1"},{label:"Events",value:"2"},{label:"Functions",value:"4"},{label:"Extends",value:"16"},{label:"Return",value:"32"},{label:"<T>",value:"64"}],platform:[{label:"PC",value:"1"},{label:"Mobile",value:"2"},{label:"MP",value:"3"}],framework:[{label:"Vue",value:"1"},{label:"React",value:"2"},{label:"MP",value:"3"}],platform_framework:[{label:"Vue(PC)",value:"1"},{label:"React(PC)",value:"2"},{label:"Angular(PC)",value:"4"},{label:"Vue(Mobile)",value:"8"},{label:"React(Mobile)",value:"16"},{label:"Angular(Mobile)",value:"32"},{label:"Miniprogram",value:"64"}],field_type:[{label:"String",value:"1"},{label:"Number",value:"2"},{label:"Boolean",value:"4"},{label:"Object",value:"8"},{label:"Array",value:"16"},{label:"Function",value:"32"},{label:"TNode",value:"64"},{label:"Date",value:"128"},{label:"File",value:"256"}],components:[{value:"$Dialog",label:"\u5BF9\u8BDD\u6846\u63D2\u4EF6",type:"plugin"},{value:"$Dialog.alert",label:"\u5BF9\u8BDD\u6846\u63D2\u4EF6",type:"plugin"},{value:"$Dialog.confirm",label:"\u5BF9\u8BDD\u6846\u63D2\u4EF6",type:"plugin"},{value:"$Drawer",label:"\u5BF9\u8BDD\u6846\u63D2\u4EF6",type:"plugin"},{value:"$Loading",label:"\u52A0\u8F7D\u4E2D\u63D2\u4EF6",type:"plugin"},{value:"$Message",label:"\u5168\u5C40\u63D0\u9192\u63D2\u4EF6",type:"plugin"},{value:"$Message.close",label:"\u5173\u95ED\u5168\u5C40\u63D0\u9192",type:"plugin"},{value:"$Message.closeAll",label:"\u5173\u95ED\u6240\u6709\u5168\u5C40\u63D0\u9192",type:"plugin"},{value:"$Message.config",label:"\u5168\u5C40\u63D0\u9192\u63D2\u4EF6",type:"plugin"},{value:"$Message.error",label:"\u5168\u5C40\u63D0\u9192\u63D2\u4EF6",type:"plugin"},{value:"$Message.info",label:"\u5168\u5C40\u63D0\u9192\u63D2\u4EF6",type:"plugin"},{value:"$Message.loading",label:"\u5168\u5C40\u63D0\u9192\u63D2\u4EF6",type:"plugin"},{value:"$Message.question",label:"\u5168\u5C40\u63D0\u9192\u63D2\u4EF6",type:"plugin"},{value:"$Message.success",label:"\u5168\u5C40\u63D0\u9192\u63D2\u4EF6",type:"plugin"},{value:"$Message.warning",label:"\u5168\u5C40\u63D0\u9192\u63D2\u4EF6",type:"plugin"},{value:"$Notification",label:"\u6D88\u606F\u901A\u77E5\u63D2\u4EF6",type:"plugin"},{value:"$Notification.close",label:"\u5173\u95ED\u6D88\u606F\u901A\u77E5",type:"plugin"},{value:"$Notification.closeAll",label:"\u5173\u95ED\u6240\u6709\u6D88\u606F\u901A\u77E5",type:"plugin"},{value:"$Notification.config",label:"\u6D88\u606F\u901A\u77E5\u63D2\u4EF6",type:"plugin"},{value:"$Notification.error",label:"\u6D88\u606F\u901A\u77E5\u63D2\u4EF6",type:"plugin"},{value:"$Notification.info",label:"\u6D88\u606F\u901A\u77E5\u63D2\u4EF6",type:"plugin"},{value:"$Notification.success",label:"\u6D88\u606F\u901A\u77E5\u63D2\u4EF6",type:"plugin"},{value:"$Notification.warning",label:"\u6D88\u606F\u901A\u77E5\u63D2\u4EF6",type:"plugin"},{value:"$Popup",label:"\u5168\u5C40\u6C14\u6CE1\u6846\u63D2\u4EF6",type:"plugin"},{value:"ActionSheetItem",label:"\u52A8\u4F5C\u9762\u677F\u9879\u7684\u914D\u7F6E",type:"TS"},{value:"Affix",label:"\u56FA\u9489"},{value:"Alert",label:"\u8B66\u544A\u63D0\u793A"},{value:"AlertConfig",label:"\u8B66\u544A\u63D0\u9192\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"Anchor",label:"\u951A\u70B9"},{value:"AnchorConfig",label:"\u951A\u70B9\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"AnchorItem",label:"\u951A\u70B9\u9879"},{value:"AnchorTarget",label:"\u951A\u70B9\u76EE\u6807"},{value:"Aside",label:"\u5E03\u5C40-\u4FA7\u8FB9\u680F"},{value:"AutoComplete",label:"\u81EA\u52A8\u586B\u5145"},{value:"Avatar",label:"\u5934\u50CF"},{value:"AvatarGroup",label:"\u5934\u50CF\u7EC4"},{value:"BackTop",label:"\u56DE\u5230\u9876\u90E8"},{value:"Badge",label:"\u5FBD\u6807\u6570"},{value:"BaseTable",label:"\u57FA\u7840\u8868\u683C"},{value:"BaseTableCol",label:"\u57FA\u7840\u8868\u683C\u5217",type:"TS"},{value:"Breadcrumb",label:"\u9762\u5305\u5C51"},{value:"BreadcrumbItem",label:"\u9762\u5305\u5C51\u9879"},{value:"Button",label:"\u6309\u94AE"},{value:"Calendar",label:"\u65E5\u5386"},{value:"CalendarCell",label:"\u65E5\u5386\u9879\u53C2\u6570",type:"TS"},{value:"CalendarConfig",label:"\u65E5\u5386\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"CalendarController",label:"\u65E5\u5386\u63A7\u5236\u5668",type:"TS"},{value:"Card",label:"\u5361\u7247"},{value:"Carousel",label:"\u8D70\u9A6C\u706F"},{value:"Cascader",label:"\u7EA7\u8054\u9009\u62E9"},{value:"CascaderConfig",label:"\u7EA7\u8054\u9009\u62E9\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"Checkbox",label:"\u591A\u9009\u6846"},{value:"CheckboxGroup",label:"\u591A\u9009\u6846\u7EC4"},{value:"CheckTag",label:"\u53EF\u9009\u6807\u7B7E"},{value:"CheckTagGroup",label:"\u53EF\u9009\u6807\u7B7E\u7EC4"},{value:"Col",label:"\u6805\u683C-\u7EB5\u5411"},{value:"Collapse",label:"\u6298\u53E0"},{value:"CollapsePanel",label:"\u6298\u53E0\u9762\u677F"},{value:"ColorPicker",label:"\u989C\u8272\u9009\u62E9\u5668"},{value:"ColorPickerConfig",label:"\u989C\u8272\u9009\u62E9\u5668\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"Comment",label:"\u8BC4\u8BBA"},{value:"ConfigProvider",label:"\u5168\u5C40\u7279\u6027\u914D\u7F6E"},{value:"Container",label:"\u5E03\u5C40\u5BB9\u5668"},{value:"Content",label:"\u5E03\u5C40-\u5185\u5BB9"},{value:"DatePicker",label:"\u65E5\u671F\u9009\u62E9\u5668"},{value:"DatePickerConfig",label:"\u65E5\u671F\u9009\u62E9\u5668\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"DatePickerPanel",label:"\u65E5\u671F\u9009\u62E9\u5668\u9762\u677F"},{value:"DateRangePicker",label:"\u65E5\u671F\u8303\u56F4\u9009\u62E9\u5668"},{value:"DateRangePickerPanel",label:"\u65E5\u671F\u8303\u56F4\u9009\u62E9\u5668\u9762\u677F"},{value:"DescriptionItem",label:"\u63CF\u8FF0\u9879"},{value:"Descriptions",label:"\u63CF\u8FF0\u5217\u8868"},{value:"DescriptionsConfig",label:"\u63CF\u8FF0\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"Dialog",label:"\u5BF9\u8BDD\u6846"},{value:"DialogConfig",label:"\u5BF9\u8BDD\u6846\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"DialogInstance",label:"\u5BF9\u8BDD\u6846\u63D2\u4EF6\u5B9E\u4F8B",type:"TS"},{value:"DialogOptions",label:"\u5BF9\u8BDD\u6846\u63D2\u4EF6\u53C2\u6570",type:"TS"},{value:"Divider",label:"\u5206\u5272\u7EBF"},{value:"Drawer",label:"\u6A21\u6001\u62BD\u5C49"},{value:"DrawerConfig",label:"\u62BD\u5C49\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"DrawerInstance",label:"\u5BF9\u8BDD\u6846\u63D2\u4EF6\u5B9E\u4F8B",type:"TS"},{value:"DrawerOptions",label:"\u6A21\u6001\u62BD\u5C49\u63D2\u4EF6\u53C2\u6570",type:"TS"},{value:"Dropdown",label:"\u4E0B\u62C9\u83DC\u5355"},{value:"DropdownItem",label:"\u4E0B\u62C9\u83DC\u5355\u9009\u9879"},{value:"Empty",label:"\u7A7A\u72B6\u6001"},{value:"EnhancedTable",label:"\u589E\u5F3A\u8868\u683C"},{value:"EnhancedTableCol",label:"\u589E\u5F3A\u8868\u683C\u5217",type:"TS"},{value:"Footer",label:"\u5E03\u5C40-\u5E95\u90E8\u5185\u5BB9"},{value:"Form",label:"\u8868\u5355"},{value:"FormConfig",label:"\u8868\u5355\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"FormErrorMessage",label:"\u8868\u5355\u6821\u9A8C\u89C4\u5219",type:"TS"},{value:"FormInstance",label:"\u8868\u5355\u793A\u4F8B",type:"TS",framework:["React(PC)","React(Mobile)"]},{value:"FormItem",label:"\u8868\u5355\u5143\u7D20"},{value:"FormList",label:"\u52A8\u6001\u8868\u5355\u5143\u7D20"},{value:"FormRule",label:"\u8868\u5355\u6821\u9A8C\u89C4\u5219",type:"TS"},{value:"GlobalConfigProvider",label:"\u5168\u5C40\u914D\u7F6E(\u662F ConfigProvider \u7684\u522B\u540D)",type:"TS"},{value:"Grid",label:"\u6805\u683C"},{value:"Guide",label:"\u5F15\u5BFC"},{value:"GuideConfig",label:"\u5F15\u5BFC\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"GuideStep",label:"\u5F15\u5BFC\u6B65\u9AA4",type:"TS"},{value:"Header",label:"\u5E03\u5C40-\u5934\u90E8"},{value:"HeadMenu",label:"\u9876\u90E8\u5BFC\u822A\u83DC\u5355"},{value:"Icon",label:"\u56FE\u6807"},{value:"Iconfont",label:"\u56FE\u6807\uFF08Iconfont\uFF09"},{value:"IconSVG",label:"\u56FE\u6807\uFF08IconSVG\uFF09"},{value:"ImageConfig",label:"\u56FE\u7247\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"ImageViewerConfig",label:"\u56FE\u7247\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"InfinityScroll",label:"\u65E0\u9650\u6EDA\u52A8\u914D\u7F6E",type:"TS"},{value:"Input",label:"\u8F93\u5165\u6846"},{value:"InputAdornment",label:"\u8F93\u5165\u88C5\u9970\u5668"},{value:"InputConfig",label:"\u8F93\u5165\u6846\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"InputGroup",label:"\u8F93\u5165\u6846\u7EC4"},{value:"InputNumber",label:"\u6570\u5B57\u8F93\u5165\u6846"},{value:"Layout",label:"\u5E03\u5C40"},{value:"Link",label:"\u94FE\u63A5"},{value:"List",label:"\u5217\u8868"},{value:"ListConfig",label:"\u5217\u8868\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"Loading",label:"\u52A0\u8F7D\u4E2D"},{value:"Mentions",label:"\u63D0\u53CA"},{value:"Menu",label:"\u4FA7\u8FB9\u5BFC\u822A\u83DC\u5355"},{value:"MenuGroup",label:"\u5BFC\u822A\u83DC\u5355\u7EC4"},{value:"MenuItem",label:"\u5BFC\u822A\u83DC\u5355\u9009\u9879"},{value:"Message",label:"\u5168\u5C40\u63D0\u9192"},{value:"MessageConfig",label:"\u6D88\u606F\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"MessageOptions",label:"\u5168\u5C40\u63D0\u9192\u6570\u636E\u7C7B\u578B",type:"TS"},{value:"Notification",label:"\u6D88\u606F\u901A\u77E5"},{value:"NotificationOptions",label:"\u5168\u5C40\u63D0\u9192\u6570\u636E\u7C7B\u578B",type:"TS"},{value:"Option",label:"\u9009\u62E9\u5668\u9009\u9879"},{value:"OptionGroup",label:"\u9009\u62E9\u5668\u9009\u9879\u7EC4"},{value:"PageHeader",label:"\u9875\u5934"},{value:"Pagination",label:"\u5206\u9875"},{value:"PaginationConfig",label:"\u5206\u9875\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"Popconfirm",label:"\u6C14\u6CE1\u786E\u8BA4\u6846"},{value:"PopconfirmConfig",label:"\u6C14\u6CE1\u786E\u8BA4\u6846\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"Popup",label:"\u6C14\u6CE1\u6846"},{value:"PrimaryTable",label:"\u4E3B\u8868\u683C"},{value:"PrimaryTableCol",label:"\u4E3B\u8868\u683C\u5217",type:"TS"},{value:"Progress",label:"\u8FDB\u5EA6\u6761"},{value:"Radio",label:"\u5355\u9009\u6846"},{value:"RadioGroup",label:"\u5355\u9009\u6846\u7EC4"},{value:"RangeInput",label:"\u8303\u56F4\u8F93\u5165\u6846"},{value:"RangeInputPopup",label:"\u8303\u56F4\u8F93\u5165\u6846\u89E6\u53D1\u5668"},{value:"Rate",label:"\u8BC4\u5206"},{value:"Result",label:"\u7ED3\u679C"},{value:"Row",label:"\u6805\u683C-\u6A2A\u5411"},{value:"Search",label:"\u641C\u7D22"},{value:"Select",label:"\u9009\u62E9\u5668"},{value:"SelectConfig",label:"\u9009\u62E9\u5668\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"SelectInput",label:"\u7B5B\u9009\u5668\u8F93\u5165\u6846"},{value:"Skeleton",label:"\u9AA8\u67B6\u5C4F"},{value:"Slider",label:"\u6ED1\u5757"},{value:"Space",label:"\u95F4\u8DDD"},{value:"Statistic",label:"\u7EDF\u8BA1\u6570\u503C"},{value:"StepItem",label:"\u6B65\u9AA4"},{value:"StepLoading",label:"\u5206\u6B65\u52A0\u8F7D"},{value:"Steps",label:"\u6B65\u9AA4\u6761"},{value:"StepsConfig",label:"\u6B65\u9AA4\u6761\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"StickyItem",label:"\u4FA7\u8FB9\u56FA\u9489\u9879"},{value:"StickyTool",label:"\u4FA7\u8FB9\u56FA\u9489"},{value:"Submenu",label:"\u4E8C\u7EA7\u5BFC\u822A"},{value:"Swiper",label:"\u8F6E\u64AD"},{value:"SwiperItem",label:"\u8F6E\u64AD\u9879"},{value:"SwiperNavigation",label:"\u8F6E\u64AD\u5BFC\u822A\u914D\u7F6E",type:"TS"},{value:"Switch",label:"\u5F00\u5173"},{value:"Table",label:"\u8868\u683C",type:"TS"},{value:"TableCol",label:"\u8868\u683C\u5217",type:"TS"},{value:"TableColumnController",label:"\u8868\u683C\u81EA\u5B9A\u4E49\u663E\u793A\u5217\u914D\u7F6E",type:"TS"},{value:"TableColumnFilter",label:"\u8868\u683C\u5217\u8FC7\u6EE4\u6761\u4EF6\u914D\u7F6E",type:"TS"},{value:"TableConfig",label:"\u8868\u683C\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"TableEditableCellConfig",label:"\u8868\u683C\u53EF\u7F16\u8F91\u5217\u914D\u7F6E",type:"TS"},{value:"TableRowState",label:"\u8868\u683C\u884C\u6570\u636E\u72B6\u6001",type:"TS"},{value:"TableTreeConfig",label:"\u8868\u683C\u6811\u5F62\u7ED3\u6784\u914D\u7F6E",type:"TS"},{value:"TabPanel",label:"\u9009\u9879\u5361\u9762\u677F"},{value:"Tabs",label:"\u9009\u9879\u5361"},{value:"Tag",label:"\u6807\u7B7E"},{value:"TagConfig",label:"\u6807\u7B7E\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"TagInput",label:"\u6807\u7B7E\u8F93\u5165\u6846"},{value:"Timeline",label:"\u65F6\u95F4\u8F74"},{value:"TimelineItem",label:"\u65F6\u95F4\u8F74"},{value:"TimePicker",label:"\u65F6\u95F4\u9009\u62E9\u5668"},{value:"TimePickerConfig",label:"\u65F6\u95F4\u9009\u62E9\u5668\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"TimePickerPanel",label:"\u65F6\u95F4\u9009\u62E9\u5668\u9762\u677F"},{value:"TimeRangePicker",label:"\u65F6\u95F4\u8303\u56F4\u9009\u62E9\u5668"},{value:"TimeRangePickerPanel",label:"\u65F6\u95F4\u8303\u56F4\u9009\u62E9\u5668\u9762\u677F"},{value:"Tooltip",label:"\u6587\u5B57\u63D0\u793A"},{value:"TooltipLite",label:"\u6587\u5B57\u63D0\u793A\u7B80\u7248"},{value:"Transfer",label:"\u7A7F\u68AD\u6846"},{value:"TransferConfig",label:"\u7A7F\u68AD\u6846\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"Tree",label:"\u6811"},{value:"TreeConfig",label:"\u6811\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"TreeNodeModel",label:"\u6811\u8282\u70B9\u7C7B",type:"TS"},{value:"TreeNodeState",label:"\u6811\u8282\u70B9",type:"TS"},{value:"TreeSelect",label:"\u6811\u9009\u62E9"},{value:"TreeSelectConfig",label:"\u6811\u9009\u62E9\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"TScroll",label:"\u6EDA\u52A8\u914D\u7F6E",type:"TS"},{value:"Typography",label:"\u6392\u7248"},{value:"Upload",label:"\u4E0A\u4F20"},{value:"UploadConfig",label:"\u4E0A\u4F20\u7EC4\u4EF6\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"UploadConfigDragger",label:"\u4E0A\u4F20\u7EC4\u4EF6\u5168\u5C40\u62D6\u62FD\u914D\u7F6E",type:"TS"},{value:"UploadConfigFile",label:"\u4E0A\u4F20\u7EC4\u4EF6\u6587\u4EF6\u98CE\u683C\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"UploadConfigFileList",label:"\u4E0A\u4F20\u7EC4\u4EF6\u6587\u4EF6\u5217\u8868\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"UploadConfigImage",label:"\u4E0A\u4F20\u7EC4\u4EF6\u56FE\u7247\u98CE\u683C\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"UploadConfigProgress",label:"\u4E0A\u4F20\u7EC4\u4EF6\u8FDB\u5EA6\u5168\u5C40\u914D\u7F6E",type:"TS"},{value:"UploadFile",label:"\u4E0A\u4F20\u6587\u4EF6\u7C7B\u578B",type:"TS"},{value:"UploadRequestOptions",label:"\u6587\u4EF6\u4E0A\u4F20\u53C2\u6570",type:"TS"},{value:"Watermark",label:"\u6C34\u5370"},{value:"WatermarkImage",label:"\u6C34\u5370\u56FE\u7247\u914D\u7F6E",type:"TS"},{value:"WatermarkText",label:"\u6C34\u5370\u6587\u5B57\u914D\u7F6E",type:"TS"},{value:"CountDown",label:"\u5012\u8BA1\u65F6"},{value:"Textarea",label:"\u6587\u672C\u8F93\u5165\u6846"},{value:"PaginationMini",label:"\u8FF7\u4F60\u5206\u9875"},{value:"DialogCard",label:"\u5BF9\u8BDD\u6846\u5361\u7247"},{value:"Toast",label:"\u8F7B\u63D0\u793A"},{value:"NoticeBar",label:"\u516C\u544A\u680F"},{value:"Picker",label:"\u9009\u62E9\u5668"},{value:"PickerItem",label:"\u9009\u62E9\u5668\u9009\u9879"},{value:"DateTimePicker",label:"\u65E5\u671F\u65F6\u95F4\u9009\u62E9\u5668"},{value:"DateTimeRangePicker",label:"\u65E5\u671F\u65F6\u95F4\u8303\u56F4\u9009\u62E9\u5668"},{value:"Image",label:"\u56FE\u7247"},{value:"DropdownMenu",label:"\u4E0B\u62C9\u83DC\u5355"},{value:"Stepper",label:"\u6B65\u8FDB\u5668"},{value:"Cell",label:"\u5355\u5143\u683C"},{value:"CellGroup",label:"\u5355\u5143\u683C\u7EC4"},{value:"ListItem",label:"\u5217\u8868\u9879"},{value:"ListItemMeta",label:"\u5E26\u56FE\u7247\u7684\u5217\u8868\u9879"},{value:"SwipeCell",label:"\u6ED1\u52A8\u64CD\u4F5C"},{value:"PullDownRefresh",label:"\u4E0B\u62C9\u5237\u65B0"},{value:"ScrollView",label:"\u6EDA\u52A8\u5BB9\u5668"},{value:"Sticky",label:"\u5438\u9876\u5BB9\u5668"},{value:"GridItem",label:"\u5BAB\u683C\u5B50\u9879"},{value:"Indexes",label:"\u7D22\u5F15"},{value:"IndexesAnchor",label:"\u7D22\u5F15\u951A\u70B9"},{value:"Navbar",label:"\u5BFC\u822A\u6761"},{value:"SegmentedControl",label:"\u5206\u6BB5\u5668"},{value:"Tab",label:"\u9009\u9879\u5361"},{value:"TabBar",label:"\u6807\u7B7E\u680F"},{value:"TabBarItem",label:"\u6807\u7B7E\u680F\u9009\u9879"},{value:"Fab",label:"\u60AC\u6D6E\u6309\u94AE"},{value:"SearchField",label:"\u641C\u7D22\u6846"},{value:"ImageViewer",label:"\u56FE\u7247\u9884\u89C8"},{value:"ActionSheet",label:"\u52A8\u4F5C\u9762\u677F"},{value:"Overlay",label:"\u906E\u7F69\u5C42"},{value:"Transition",label:"\u52A8\u753B"},{value:"SideBar",label:"\u4FA7\u8FB9\u5BFC\u822A"},{value:"SideBarItem",label:"\u4FA7\u8FB9\u5BFC\u822A\u9879"},{value:"SwiperNav",label:"\u8F6E\u64AD\u5BFC\u822A"},{value:"Popover",label:"\u6C14\u6CE1\u5F39\u51FA\u6846"}]};var Rg={code:Ig,data:Fg};const jg=Rd,{parseJSON:Bg,formatArrayToMap:Wg,groupByComponent:Hg,getApiComponentMapByFrameWork:kf,getParentByChildComponent:zg}=Cn,{getImportsConfig:Ug,getImportsCode:Gg,getMoreEventImports:Vg,getSimulateEvents:qg,getVariableImports:Kg}=Bv,{generateClassNameUnitCase:Jg}=qv,{generateTNodeElement:Yg}=ng,{generateAttributeUnitCase:Xg}=fg,{generateDomUnitCase:Zg}=vg,{generateEventUnitCase:Qg}=Lg,{copyUnitTestsToOtherWrapper:em}=Ng,{COMPONENT_API_MD_MAP:Ef}=bn.exports,tm=Rg,rm=tm.data.components,_u={className:Jg,attribute:Xg,dom:Zg,tnode:Yg,event:Qg};function nm(i,s,o,u){const d=Wg(u,"platform_framework"),g=Hg(o,d[i==="VueNext(PC)"?"Vue(PC)":i]),y=kf(Ef,i);return jg(g,y[s]||[s])}function $f(i,s,o,u){let d=[],g=!1;const y=[],m=[];return Object.keys(u).forEach(T=>{if(!(!u[T]||typeof u[T]=="object"&&!Object.keys(u[T]).length)&&_u[T]){const w=_u[T](u,o,i,s);if(w&&w.length){if(d=d.concat([w.join(`
`)]),T==="event"){g=!0;const S=Vg(i,u[T],u.wrapper,u.trigger);m.push(...S.importedTestUtils||[]),S.importedMounts&&S.importedMounts.length&&y.push(...S.importedMounts)}if(T==="tnode"&&typeof u[T]=="object"){const S=qg(u[T].trigger);S&&S.length&&m.push(...S)}if(u.copyTestToWrapper){const{copyCode:S,wrappers:A}=em(w,u,i);S&&(d=d.concat(S),A.forEach(M=>{y.push(M)}))}}}}),m.push(...Kg(u)),{oneUnitTests:d,hasEvent:g,importedMounts:y,importedTestUtils:m}}function Of(i,s){let o=[];const u={hasEvent:!1,importedComponents:[],importedMounts:new Set,needDefaultRender:!1,importedTestUtils:[]},d=[];Object.entries(i).forEach(([T,w])=>{if(!w)return;let S=T;if(rm.find(z=>z.value===T).type){const z=kf(Ef,s);S=zg(z,T)}const M={variables:[],beforeAll:[],afterEach:[],afterAll:[]};let I=[];w.forEach(z=>{var fe;if(!z.test_description)return;const V=`${z.field_name}: ${z.test_description} is not a valid JSON.`,J=Bg(z.test_description,V),G=J.PC&&s.indexOf("PC")!==-1,k=J.Mobile&&s.indexOf("Mobile")!==-1;if(!G&&!k)return;const $=J.PC||J.Mobile;$.global&&Object.keys(M).forEach(ee=>{!$.global[ee]||M[ee].push(...$.global[ee])});const{oneUnitTests:L,hasEvent:B,importedMounts:W,importedTestUtils:Q}=$f(s,S,z,$);L&&L.length&&(I=I.concat(L),u.hasEvent=B||u.hasEvent,W.forEach(ee=>{u.importedMounts.add(ee)})),Q&&Q.length&&(u.importedTestUtils=u.importedTestUtils.concat(Q)),$.wrapper?u.importedMounts.add($.wrapper):u.needDefaultRender=!0,J.Mobile&&J.Mobile.wrapper&&u.importedMounts.add(J.Mobile.wrapper),d.push(...((fe=$.global)==null?void 0:fe.imports)||[])}),I.length&&(am(M,I),I.unshift(`describe('${S} Component', () => {`),I.push(`});
`),o=o.concat(I),u.importedComponents.push(S))});const g=Ug(u,o);return[Gg(g,s,d)].concat(o).join(`

`)}function im(i,s,o,u){const d=nm(i,s,o,u);return Of(d,i)}function am(i,s){i&&(i.afterAll.length&&s.unshift("afterAll(() => {",i.afterAll.join(`
`),"});"),i.afterEach.length&&s.unshift("afterEach(() => {",i.afterEach.join(`
`),"});"),i.beforeAll.length&&s.unshift("beforeAll(() => {",i.beforeAll.join(`
`),"});"),i.variables.length&&s.unshift(...i.variables))}var om={getUnitTestCode:Of,getOneUnitTest:$f,getComponentUnitTests:im};(function(i,s){const{getComponentUnitTests:o,getOneUnitTest:u}=om;i.exports={getComponentUnitTests:o,getOneUnitTest:u},s.getComponentUnitTests=o,s.getOneUnitTest=u,s.default=o,Object.defineProperty(s,"__esModule",{value:!0})})(na,na.exports);var sm=function(){var i=this,s=i.$createElement,o=i._self._c||s;return o("form",{staticClass:"t-form api-edit-form",attrs:{onsubmit:"return false"}},[o("div",{staticClass:"t-form-item"},[o("label",[i._v("\u8BBE\u8BA1\u7EC4\u4EF6\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-select",{attrs:{placeholder:"\u8BF7\u9009\u62E9\u7EC4\u4EF6",clearable:"",filterable:""},model:{value:i.formData.component,callback:function(u){i.$set(i.formData,"component",u)},expression:"formData.component"}},i._l(i.components,function(u,d){return o("t-option",{key:d,attrs:{label:`${u.value} ${u.label}`,value:u.value}})}),1)],1)]),o("div",{staticClass:"t-form-item"},[o("label",{staticStyle:{"vertical-align":"top"}},[i._v("\u6846\u67B6\u5E73\u53F0\uFF1A")]),o("div",{staticClass:"t-form-content platform"},[o("site-checkbox",{attrs:{options:i.platformOptions},model:{value:i.formData.platform,callback:function(u){i.$set(i.formData,"platform",u)},expression:"formData.platform"}})],1)]),o("div",{staticClass:"t-form-item"},[o("label",[i._v(" API \u7C7B\u522B "),o("t-popup",{staticClass:"placement-top",attrs:{content:"Extends \u8868\u793A\u7EC4\u4EF6/\u63D2\u4EF6\u4F1A\u7EE7\u627F\u5F53\u524D API \u6240\u6709\u5C5E\u6027\u3002Return \u8868\u793A\u63D2\u4EF6\u6216\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u3002<T> \u8868\u793A\u6CDB\u578B\u53C2\u6570",placement:"top-left",visibleArrow:""}},[o("t-icon",{attrs:{name:"help-circle",size:"middle"}})],1),i._v("\uFF1A ")],1),o("div",{staticClass:"t-form-content"},[o("t-radio-group",{model:{value:i.formData.apiCategory,callback:function(u){i.$set(i.formData,"apiCategory",u)},expression:"formData.apiCategory"}},i._l(i.map.field_category,function(u,d){return o("t-radio",{key:d,attrs:{value:u.value}},[i._v(i._s(u.label))])}),1)],1)]),o("div",{staticClass:"t-form-item"},[o("label",[i._v("API \u540D\u79F0\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-input",{attrs:{placeholder:i.currentApiCategory.placeholder.name},model:{value:i.formData.name,callback:function(u){i.$set(i.formData,"name",u)},expression:"formData.name"}}),i.currentApiCategory.desc?o("small",[i._v("\u793A\u4F8B\uFF1A`"+i._s(i.currentApiCategory.desc)+"'`")]):i._e()],1)]),o("div",{directives:[{name:"show",rawName:"v-show",value:i.isShowSuger,expression:"isShowSuger"}],staticClass:"t-form-item"},[o("label",[i._v("\u8BED\u6CD5\u7CD6(Vue)\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-radio-group",{model:{value:i.formData.syntacticSugar,callback:function(u){i.$set(i.formData,"syntacticSugar",u)},expression:"formData.syntacticSugar"}},[o("t-radio",{attrs:{value:""}},[i._v("\u65E0")]),o("t-radio",{attrs:{value:"v-model"}},[o("t-tooltip",{attrs:{content:"\u5728 Vue3 \u4E2D\u8868\u793A v-model:modelValue"}},[i._v("v-model")])],1),o("t-radio",{attrs:{value:"sync"}},[o("t-tooltip",{attrs:{content:"\u5728 Vue3 \u4E2D\u8868\u793A v-model:xxx"}},[i._v(".sync")])],1)],1)],1)]),o("div",{staticClass:"t-form-item"},[o("label"),o("div",{staticClass:"t-form-content"},[o("t-checkbox",{model:{value:i.formData.supportDefaultValue,callback:function(u){i.$set(i.formData,"supportDefaultValue",u)},expression:"formData.supportDefaultValue"}},[i._v("\u662F\u5426\u652F\u6301\u975E\u53D7\u63A7\u5C5E\u6027")])],1)]),[i.API_CATEGORY_PROPS,i.API_CATEGORY_PLUGINS].includes(Number(i.formData.apiCategory))?[o("div",{staticClass:"t-form-item"},[o("label",{staticStyle:{"vertical-align":"top"}},[o("span",[i._v("API \u7C7B\u578B")]),o("t-popup",{staticClass:"placement-top",attrs:{content:"\u3010Tips\u3011TNode \u662F TDesign \u5B9A\u4E49\u7684\u4E00\u79CD\u96C6\u5408\u6570\u636E\u7C7B\u578B\uFF0C\u7528\u4E8E\u63CF\u8FF0\u591A\u7C7B\u578B API\u3002TNode = Function + Slot + ReactNode",placement:"top-left",visibleArrow:""}},[o("t-icon",{attrs:{name:"help-circle",size:"middle"}})],1),i._v("\uFF1A ")],1),o("div",{staticClass:"t-form-content api-type"},[o("t-checkbox-group",{on:{change:i.onFieldTypeChange},model:{value:i.formData.fieldType,callback:function(u){i.$set(i.formData,"fieldType",u)},expression:"formData.fieldType"}},i._l(i.fieldOptions,function(u){return o("t-checkbox",{key:u.value,attrs:{value:u.value}},[i._v(i._s(u.label))])}),1)],1)]),o("div",{staticClass:"t-form-item"},[o("label",[i._v("TS \u7C7B\u578B\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-textarea",{attrs:{placeholder:"API \u7C7B\u578B\u4E0D\u80FD\u6EE1\u8DB3\u9700\u8981\u65F6\uFF0C\u53EF\u5728\u6B64\u5904\u8F93\u5165\u8BE6\u7EC6\u7684 TS \u7C7B\u578B\uFF0C\u4F8B\u5982\uFF1A ButtonProps\u3002API \u7C7B\u578B\u5305\u542B\u6CDB\u578B\u65F6\uFF0C\u8BE5\u9879\u5FC5\u586B\u3002"},model:{value:i.formData.customFieldType,callback:function(u){i.$set(i.formData,"customFieldType",u)},expression:"formData.customFieldType"}})],1)]),o("div",{staticClass:"t-form-item"},[o("label",[i._v("\u9ED8\u8BA4\u503C\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u9ED8\u8BA4\u503C"},model:{value:i.formData.defaultValue,callback:function(u){i.$set(i.formData,"defaultValue",u)},expression:"formData.defaultValue"}})],1)]),i.isShowEnumField?o("div",{staticClass:"t-form-item"},[o("label",[i._v("\u53EF\u9009\u503C\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-input",{attrs:{placeholder:"\u591A\u4E2A\u53EF\u9009\u503C\u4F7F\u7528\u659C\u6760(/)\u9694\u5F00\uFF0C\u5982\uFF1Aprimary/warning/error"},model:{value:i.formData.fieldEnums,callback:function(u){i.$set(i.formData,"fieldEnums",u)},expression:"formData.fieldEnums"}})],1)]):i._e(),o("div",{staticClass:"t-form-item"},[o("label",[i._v("\u5C5E\u6027\u63CF\u8FF0\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-input",{attrs:{placeholder:"\u8BF7\u8F93\u5165\u5C5E\u6027\u63CF\u8FF0\uFF08\u4E2D\u6587\uFF09\uFF0C\u5B57\u6BB5\u4E3A\u591A\u7C7B\u578B\u65F6\uFF0C\u9700\u8981\u63CF\u8FF0\u5404\u4E2A\u7C7B\u578B\u7684\u542B\u4E49"},model:{value:i.formData.descZh,callback:function(u){i.$set(i.formData,"descZh",u)},expression:"formData.descZh"}})],1)]),o("div",{staticClass:"t-form-item"},[o("label",[i._v("\u82F1\u6587\u63CF\u8FF0\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-input",{attrs:{placeholder:"type API description in English"},model:{value:i.formData.descEn,callback:function(u){i.$set(i.formData,"descEn",u)},expression:"formData.descEn"}})],1)])]:!i.isExtendsApi&&!i.isReturnApi&&!i.isT?[o("div",{staticClass:"t-form-item"},[o("label",[i._v("\u53C2\u6570\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-input",{attrs:{placeholder:i.currentApiCategory.placeholder.inputParams},model:{value:i.formData.eventInput,callback:function(u){i.$set(i.formData,"eventInput",u)},expression:"formData.eventInput"}})],1)]),o("div",{directives:[{name:"show",rawName:"v-show",value:Number(i.formData.apiCategory)!==i.API_CATEGORY_EVENTS,expression:"Number(formData.apiCategory) !== API_CATEGORY_EVENTS"}],staticClass:"t-form-item"},[o("label",[i._v("\u8FD4\u56DE\u503C\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-input",{attrs:{placeholder:i.currentApiCategory.placeholder.outputParams},model:{value:i.formData.eventOutput,callback:function(u){i.$set(i.formData,"eventOutput",u)},expression:"formData.eventOutput"}})],1)]),o("div",{staticClass:"t-form-item"},[o("label",[i._v("\u63CF\u8FF0\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-input",{attrs:{placeholder:i.currentApiCategory.placeholder.descZh},model:{value:i.formData.descZh,callback:function(u){i.$set(i.formData,"descZh",u)},expression:"formData.descZh"}})],1)]),o("div",{staticClass:"t-form-item"},[o("label",[i._v("Description\uFF1A")]),o("div",{staticClass:"t-form-content"},[o("t-input",{attrs:{placeholder:i.currentApiCategory.placeholder.descEn},model:{value:i.formData.descEn,callback:function(u){i.$set(i.formData,"descEn",u)},expression:"formData.descEn"}})],1)]),o("div",{staticClass:"t-form-item"},[o("label",[o("span",[i._v("\u89E6\u53D1\u5143\u7D20(React)")]),o("t-popup",{staticClass:"placement-top",attrs:{content:"\u3010Tips\u3011\u7528\u4E8E\u63CF\u8FF0\u4E8B\u4EF6\u7C7B\u578B\u7684\u8303\u578B\u7EA6\u675F\uFF0C\u4EC5\u7528\u4E8E React",placement:"top-left",visibleArrow:""}},[o("t-icon",{attrs:{name:"help-circle",size:"middle"}})],1),i._v("\uFF1A ")],1),o("div",{staticClass:"t-form-content"},[o("t-input",{attrs:{placeholder:i.currentApiCategory.placeholder.triggerElements},model:{value:i.formData.triggerElements,callback:function(u){i.$set(i.formData,"triggerElements",u)},expression:"formData.triggerElements"}})],1)])]:i._e(),o("div",{staticClass:"t-form-item"},[o("label"),o("div",{staticClass:"t-form-content"},[o("t-checkbox",{model:{value:i.formData.required,callback:function(u){i.$set(i.formData,"required",u)},expression:"formData.required"}},[i._v("\u662F\u5426\u5FC5\u9700")])],1)]),o("div",{staticClass:"t-form-item"},[o("label"),o("div",{staticClass:"t-form-content"},[o("t-checkbox",{model:{value:i.formData.deprecated,callback:function(u){i.$set(i.formData,"deprecated",u)},expression:"formData.deprecated"}},[i._v("\u662F\u5426\u5E9F\u5F03")])],1)]),o("div",{staticClass:"t-form-item"},[o("label",[i._v(" \u7248\u672C\u53F7 "),o("t-popup",{staticClass:"placement-top",attrs:{content:i.versionDescription,placement:"top-left",visibleArrow:""}},[o("t-icon",{attrs:{name:"help-circle",size:"middle"}})],1),i._v(" \uFF1A ")],1),o("div",{staticClass:"t-form-content"},[o("t-textarea",{attrs:{autosize:{minRows:3},placeholder:"\u4ECE\u54EA\u4E2A\u7248\u672C\u53F7\u5F00\u59CB\u652F\u6301\u7684\u8FD9\u4E2A API\uFF08JSON\uFF09"},model:{value:i.formData.version,callback:function(u){i.$set(i.formData,"version",u)},expression:"formData.version"}})],1)])],2)},lm=[];const um=["\u4ECE\u54EA\u4E2A\u7248\u672C\u53F7\u5F00\u59CB\u652F\u6301\u7684\u8FD9\u4E2A API\uFF0C\u4E0D\u540C\u7684\u6846\u67B6\u6709\u4E0D\u540C\u7684\u7248\u672C\u53F7\u3002",`\u793A\u4F8B\uFF1A${JSON.stringify({"Vue(PC)":"0.50.1","VueNext(PC)":"0.24.9","React(PC)":"0.43.1",Miniprogram:"0.27.0","Vue(Mobile)":"0.14.1"},void 0,2)}`].join(`
`),fm={name:"APIDesignImport",components:{SiteCheckbox:Zu,TIcon:jd,TInput:Fu,TSelect:Mo,TOption:Lo,TPopup:Bd,TCheckbox:Pu,TCheckboxGroup:Nu,TRadio:Wd,TRadioGroup:Hd},props:{dataBase:{},map:Object,info:Object,mode:String},data(){return{API_CATEGORY_EVENTS:vo,API_CATEGORY_PROPS:ho,API_CATEGORY_PLUGINS:go,STRING:oo,list:[],versionDescription:um,componentApiData:[],formData:{platform:[],component:"",apiCategory:"1",fieldType:[],customFieldType:"",defaultValue:"",required:!1,deprecated:!1,fieldEnums:"",descZh:"",descEn:"",testDescription:"",version:"",supportDefaultValue:!1,name:"",eventInput:"",eventOutput:"",syntacticSugar:"",html_attribute:!1,triggerElements:""}}},computed:{components(){return this.map&&this.map.components},fieldOptions(){return this.map&&this.map.field_type},platformOptions(){return this.map&&this.map.platform_framework},currentApiCategory(){return Dh[this.formData.apiCategory]||{placeholder:{}}},isShowSuger(){const s=!!this.formData.platform.filter(u=>[Eh,$h].includes(Number(u))).length,o=[vo,ho,go].includes(Number(this.formData.apiCategory));return s&&o},isExtendsApi(){return String(this.formData.apiCategory)===String(Qu)},isReturnApi(){return String(this.formData.apiCategory)===String(ef)},isT(){return String(this.formData.apiCategory)===String(tf)},isShowEnumField(){return this.formData.fieldType.includes(String(oo))||this.formData.fieldType.includes(String(kh))}},watch:{platformOptions(i){!i||(this.formData.platform=[])},info(i){this.formData=Qe(oe({},this.formData),{testDescription:""}),i&&(this.formData={platform:i.platform_framework,component:i.component,apiCategory:i.field_category?String(i.field_category):"1",fieldType:i.field_type,customFieldType:i.custom_field_type,defaultValue:i.field_default_value,required:!!i.field_required,deprecated:!!i.deprecated,fieldEnums:i.field_enum,descZh:i.field_desc_zh,descEn:i.field_desc_en,testDescription:i.test_description,version:i.version,supportDefaultValue:Boolean(i.support_default_value),htmlAttribute:Boolean(i.html_attribute),name:i.field_name,eventInput:i.event_input,eventOutput:i.event_output,syntacticSugar:i.syntactic_sugar,triggerElements:i.trigger_elements},this.mode==="create"&&(this.formData.testDescription=""),this.getCurrentComponentData())}},methods:{onFieldTypeChange(i){i.includes(String(oo))||(this.formData.fieldEnums="")},getCurrentComponentData(){if(!this.info.component)return;const i=Bu(),s=i[this.info.component]?i[this.info.component].join():this.info.component;vr({method:"get",url:"/cmp/api",params:{component:s,page:1,page_size:300}}).then(o=>{this.componentApiData=o.data.data,this.loading=!1},()=>{this.loading=!1})}}},Du={};var cm=er(fm,sm,lm,!1,dm,null,null,null);function dm(i){for(let s in Du)this[s]=Du[s]}var pm=function(){return cm.exports}();const Uo={category:"",tnode:{dom:[],trigger:""}},mn={wrapper:"",copyTestToWrapper:"",needCopy:!1,snapshot:!1,trigger:"",skip:!1,list:[oe({},Uo)]},si=[{label:"TNode",value:"tnode",tips:"\u7528\u4E8E\u6821\u9A8C\u81EA\u5B9A\u4E49\u8282\u70B9"},{label:"ClassName",value:"className",tips:"\u7528\u4E8E\u6821\u9A8C\u67D0\u4E2A\u5143\u7D20\uFF08\u6216\u5B50\u5143\u7D20\uFF09\u662F\u5426\u5B58\u5728\u67D0\u4E9B\u7C7B\u540D"},{label:"Attribute",value:"attribute",tips:"\u7528\u4E8E\u6821\u9A8C\u67D0\u4E2A\u5143\u7D20\uFF08\u6216\u5B50\u5143\u7D20\uFF09\u662F\u5426\u5B58\u5728\u67D0\u4E9B\u5C5E\u6027"},{label:"Element",value:"dom",tips:"\u7528\u4E8E\u6821\u9A8C\u6EE1\u8DB3\u4E00\u5B9A\u6761\u4EF6\u540E\uFF0C\u662F\u5426\u5B58\u5728\u67D0\u4E9B\u5B50\u5143\u7D20"},{label:"Interactive",value:"event",tips:"\u7528\u4E8E\u6821\u9A8C\u89E6\u53D1\u67D0\u4E9B\u4E8B\u4EF6\u540E\uFF0C\u4E8B\u4EF6\u51FD\u6570\u662F\u5426\u6B63\u5E38\u89E6\u53D1\uFF0C\u4EE5\u53CA\u76F8\u5173\u5143\u7D20\u672C\u8EAB\u3001\u7C7B\u540D\u3001\u5C5E\u6027\u7B49\u662F\u5426\u5B58\u5728"}];var hm=function(){var i=this,s=i.$createElement,o=i._self._c||s;return o("t-dialog",{attrs:{visible:i.visible,header:i.eventExpectMode==="edit"?"\u521B\u5EFA\u4EBA\u673A\u4EA4\u4E92":"\u65B0\u589E\u4EBA\u673A\u4EA4\u4E92"},on:{confirm:i.onConfirm,cancel:i.onCancel}},[o("t-tooltip",{attrs:{theme:"light"},scopedSlots:i._u([{key:"content",fn:function(){return[o("p",[i._v(" \u4E00\u822C\u4E8B\u4EF6\uFF1A "),o("t-link",{attrs:{href:"https://github.com/vuejs/test-utils/blob/main/src/constants/dom-events.ts#L566",target:"_blank",theme:"primary"}},[i._v("\u6240\u6709\u4EA4\u4E92\u64CD\u4F5C(\u4E8B\u4EF6)")])],1),o("p",[i._v("Document \u6A21\u62DF\u4E8B\u4EF6\uFF1AsimulateKeydownEvent(document, 'ArrowDown')")]),o("p",[i._v("Document \u6A21\u62DF\u4E8B\u4EF6\uFF1AsimulateKeydownEvent(document, 'Enter')")]),o("p",[i._v("\u8F93\u5165\u6846\u6587\u672C\u8F93\u5165\u6A21\u62DF\u4E8B\u4EF6\uFF1AsimulateInputChange('input', 'Input Text')")]),o("p",[i._v("\u6587\u4EF6\u9009\u62E9\u6A21\u62DF\u4E8B\u4EF6\uFF1AsimulateFileChange('input', 'file', 1)\uFF0C\u7B2C\u4E8C\u4E2A\u548C\u7B2C\u4E09\u4E2A\u53C2\u6570\u53EF\u9009")])]},proxy:!0}])},[o("t-input",{attrs:{placeholder:"\u9009\u586B\uFF0C\u4EA4\u4E92\u64CD\u4F5C\uFF0C\u793A\u4F8B\uFF1Amouseenter(.t-input)"},model:{value:i.eventData.trigger,callback:function(u){i.$set(i.eventData,"trigger",u)},expression:"eventData.trigger"}})],1),o("t-tooltip",{attrs:{theme:"light"},scopedSlots:i._u([{key:"content",fn:function(){return[o("p"),o("p",[i._v("\u683C\u5F0F\uFF1AJSON\u3002")]),o("p",[i._v('[".t-image"] \u671F\u671B\u5143\u7D20 .t-image \u5B58\u5728')]),o("p",[i._v('[{ ".t-image": false }] \u671F\u671B\u5143\u7D20 .t-image \u4E0D\u5B58\u5728')]),o("p",[i._v('[{ ".t-image": 3 }] \u671F\u671B\u5143\u7D20 .t-image \u5B58\u5728 3 \u4E2A')]),o("p",[i._v('[{ ".t-image": { "text": "+1" } }] \u671F\u671B\u5143\u7D20 .t-image \u5B58\u5728\u6587\u672C +1')]),o("p",[i._v('[{ ".t-input": { "attribute": { "value": "input value" } } }] \u671F\u671B\u5143\u7D20 .t-image \u7684\u5C5E\u6027 value \u503C\u4E3A "input value" ')]),o("p")]},proxy:!0}])},[o("t-input",{staticStyle:{"margin-top":"16px"},attrs:{placeholder:"\u9009\u586B\uFF0C\u6821\u9A8C\u5143\u7D20"},model:{value:i.eventData.exist,callback:function(u){i.$set(i.eventData,"exist",u)},expression:"eventData.exist"}})],1),o("t-tooltip",{attrs:{theme:"light"},scopedSlots:i._u([{key:"content",fn:function(){return[o("p"),o("p",[i._v("\u683C\u5F0F\uFF1AJSON\u3002")]),o("p",[i._v(`\u793A\u4F8B\uFF1A{ "clear": [{ "stopPropagation": true }], "change": ["''", { "stopPropagation": true }] }\u3002\u8868\u793A\u4F1A\u540C\u65F6\u89E6\u53D1 clear \u548C change \u7B49 2 \u4E2A\u4E8B\u4EF6\u3002\u6CE8\u610F\uFF0C\u5982\u679C\u4E8B\u4EF6\u53C2\u6570\u662F\u5B57\u7B26\u4E32\uFF0C\u9700\u8981\u989D\u5916\u52A0\u4E0A\u5355\u5F15\u53F7\u5305\u88F9\u3002`)]),o("p",[i._v("\u3010\u6CE8\u610F\u3011\u4E8B\u4EF6\u540D\u4E3A\u4E0D\u5E26 on \u7684\u5C0F\u9A7C\u5CF0")]),o("p")]},proxy:!0}])},[o("t-textarea",{staticStyle:{"margin-top":"16px"},attrs:{placeholder:"\u9009\u586B\uFF0C\u7EC4\u4EF6\u89E6\u53D1\u4E8B\u4EF6\u53CA\u5176\u53C2\u6570"},model:{value:i.eventData.event,callback:function(u){i.$set(i.eventData,"event",u)},expression:"eventData.event"}})],1),o("t-tooltip",{attrs:{theme:"light",content:"\u65F6\u95F4\u5EF6\u8FDF\u591A\u5C11\u6BEB\u79D2\u89E6\u53D1\u3002\u793A\u4F8B\u503C\uFF1A300/400/500...\u4F4E\u4E8E 300 \u6BEB\u79D2\u53EF\u4E0D\u586B",placement:"top-left"}},[o("t-input",{staticStyle:{"margin-top":"16px"},attrs:{placeholder:"\u9009\u586B\uFF0C\u5EF6\u8FDF\u65F6\u95F4",suffix:"\u6BEB\u79D2"},model:{value:i.eventData.delay,callback:function(u){i.$set(i.eventData,"delay",u)},expression:"eventData.delay"}})],1)],1)},vm=[];const gm={name:"UnitTestExpect",props:{visible:Boolean,eventExpect:Object,eventExpectMode:String},data(){return{eventData:{}}},watch:{eventExpect:{immediate:!0,handler(i){this.eventData=oe({},i),this.eventData.exist=this.eventData.exist||""}}},methods:{onConfirm(){this.$emit("confirm",this.eventData),this.$emit("update:visible",!1)},onCancel(){this.$emit("update:visible",!1)}}},ku={};var mm=er(gm,hm,vm,!1,ym,null,null,null);function ym(i){for(let s in ku)this[s]=ku[s]}var bm=function(){return mm.exports}();function Cm(i){const s=oe({},i);return i.attribute&&(s.attribute=typeof i.attribute=="string"?i.attribute:JSON.stringify(i.attribute)),i.dom&&(s.dom=typeof i.dom=="string"?i.dom:JSON.stringify(i.dom)),i.className&&(s.className=typeof i.className=="string"?i.className:JSON.stringify(i.className)),i.tnode&&(i.tnode===!0?s.tnode={trigger:"",dom:[],params:""}:(s.tnode=oe({},s.tnode),s.tnode.trigger=i.tnode.trigger,s.tnode.dom=i.tnode.dom?Array.isArray(i.tnode.dom)?i.tnode.dom:JSON.parse(i.tnode.dom):[],s.tnode.params=typeof i.tnode.params=="object"?JSON.stringify(i.tnode.params):i.tnode.params)),i.props&&(s.props=typeof i.props=="string"?i.props:JSON.stringify(i.props)),s}function xm(i,s){let o=[],u=[];if(i==="object"&&Object.keys(s.event).length){const d=[];Object.entries(s.event).forEach(([g,y])=>{d.push({trigger:g,arguments:JSON.stringify(y.arguments)})}),o=d}return i==="array"&&s.event.length&&(u=s.event.map(d=>({props:d.props?JSON.stringify(d.props):"",description:d.description,wrapper:d.wrapper,expect:d.expect.map(g=>({trigger:g.trigger,event:JSON.stringify(g.event),exist:Array.isArray(g.exist)?JSON.stringify(g.exist):g.exist,delay:(()=>g.delay===!0?"true":typeof g.delay=="number"?String(g.delay):g.delay)()}))}))),{objectEvent:o,arrayEvent:u}}var Sm=function(){var i=this,s=i.$createElement,o=i._self._c||s;return o("div",{staticClass:"unit-test-ui__one-unit-test"},[o("t-radio-group",{attrs:{value:i.formData.category},on:{change:i.onCategoryChange}},i._l(i.testCategoryOptions,function(u){return o("t-radio-button",{key:u.value,attrs:{value:u.value}},[o("t-tooltip",{attrs:{content:u.tips}},[o("span",[i._v(i._s(u==null?void 0:u.label))])])],1)}),1),i.formData.category==="tnode"&&i.formData.tnode?[o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light",content:"\u683C\u5F0F\uFF1ADomSelector\u3002\u6807\u7B7E\u8F93\u5165\u3002\u5982\u679C\u5143\u7D20\u90FD\u6302\u8F7D\u5728 document.body \u4E0A\uFF0C\u8BF7\u52A0\u4E0A document \u524D\u7F00\uFF0C\u793A\u4F8B\uFF1Adocument.class-name\u3002\u5982\u679C\u662F\u81EA\u5B9A\u4E49\u8282\u70B9\uFF0C\u5219\u662F document.custom-node"}},[o("t-tag-input",{attrs:{placeholder:"\u9664\u81EA\u5B9A\u4E49\u8282\u70B9\uFF0C\u8FD8\u671F\u671B\u54EA\u4E9B\u5143\u7D20\u540C\u65F6\u5B58\u5728\uFF0C\u6807\u7B7E\u8F93\u5165\uFF0C\u793A\u4F8B\uFF1A.t-radio__label"},on:{change:function(){return i.onFormDataChange("tnode")}},model:{value:i.formData.tnode.dom,callback:function(u){i.$set(i.formData.tnode,"dom",u)},expression:"formData.tnode.dom"}})],1)],1),o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light"},scopedSlots:i._u([{key:"content",fn:function(){return[i._v(' \u793A\u4F8B\uFF1A[{ "value": "tdesign-vue" }] ')]},proxy:!0}],null,!1,1378868323)},[o("t-input",{attrs:{placeholder:"TNode \u51FD\u6570\u53C2\u6570"},on:{blur:function(){return i.onFormDataChange("tnode")}},model:{value:i.formData.tnode.params,callback:function(u){i.$set(i.formData.tnode,"params",u)},expression:"formData.tnode.params"}})],1)],1),o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light"},scopedSlots:i._u([{key:"content",fn:function(){return[o("p",[i._v(" \u683C\u5F0F\uFF1AEventName(DomSelector) \u6216\u8005 delay\u3002focus(.t-input__wrap) \u8868\u793A\u5F53\u5143\u7D20 .t-input__wrap \u805A\u7126\u540E\u624D\u4F1A\u51FA\u73B0\u524D\u9762\u671F\u671B\u7684\u5143\u7D20\u3002 \u793A\u4F8B\uFF1Adelay \u3001 delay(100) "),o("t-link",{attrs:{underline:"",href:"https://github.com/vuejs/test-utils/blob/main/src/constants/dom-events.ts#L566",target:"_blank"}},[i._v("\u6240\u6709\u4E8B\u4EF6\u5217\u8868")])],1)]},proxy:!0}],null,!1,73742847)},[o("t-input",{attrs:{placeholder:"\u89E6\u53D1\u81EA\u5B9A\u4E49\u8282\u70B9\u663E\u793A\u7684\u524D\u7F6E\u4E8B\u4EF6\uFF0C\u5982\uFF1Afocus(.t-input__wrap)"},on:{change:function(){return i.onFormDataChange("tnode")}},model:{value:i.formData.tnode.trigger,callback:function(u){i.$set(i.formData.tnode,"trigger",u)},expression:"formData.tnode.trigger"}})],1)],1),o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light",content:"\u8FD8\u9700\u8981\u6DFB\u52A0\u54EA\u4E9B\u5C5E\u6027\u5230\u7EC4\u4EF6"}},[o("t-input",{attrs:{placeholder:"\u6DFB\u52A0\u989D\u5916\u7684\u7EC4\u4EF6\u5C5E\u6027\uFF0C\u683C\u5F0F\uFF1AJSON"},on:{blur:function(){return i.onFormDataChange("tnode")}},model:{value:i.formData.props,callback:function(u){i.$set(i.formData,"props",u)},expression:"formData.props"}})],1)],1)]:i._e(),i.formData.category==="className"?[o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light"},scopedSlots:i._u([{key:"content",fn:function(){return[i.apiInfo&&i.apiInfo.field_type_text.join()==="Boolean"?o("p",[i._v(" "+i._s(i.formData.className?`\u7C7B\u540D\u89C4\u5219\uFF1A\u5F53\u524D\u503C\u7C7B\u578B\u4E3A Boolean\uFF0C\u5F53\u503C\u4E3A true \u65F6\uFF0C\u671F\u671B\u5B58\u5728\u7C7B\u540D ${i.formData.className}`:"\u7C7B\u540D\u89C4\u5219\uFF1A\u5F53\u524D\u503C\u7C7B\u578B\u4E3A Boolean\uFF0C\u63A8\u8350\u89C4\u5219\u5F62\u5982\uFF1A.t-size-full-width\u3002\u8868\u793A\u503C\u4E3A true \u65F6\uFF0C\u671F\u671B\u7C7B\u540D t-size-full-width \u5B58\u5728")+" ")]):i._e(),i.apiInfo&&i.apiInfo.field_type_text.join()==="String"?o("p",[i._v(" \u7C7B\u540D\u89C4\u5219\uFF1A ")]):i._e(),i._l(i.getClassNameRecommend(),function(u,d){return o("p",{key:d},[i._v(i._s(u))])}),o("p")]},proxy:!0}],null,!1,1796600822)},[o("t-textarea",{attrs:{placeholder:"\u7C7B\u540D\u89C4\u5219"},on:{blur:function(){return i.onFormDataChange("className")}},model:{value:i.formData.className,callback:function(u){i.$set(i.formData,"className",u)},expression:"formData.className"}})],1)],1),o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light",content:"\u4E0A\u8FF0\u7C7B\u540D\u89C4\u5219\u5E94\u7528\u5728\u54EA\u4E2A\u5B50\u8282\u70B9\uFF0C\u4E0D\u586B\u6216\u8005\u586B\u5199 'self' \u8868\u793A\u7EC4\u4EF6\u6839\u8282\u70B9"}},[o("t-input",{attrs:{placeholder:"\u7C7B\u540D\u89C4\u5219\u5E94\u7528\u7684 HTML \u5143\u7D20"},on:{change:function(){return i.onFormDataChange("className")}},model:{value:i.formData.classNameDom,callback:function(u){i.$set(i.formData,"classNameDom",u)},expression:"formData.classNameDom"}})],1)],1),o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light",content:"\u8FD8\u9700\u8981\u6DFB\u52A0\u54EA\u4E9B\u5C5E\u6027\u5230\u7EC4\u4EF6\uFF0C\u5982\u679C API \u6570\u636E\u7C7B\u578B\u4E3A boolean \u53EF\u4EE5\u4E0D\u6DFB\u52A0"}},[o("t-input",{attrs:{placeholder:"\u6DFB\u52A0\u989D\u5916\u7684\u7EC4\u4EF6\u5C5E\u6027\uFF0C\u683C\u5F0F\uFF1AJSON"},on:{blur:function(){return i.onFormDataChange("className")}},model:{value:i.formData.props,callback:function(u){i.$set(i.formData,"props",u)},expression:"formData.props"}})],1)],1)]:i._e(),i.formData.category==="attribute"?[o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light"},scopedSlots:i._u([{key:"content",fn:function(){return[o("p",[i._l(i.getAttributeRecommend(),function(u){return[o("p",[i._v(i._s(u))])]})],2)]},proxy:!0}],null,!1,2868227598)},[o("t-textarea",{attrs:{placeholder:"\u5C5E\u6027\u89C4\u5219"},on:{blur:function(){return i.onFormDataChange("attribute")}},model:{value:i.formData.attribute,callback:function(u){i.$set(i.formData,"attribute",u)},expression:"formData.attribute"}})],1)],1),o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light",content:"\u4E0A\u8FF0\u5C5E\u6027\u89C4\u5219\u5E94\u7528\u5728\u54EA\u4E2A\u5B50\u8282\u70B9\uFF0C\u4E0D\u586B\u6216\u8005\u586B\u5199 'self' \u8868\u793A\u7EC4\u4EF6\u6839\u8282\u70B9"}},[o("t-input",{attrs:{placeholder:"\u5C5E\u6027\u89C4\u5219\u5E94\u7528\u7684 HTML \u5143\u7D20"},on:{change:function(){return i.onFormDataChange("attribute")}},model:{value:i.formData.attributeDom,callback:function(u){i.$set(i.formData,"attributeDom",u)},expression:"formData.attributeDom"}})],1)],1),o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light",content:"\u8FD8\u9700\u8981\u6DFB\u52A0\u54EA\u4E9B\u5C5E\u6027\u5230\u7EC4\u4EF6\uFF0C\u5982\u679C API \u6570\u636E\u7C7B\u578B\u4E3A boolean \u53EF\u4EE5\u4E0D\u6DFB\u52A0"}},[o("t-input",{attrs:{placeholder:"\u6DFB\u52A0\u989D\u5916\u7684\u7EC4\u4EF6\u5C5E\u6027\uFF0C\u683C\u5F0F\uFF1AJSON"},on:{blur:function(){return i.onFormDataChange("attribute")}},model:{value:i.formData.props,callback:function(u){i.$set(i.formData,"props",u)},expression:"formData.props"}})],1)],1)]:i._e(),i.formData.category==="dom"?[o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light"},scopedSlots:i._u([{key:"content",fn:function(){return[o("p",[i._l(i.getDomRecommend(),function(u){return[o("p",[i._v(i._s(u))])]})],2)]},proxy:!0}],null,!1,2415190324)},[o("t-textarea",{attrs:{placeholder:"\u68C0\u6D4B\u67D0\u4E2A\u5143\u7D20\u662F\u5426\u5B58\u5728\u7684\u89C4\u5219"},on:{blur:function(){return i.onFormDataChange("dom")}},model:{value:i.formData.dom,callback:function(u){i.$set(i.formData,"dom",u)},expression:"formData.dom"}})],1),o("t-tooltip",{attrs:{theme:"light",trigger:"click",placement:"bottom-left"},scopedSlots:i._u([{key:"content",fn:function(){return[o("p",[i._l(i.getDomMoreTips(),function(u){return[o("p",[i._v(i._s(u))])]})],2)]},proxy:!0}],null,!1,729966059)},[o("t-button",{attrs:{variant:"text",theme:"primary",size:"small"}},[i._v("\u70B9\u51FB\u67E5\u770B\u89C4\u5219\u7EC6\u8282")])],1)],1),o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light",content:"\u8FD8\u9700\u8981\u6DFB\u52A0\u54EA\u4E9B\u5C5E\u6027\u5230\u7EC4\u4EF6\uFF0C\u5982\u679C API \u6570\u636E\u7C7B\u578B\u4E3A boolean \u53EF\u4EE5\u4E0D\u6DFB\u52A0"}},[o("t-input",{attrs:{placeholder:"\u6DFB\u52A0\u989D\u5916\u7684\u7EC4\u4EF6\u5C5E\u6027\uFF0C\u683C\u5F0F\uFF1AJSON"},on:{blur:function(){return i.onFormDataChange("dom")}},model:{value:i.formData.props,callback:function(u){i.$set(i.formData,"props",u)},expression:"formData.props"}})],1)],1)]:i._e(),i.formData.category==="event"?[o("div",[o("t-radio-group",{staticStyle:{margin:"16px 0"},model:{value:i.eventType,callback:function(u){i.eventType=u},expression:"eventType"}},[o("t-radio",{attrs:{value:"object"}},[i._v("\u7B80\u5355\u4E8B\u4EF6\u53C2\u6570")]),o("t-radio",{attrs:{value:"array"}},[i._v("\u590D\u6742\u4EBA\u673A\u4EA4\u4E92")])],1),i.eventType==="object"?o("t-card",{staticClass:"t-event-object-card"},i._l(i.objectEvent,function(u,d){return o("div",{key:d,staticClass:"unit-test-ui__one-object-event"},[o("t-tooltip",{attrs:{trigger:"focus",theme:"light",content:"\u4E8B\u4EF6\u540D\uFF0C\u5982\uFF1Aclick \u6216\u8005 click(.t-input)"}},[o("t-input",{staticStyle:{"min-width":"130px",width:"130px"},attrs:{placeholder:"\u4E8B\u4EF6\u540D"},on:{change:i.onObjectEventChange},model:{value:i.objectEvent[d].trigger,callback:function(g){i.$set(i.objectEvent[d],"trigger",g)},expression:"objectEvent[index].trigger"}})],1),o("t-tooltip",{attrs:{trigger:"focus",theme:"light"},scopedSlots:i._u([{key:"content",fn:function(){return[i._v(` \u793A\u4F8B\uFF1A[{ "e.type": "click" }, [100, 101]] \u3002\u8868\u793A\u7B2C\u4E00\u4E2A\u53C2\u6570\u5B58\u5728\u5C5E\u6027 'e.type' \u503C\u4E3A 'click'\uFF0C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u503C\u4E3A [100, 101] `)]},proxy:!0}],null,!0)},[o("t-input",{staticStyle:{"margin-left":"16px"},attrs:{placeholder:"\u4E8B\u4EF6\u53C2\u6570"},on:{change:i.onObjectEventChange},model:{value:i.objectEvent[d].arguments,callback:function(g){i.$set(i.objectEvent[d],"arguments",g)},expression:"objectEvent[index].arguments"}})],1),o("t-button",{staticStyle:{"margin-left":"8px"},attrs:{variant:"text",theme:"primary",size:"small"},on:{click:function(){return i.onObjectEventAdd(d)}}},[o("AddCircleIcon")],1),o("t-button",{attrs:{variant:"text",theme:"danger",size:"small"},on:{click:function(){return i.onObjectEventDelete(d)}}},[o("MinusCircleIcon")],1)],1)}),0):i._e(),i.eventType==="array"?o("div",i._l(i.arrayEvent,function(u,d){return o("t-card",{key:d,staticClass:"test-card-array-event"},[o("h4",{staticStyle:{"margin-top":"0"}},[i._v("\u7B2C"+i._s(["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94"][d])+"\u4E2A\u4EA4\u4E92\u6D4B\u8BD5\u7528\u4F8B")]),o("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"16px"}},[o("label",{staticStyle:{width:"100px"}},[i._v("\u7528\u4F8B\u63CF\u8FF0\uFF1A")]),o("t-input",{attrs:{placeholder:"\u9009\u586B\uFF0C\u5F53\u524D\u6D4B\u8BD5\u7528\u4F8B\u6587\u672C\u63CF\u8FF0\uFF0C\u9ED8\u8BA4\u4E3A xxx works fine"},on:{blur:i.onEventPropsChange},model:{value:i.arrayEvent[d].description,callback:function(g){i.$set(i.arrayEvent[d],"description",g)},expression:"arrayEvent[index].description"}})],1),i._l(i.arrayEvent[d].expect,function(g,y){return o("div",[o("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"16px"}},[i._v(" \u7B2C"+i._s(["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341"][y])+"\u4E2A\u4E8B\u4EF6\uFF1A "),o("t-button",{attrs:{theme:"primary",variant:"text",size:"small"},on:{click:function(){return i.onEventExpectEdit(g,y,d,"edit")}}},[o("EditIcon")],1),o("t-button",{attrs:{theme:"primary",variant:"text",size:"small"},on:{click:function(){return i.onEventExpectAdd(g,y,d,"add")}}},[o("AddCircleIcon")],1),o("t-button",{attrs:{theme:"danger",variant:"text",size:"small"},on:{click:function(){return i.onEventExpectDelete(y,d,"delete")}}},[o("MinusCircleIcon")],1)],1),g.trigger||g.event||g.exist?o("p",{staticClass:"t-input__tips t-input__tips--default",staticStyle:{position:"relative"}},[i._v(" "+i._s(i.getEventDescription(g))+" ")]):i._e()])}),o("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"16px"}},[o("label",{staticStyle:{width:"100px"}},[i._v("\u7EC4\u4EF6\u5C5E\u6027\uFF1A")]),o("t-input",{attrs:{placeholder:"\u9009\u586B\uFF0C\u5F53\u524D\u6D4B\u8BD5\u7528\u4F8B\u6240\u9700\u7684\u5FC5\u8981\u5C5E\u6027\uFF0C\u683C\u5F0F\uFF1AJSON"},on:{blur:i.onEventPropsChange},model:{value:i.arrayEvent[d].props,callback:function(g){i.$set(i.arrayEvent[d],"props",g)},expression:"arrayEvent[index].props"}})],1),o("div",{staticStyle:{display:"flex","align-items":"center","margin-bottom":"16px"}},[o("label",{staticStyle:{width:"100px"}},[i._v("\u5B9E\u4F8B\u51FD\u6570\uFF1A")]),o("t-input",{attrs:{placeholder:"\u9ED8\u8BA4\u76F4\u63A5\u4F7F\u7528\u7EC4\u4EF6\u83B7\u53D6\uFF0C\u793A\u4F8B\uFF1AgetRadioGroupDefaultMount"},on:{blur:i.onEventPropsChange},model:{value:i.arrayEvent[d].wrapper,callback:function(g){i.$set(i.arrayEvent[d],"wrapper",g)},expression:"arrayEvent[index].wrapper"}})],1),o("div",{staticStyle:{"margin-top":"16px","text-align":"right"}},[o("t-button",{attrs:{size:"small"},on:{click:function(){return i.onArrayEventAdd(d)}}},[i._v(" \u518D\u6765\u4E00\u4E2A ")]),i.arrayEvent.length>1?o("t-button",{staticStyle:{"margin-left":"8px"},attrs:{theme:"danger",size:"small"},on:{click:function(){return i.onArrayEventDelete(d)}}},[i._v(" \u79FB\u9664 ")]):i._e()],1)],2)}),1):i._e()],1)]:i._e(),i._t("operation"),o("EventExpect",{attrs:{visible:i.eventExpectVisible,eventExpect:i.currentExpectData.expectData,eventExpectMode:i.eventExpectMode},on:{"update:visible":function(u){i.eventExpectVisible=u},confirm:i.onEventExpectChange}})],2)},Tm=[];const fo=[{trigger:"",arguments:""}],ai=[{expect:[{trigger:"",event:"",exist:""}],props:""}],wm={name:"OneCategoryTest",components:{AddCircleIcon:Yd,MinusCircleIcon:rp,EventExpect:bm,EditIcon:Qd},props:{data:{type:Object,default:()=>({})},apiInfo:{type:Object,default:()=>({})},categories:Array,testProps:{type:[Object,String],default:()=>({})}},data(){return{formData:{category:"",attribute:"",attributeDom:"",props:"",className:"",classNameDom:"",dom:""},testCategoryOptions:si,eventType:"object",objectEvent:[...fo],arrayEvent:[...ai],eventExpectVisible:!1,currentExpectData:{expectData:oe({},ai[0].expect),expectIndex:-1,eventIndex:-1},eventExpectMode:"edit"}},watch:{testProps:{immediate:!0,handler(i){!this.formData||this.$nextTick(()=>{const s=typeof i=="string"?mt(i):i,o=this.formData.props?mt(this.formData.props,{}):{},u=oe(oe({},o),s);this.$set(this.formData,"props",Object.keys(u).length?JSON.stringify(u):"")})}},data:{immediate:!0,handler(i){if(this.formData=Cm(i),i.event){this.eventType=Array.isArray(i.event)?"array":"object";const{objectEvent:s,arrayEvent:o}=xm(this.eventType,i);s.length&&(this.objectEvent=s),o.length&&(this.arrayEvent=o)}}},eventType(){this.objectEvent=[...fo],this.arrayEvent=[...ai]}},methods:{onFormDataChange(i,s){this.$emit("formDataChange",i,Qe(oe({},s),{formData:this.formData}))},onCategoryChange(i){if(this.categories.includes(i)){const o=si.find(u=>u.value===i);this.$message.warning(`${o.label} already exist`);return}si.map(o=>{delete this.formData[o.value]});const s=Uo[i];Array.isArray(s)?this.formData[i]=[...s]:typeof s=="object"?this.formData[i]=oe({},s):this.formData[i]=s,this.formData.category=i,i==="event"&&(this.objectEvent=[...fo],this.arrayEvent=[...ai]),this.onFormDataChange("category")},getClassNameRecommend(){return["\u4E0D\u540C\u7684\u503C\uFF0C\u671F\u671B\u4E0D\u540C\u7684\u6839\u5143\u7D20\uFF08\u6216\u5B50\u5143\u7D20\uFF09\u5B58\u5728\u4E0D\u540C\u7684\u7C7B\u540D\u3002","\u63A8\u8350\u89C4\u5219\u4E00\uFF1At-button--variant-${item}\u3002\u5B58\u5728\u679A\u4E3E\u503C\uFF0C\u503C\u4E3A\u7C7B\u540D\u7684\u4E00\u90E8\u5206",'\u63A8\u8350\u89C4\u5219\u4E8C\uFF1A["t-size-s", "t-size-m", "t-size-l"]\u3002\u5B58\u5728\u679A\u4E3E\u503C\u3002\u5982\u679C\u671F\u671B t-size-m \u4E0D\u5B58\u5728\uFF0C\u8BF7\u8BBE\u7F6E [{ "t-size-m": false }]','\u63A8\u8350\u89C4\u5219\u4E09\uFF1A{ "underline": "t-link--hover-underline" }\u3002\u4E0D\u5B58\u5728\u679A\u4E3E\u503C\u3002',`\u63A8\u8350\u89C4\u5219\u56DB\uFF1A[{ "value": "'tdesign-class'", "expect": [{"dom": "tbody > tr", "className": { "tdesign-class": true }}] }]\u3002\u4E0D\u540C\u7684\u503C\u5BF9\u5E94\u591A\u4E2A\u4E0D\u540C\u7684\u5143\u7D20\u548C\u7C7B\u540D\u3002\u3010\u6CE8\u610F\u3011\u8FD9\u4E2A\u89C4\u5219\uFF0C\u4E0D\u9700\u8981\u586B\u5199\u4E0B\u65B9\u7684 \u300C\u7C7B\u540D\u89C4\u5219\u5E94\u7528\u7684 HTML \u5143\u7D20\u300D`]},getAttributeRecommend(){return["\u5C5E\u6027\u89C4\u5219\uFF1A","\u4E0D\u540C\u7684\u503C\uFF0C\u671F\u671B\u4E0D\u540C\u7684\u6839\u5143\u7D20\uFF08\u6216\u5B50\u5143\u7D20\uFF09\u5B58\u5728\u4E0D\u540C\u7684\u5C5E\u6027\u3002\u5143\u7D20\u7684 style/value/checked \u7B49\u4E5F\u5C5E\u4E8E\u5C5E\u6027\u6D4B\u8BD5\u3002",'\u63A8\u8350\u89C4\u5219\u4E00\uFF1A{ "type": ["submit", "reset", "button"] }','\u63A8\u8350\u89C4\u5219\u4E8C\uFF1A{ "href": "https://tdesign.tencent.com/" }',`\u63A8\u8350\u89C4\u5219\u4E09\uFF1A[{ "value": "{ 'data-level': 'level-1' }", "expect": [{ "dom": "tbody > tr", "attribute": { "data-level": "level-1" }}] }]\u3002\u5176\u4E2D\uFF0Cvalue \u8868\u793A API \u7684\u503C\uFF0C\u53EF\u4EE5\u662F\u51FD\u6570\u6216\u6570\u7EC4\u5B57\u7B26\u4E32\u3002\u3010\u6CE8\u610F\u3011\u8FD9\u4E2A\u89C4\u5219\u4E0D\u9700\u8981\u4E0B\u65B9\u7684\u300C\u5C5E\u6027\u89C4\u5219\u5E94\u7528\u7684 HTML \u5143\u7D20\u300D`,'\u5982\u679C\u662F style\uFF0C\u76F4\u63A5\u4F7F\u7528 "style.flexWrap": "wrap" \u5373\u53EF']},getDomRecommend(){return["\u5143\u7D20\u6821\u9A8C\u89C4\u5219\uFF1A",'\u6700\u7B80\u89C4\u5219\uFF1A".t-tag__icon-close"\uFF0C\u8868\u793A\u503C\u4E3A true \u65F6\u5B58\u5728\u5143\u7D20 `.t-tag__icon-close`','\u63A8\u8350\u89C4\u5219\u4E00\uFF1A["button", "a", "div"]\u3002\u5B58\u5728\u679A\u4E3E\u503C\uFF0C\u4F9D\u6B21\u9A8C\u8BC1\u8FD9\u51E0\u4E2A\u5143\u7D20\u662F\u5426\u5B58\u5728\u3002\u5982\uFF1AButton.tag','\u63A8\u8350\u89C4\u5219\u4E8C\uFF1A["tfoot.t-table__footer", { "tfoot > tr": 2 }]\u3002\u76F4\u63A5\u6821\u9A8C\u7EC4\u4EF6\u5B9E\u4F8B\u662F\u5426\u5B58\u5728\u8FD9\u4E9B\u5143\u7D20\uFF0C\u6570\u5B57\u8868\u793A\u5B58\u5728\u51E0\u4E2A','\u63A8\u8350\u89C4\u5219\u4E09\uFF1A{ "[3, 1]": { ".t-table__row--fixed-top": 3 } }\u3002\u8868\u793A\u503C\u4E3A [3, 1] \u65F6\uFF0C\u6821\u9A8C .t-table__row--fixed-top \u662F\u5426\u5B58\u5728 3 \u4E2A','\u6CE8\u610F\uFF1A\u5982\u679C\u5143\u7D20\u4E0D\u5728\u7EC4\u4EF6\u5185\u90E8\uFF0C\u53EA\u80FD\u901A\u8FC7 document \u67E5\u8BE2\uFF0C\u53EF\u4EE5\u8BBE\u7F6E "document.t-popup"']},getDomMoreTips(){return['[".t-image"] \u671F\u671B\u5143\u7D20 .t-image \u5B58\u5728','[{ ".t-image": false }] \u671F\u671B\u5143\u7D20 .t-image \u4E0D\u5B58\u5728','[{ ".t-image": 3 }] \u671F\u671B\u5143\u7D20 .t-image \u5B58\u5728 3 \u4E2A','[{ ".t-image": { "text": "+1" } }] \u671F\u671B\u5143\u7D20 .t-image \u5B58\u5728\u6587\u672C +1','[{ ".t-input": { "attribute": { "value": "input value" } } }] \u671F\u671B\u5143\u7D20 .t-image \u7684\u5C5E\u6027 value \u503C\u4E3A "input value"']},onObjectEventAdd(i){if(!this.objectEvent[i].trigger){this.$message.warning("\u8BF7\u628A\u5F53\u524D\u5185\u5BB9\u586B\u5199\u5B8C\u6574\u540E\u518D\u6DFB\u52A0");return}debugger;this.objectEvent.splice(i,0,{trigger:"",arguments:""})},onObjectEventDelete(i){this.objectEvent.length<2||this.objectEvent.splice(i,1)},onArrayEventAdd(i){this.arrayEvent.splice(i+1,0,{props:"",expect:[{trigger:"",event:"",exist:""}]})},onArrayEventDelete(i){this.arrayEvent.length<2||this.arrayEvent.splice(i,1)},onArrayEventChange(){for(let i=0,s=this.arrayEvent.length;i<s;i++){const o=this.arrayEvent[i];try{o.event&&JSON.parse(o.event)}catch{return}}this.onFormDataChange("event",{arrayEvent:this.arrayEvent})},onObjectEventChange(){for(let i=0,s=this.objectEvent.length;i<s;i++){const o=this.objectEvent[i];try{o.arguments&&JSON.parse(o.arguments)}catch{return}}this.onFormDataChange("event",{objectEvent:this.objectEvent})},onEventExpectAdd(i,s,o){this.eventExpectMode="add",this.showEventExpectDialog(oe({},ai[0].expect),s,o)},onEventExpectEdit(i,s,o){this.eventExpectMode="edit",this.showEventExpectDialog(i,s,o)},onEventExpectDelete(i,s){this.arrayEvent[s].expect.splice(i,1),this.onFormDataChange("event",{arrayEvent:this.arrayEvent})},showEventExpectDialog(i,s,o){this.currentExpectData={expectData:oe({},i),expectIndex:s,eventIndex:o},this.eventExpectVisible=!0},onEventExpectChange(i){const{expectIndex:s,eventIndex:o}=this.currentExpectData;if(this.eventExpectMode==="edit")this.$set(this.arrayEvent[o].expect,s,i);else if(this.eventExpectMode==="add"){const u=[...this.arrayEvent[o].expect];u.splice(s+1,0,i),this.$set(this.arrayEvent[o],"expect",u)}this.onFormDataChange("event",{arrayEvent:this.arrayEvent})},onEventPropsChange(){this.onFormDataChange("event",{arrayEvent:this.arrayEvent})},getEventName(i){if(typeof i=="string"){const s=mt(i,{});return Object.keys(s).map(o=>ip(o)).join("\u3001")}return i},getEventDescription(i){const s=this.getExpectDesc(i.exist);return[i.trigger&&`\u89E6\u53D1 ${i.trigger}`,i.delay&&`\u5EF6\u8FDF ${i.delay==="true"?300:i.delay} \u6BEB\u79D2\u4E4B\u540E`,s,i.event&&`\u671F\u671B ${this.getEventName(i.event)} \u7B49\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u88AB\u6267\u884C\uFF0C\u4EE5\u53CA\u76F8\u5173\u53C2\u6570\u6B63\u786E`].filter(o=>o).join("\uFF0C")+"\u3002"},getExpectDesc(i){const s=mt(i,[]),o=[],u=[],d=[];return s==null||s.forEach(g=>{if(!!g){if(typeof g=="string")o.push(g);else if(typeof g=="object"){const y=Object.keys(g);if(g[y[0]]===!1)u.push(y[0]);else if(g[y[0]].attribute){const m=[];y.forEach(T=>{Object.keys(g[T].attribute).forEach(w=>{m.push({dom:T,attributeName:w,attributeValue:g[T].attribute[w]})})}),d.push(...m)}else o.push(y[0])}}}),[o.length&&`\u671F\u671B ${o.join("\u3001")} \u7B49\u5143\u7D20\u5B58\u5728`,u.length&&`\u671F\u671B ${u.join("\u3001")} \u7B49\u5143\u7D20\u4E0D\u5B58\u5728`,d.length&&d.map(g=>`\u671F\u671B\u5143\u7D20 ${g.dom} \u7684\u5C5E\u6027 ${g.attributeName} \u503C\u4E3A ${g.attributeValue}`).join("\uFF0C")].filter(g=>g).join("\uFF0C")}}},Eu={};var _m=er(wm,Sm,Tm,!1,Dm,null,null,null);function Dm(i){for(let s in Eu)this[s]=Eu[s]}var km=function(){return _m.exports}(),Em=function(){var i=this,s=i.$createElement,o=i._self._c||s;return o("div",{staticClass:"unit-test-ui"},[o("t-tabs",{attrs:{list:i.frameWorkOptions},model:{value:i.framework,callback:function(u){i.framework=u},expression:"framework"}}),o("br"),o("t-card",[o("t-form",{attrs:{size:"small"}},[o("t-form-item",i._l(i.formData.list,function(u,d){return o("OneCategoryTest",{key:u.category+d,attrs:{apiInfo:i.apiInfo,data:u,categories:i.categories,testProps:i.formData.props},on:{formDataChange:function(g,y){return i.onOneCategoryTestChange(g,y,d)}},scopedSlots:i._u([{key:"operation",fn:function(){return[o("div",[o("t-button",{staticStyle:{"margin-top":"16px"},attrs:{size:"small"},on:{click:i.onAddMore}},[i._v("\u6DFB\u52A0\u5176\u4ED6\u7C7B\u522B")]),i.formData.list.length>1?o("t-button",{staticStyle:{"margin-top":"16px","margin-left":"16px"},attrs:{theme:"danger",size:"small"},on:{click:function(){return i.onDelete(d)}}},[i._v("\u79FB\u9664")]):i._e()],1)]},proxy:!0}],null,!0)})}),1),o("t-form-item",[o("t-tooltip",{attrs:{theme:"light",content:"\u793A\u4F8B\u4E00\uFF1AText\uFF0C\u8F93\u51FA <Button>Text</Button>\uFF1B \u793A\u4F8B\u4E8C\uFF1A<span>children</span>\uFF0C \u8F93\u51FA\uFF1A<Button><span>children</span></Button>"}},[o("t-input",{attrs:{placeholder:"\u5B50\u7EC4\u4EF6"},on:{change:function(){return i.onFormDataChange("content")}},model:{value:i.formData.content,callback:function(u){i.$set(i.formData,"content",u)},expression:"formData.content"}})],1)],1),o("t-form-item",[o("t-tooltip",{attrs:{theme:"light"},scopedSlots:i._u([{key:"content",fn:function(){return[o("p",[i._v(i._s("const wrapper = mount(< RadioGroup ></ RadioGroup >)")+" \u9ED8\u8BA4\u83B7\u53D6\u7EC4\u4EF6\u5B9E\u4F8B\u65B9\u6CD5\u3002")]),o("p",[i._v(i._s("const wrapper = getRadioGroupDefaultMount(RadioGroup, {})")+" \u586B\u5199\u540E\u7684\u83B7\u53D6\u5B9E\u4F8B\u65B9\u6CD5\uFF0C\u4E00\u822C\u7528\u4E8E\u5B58\u5728\u5B50\u7EC4\u4EF6\u7684\u573A\u666F")])]},proxy:!0}])},[o("t-input",{attrs:{placeholder:"\u83B7\u53D6\u7EC4\u4EF6\u5B9E\u4F8B\u7684\u51FD\u6570\u540D\u79F0\uFF0C\u7C7B\u5B50\u7EC4\u4EF6\u573A\u666F\uFF0C\u5982\uFF1AgetRadioGroupDefaultMount"},on:{change:function(){return i.onFormDataChange("wrapper")}},model:{value:i.formData.wrapper,callback:function(u){i.$set(i.formData,"wrapper",u)},expression:"formData.wrapper"}})],1)],1),o("div",{staticClass:"unit-test-ui__form-item-inner"},[o("t-tooltip",{attrs:{theme:"light"},scopedSlots:i._u([{key:"content",fn:function(){return[o("p",[i._v(" \u5F00\u542F\u6821\u9A8C\u7684\u524D\u7F6E\u6761\u4EF6\uFF0C\u793A\u4F8B\u4E00\uFF1Afocus(.t-input__wrap)\u3002\u793A\u4F8B\u4E8C\uFF1Adelay \u6216\u8005 delay(100)\u3002 "),o("t-link",{attrs:{underline:"",href:"https://github.com/vuejs/test-utils/blob/main/src/constants/dom-events.ts#L566",target:"_blank"}},[i._v("\u6240\u6709\u4E8B\u4EF6\u5217\u8868")])],1)]},proxy:!0}])},[o("t-input",{attrs:{placeholder:"\u7B49\u5F85\u6E32\u67D3\u5EF6\u8FDF\u6216\u89E6\u53D1\u4E8B\u4EF6\u540E\u518D\u5F00\u59CB\u6821\u9A8C"},on:{change:function(){return i.onFormDataChange("trigger")}},model:{value:i.formData.trigger,callback:function(u){i.$set(i.formData,"trigger",u)},expression:"formData.trigger"}})],1)],1),o("t-form-item",{staticStyle:{margin:"16px 0 8px 0"}},[o("t-checkbox",{on:{change:function(){return i.onFormDataChange("snapshot")}},model:{value:i.formData.snapshot,callback:function(u){i.$set(i.formData,"snapshot",u)},expression:"formData.snapshot"}},[i._v("\u751F\u6210\u5FEB\u7167\uFF08Snapshots\uFF09")])],1),o("t-form-item",{staticStyle:{margin:"0px 0 8px 0"}},[o("t-checkbox",{model:{value:i.formData.needCopy,callback:function(u){i.$set(i.formData,"needCopy",u)},expression:"formData.needCopy"}},[i._v("\u590D\u7528\u5F53\u524D\u6240\u6709\u6D4B\u8BD5\u7528\u4F8B\u5230\u5176\u4ED6\u300C\u7EC4\u4EF6\u5B9E\u4F8B\u300D")])],1),i.formData.needCopy?o("t-form-item",[o("t-input",{attrs:{placeholder:"\u591A\u4E2A\u5B9E\u4F8B\u9017\u53F7\u9694\u5F00\uFF0C\u793A\u4F8B\uFF1AgetRadioGroupKidsMount"},on:{change:function(){return i.onFormDataChange("copyTestToWrapper")}},model:{value:i.formData.copyTestToWrapper,callback:function(u){i.$set(i.formData,"copyTestToWrapper",u)},expression:"formData.copyTestToWrapper"}})],1):i._e(),o("t-form-item",[o("t-checkbox",{on:{change:function(){return i.onFormDataChange("skip")}},model:{value:i.formData.skip,callback:function(u){i.$set(i.formData,"skip",u)},expression:"formData.skip"}},[i._v("\u8DF3\u8FC7\u5F53\u524D\u6D4B\u8BD5\u7528\u4F8B")])],1)],1)],1)],1)},$m=[];const Om={name:"UnitTestUI",components:{OneCategoryTest:km},props:{currentTestJSON:Object,apiInfo:{type:Object,default:()=>({})}},data(){return{framework:"PC",formDataPC:fn(mn),formDataMobile:fn(mn),frameWorkOptions:[{label:"PC",value:"PC"},{label:"Mobile",value:"Mobile"}],CATEGORY_OPTIONS:si}},computed:{formData(){return{PC:this.formDataPC,Mobile:this.formDataMobile}[this.framework]},categories(){return this.formData.list.map(i=>i.category)}},methods:{updateDataByJSON(){const{currentTestJSON:i}=this;i.PC?this.formDataPC=this.updateFormData(this.formDataPC,i.PC):this.formDataPC=fn(mn),i.Mobile?this.formDataMobile=this.updateFormData(this.formDataMobile,i.Mobile):this.formDataMobile=fn(mn)},updateFormData(i,s){var u;const o=Qe(oe({},i),{dom:s.dom,classNameDom:s.classNameDom,attributeDom:s.attributeDom,props:s.props,content:s.content,wrapper:s.wrapper,trigger:s.trigger,copyTestToWrapper:(u=s.copyTestToWrapper)==null?void 0:u.join(),needCopy:Boolean(s.copyTestToWrapper&&s.copyTestToWrapper.length),snapshot:s.snapshot,skip:s.skip,list:[]});si.forEach(d=>{const g=d.value;if(s[g]){const y={category:g,[g]:this.formatCategoryData(g,s[g])};g==="className"?y.classNameDom=s.classNameDom:g==="attribute"&&(y.attributeDom=s.attributeDom),["tnode","className","attribute","dom"].includes("key")&&(y.props=s.props),o.list.push(y)}});for(let d=o.list.length;d<this.formData.list.length;d++)o.list.push({category:this.formData.list[d].category});return o},formatCategoryData(i,s){return i==="tnode"&&s===!0?{dom:[],trigger:""}:s},onFormDataChange(i,s){this.$emit("test-ui-form-data-change",{framework:this.framework,formData:this.formData,trigger:i,params:s})},onOneCategoryTestChange(i,s,o){let u=this[`formData${this.framework}`].list[o];if(i==="event"){const d=this.getEventJSONData(s);u=Qe(oe({},s.formData),{event:d})}else u=s.formData;this.$set(this[`formData${this.framework}`].list,o,u),this.$set(this[`formData${this.framework}`],"props",u.props),this.onFormDataChange(i,Qe(oe({},s),{formData:this.formData}))},getEventJSONData(i){if(i.objectEvent){const s={};return i.objectEvent.forEach(o=>{s[o.trigger]={arguments:o.arguments?JSON.parse(o.arguments):void 0}}),s}if(i.arrayEvent)return i.arrayEvent.map(s=>({props:s.props?mt(s.props):void 0,description:s.description,wrapper:s.wrapper,expect:s.expect.map(o=>({trigger:o.trigger,event:o.event?mt(o.event):void 0,exist:o.exist?mt(o.exist,[]):void 0,delay:o.delay==="true"?!0:o.delay?Number(o.delay):void 0}))}))},clearFormData(){this.formDataPC=fn(mn),this.formDataMobile=fn(mn)},onAddMore(){this[`formData${this.framework}`].list.push(oe({},Uo))},onDelete(i){if(this[`formData${this.framework}`].list.length<=1){this.$message.warning("\u81F3\u5C11\u4FDD\u7559\u4E00\u4E2A");return}this[`formData${this.framework}`].list.splice(i,1)}}},$u={};var Am=er(Om,Em,$m,!1,Mm,null,null,null);function Mm(i){for(let s in $u)this[s]=$u[s]}var Lm=function(){return Am.exports}(),Pm={parser:"typescript",printWidth:120,tabWidth:2,useTabs:!1,semi:!0,singleQuote:!0,quoteProps:"as-needed",jsxSingleQuote:!1,trailingComma:"all",bracketSpacing:!0,arrowParens:"always",rangeStart:0,rangeEnd:1/0,requirePragma:!1,insertPragma:!1,proseWrap:"preserve",htmlWhitespaceSensitivity:"css",vueIndentScriptAndStyle:!1,endOfLine:"lf"},Af={exports:{}};(function(i){var s=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var o=function(u){var d=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,g=0,y={},m={manual:u.Prism&&u.Prism.manual,disableWorkerMessageHandler:u.Prism&&u.Prism.disableWorkerMessageHandler,util:{encode:function k($){return $ instanceof T?new T($.type,k($.content),$.alias):Array.isArray($)?$.map(k):$.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(k){return Object.prototype.toString.call(k).slice(8,-1)},objId:function(k){return k.__id||Object.defineProperty(k,"__id",{value:++g}),k.__id},clone:function k($,L){L=L||{};var B,W;switch(m.util.type($)){case"Object":if(W=m.util.objId($),L[W])return L[W];B={},L[W]=B;for(var Q in $)$.hasOwnProperty(Q)&&(B[Q]=k($[Q],L));return B;case"Array":return W=m.util.objId($),L[W]?L[W]:(B=[],L[W]=B,$.forEach(function(fe,ee){B[ee]=k(fe,L)}),B);default:return $}},getLanguage:function(k){for(;k;){var $=d.exec(k.className);if($)return $[1].toLowerCase();k=k.parentElement}return"none"},setLanguage:function(k,$){k.className=k.className.replace(RegExp(d,"gi"),""),k.classList.add("language-"+$)},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(B){var k=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(B.stack)||[])[1];if(k){var $=document.getElementsByTagName("script");for(var L in $)if($[L].src==k)return $[L]}return null}},isActive:function(k,$,L){for(var B="no-"+$;k;){var W=k.classList;if(W.contains($))return!0;if(W.contains(B))return!1;k=k.parentElement}return!!L}},languages:{plain:y,plaintext:y,text:y,txt:y,extend:function(k,$){var L=m.util.clone(m.languages[k]);for(var B in $)L[B]=$[B];return L},insertBefore:function(k,$,L,B){B=B||m.languages;var W=B[k],Q={};for(var fe in W)if(W.hasOwnProperty(fe)){if(fe==$)for(var ee in L)L.hasOwnProperty(ee)&&(Q[ee]=L[ee]);L.hasOwnProperty(fe)||(Q[fe]=W[fe])}var he=B[k];return B[k]=Q,m.languages.DFS(m.languages,function(Se,Me){Me===he&&Se!=k&&(this[Se]=Q)}),Q},DFS:function k($,L,B,W){W=W||{};var Q=m.util.objId;for(var fe in $)if($.hasOwnProperty(fe)){L.call($,fe,$[fe],B||fe);var ee=$[fe],he=m.util.type(ee);he==="Object"&&!W[Q(ee)]?(W[Q(ee)]=!0,k(ee,L,null,W)):he==="Array"&&!W[Q(ee)]&&(W[Q(ee)]=!0,k(ee,L,fe,W))}}},plugins:{},highlightAll:function(k,$){m.highlightAllUnder(document,k,$)},highlightAllUnder:function(k,$,L){var B={callback:L,container:k,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};m.hooks.run("before-highlightall",B),B.elements=Array.prototype.slice.apply(B.container.querySelectorAll(B.selector)),m.hooks.run("before-all-elements-highlight",B);for(var W=0,Q;Q=B.elements[W++];)m.highlightElement(Q,$===!0,B.callback)},highlightElement:function(k,$,L){var B=m.util.getLanguage(k),W=m.languages[B];m.util.setLanguage(k,B);var Q=k.parentElement;Q&&Q.nodeName.toLowerCase()==="pre"&&m.util.setLanguage(Q,B);var fe=k.textContent,ee={element:k,language:B,grammar:W,code:fe};function he(Me){ee.highlightedCode=Me,m.hooks.run("before-insert",ee),ee.element.innerHTML=ee.highlightedCode,m.hooks.run("after-highlight",ee),m.hooks.run("complete",ee),L&&L.call(ee.element)}if(m.hooks.run("before-sanity-check",ee),Q=ee.element.parentElement,Q&&Q.nodeName.toLowerCase()==="pre"&&!Q.hasAttribute("tabindex")&&Q.setAttribute("tabindex","0"),!ee.code){m.hooks.run("complete",ee),L&&L.call(ee.element);return}if(m.hooks.run("before-highlight",ee),!ee.grammar){he(m.util.encode(ee.code));return}if($&&u.Worker){var Se=new Worker(m.filename);Se.onmessage=function(Me){he(Me.data)},Se.postMessage(JSON.stringify({language:ee.language,code:ee.code,immediateClose:!0}))}else he(m.highlight(ee.code,ee.grammar,ee.language))},highlight:function(k,$,L){var B={code:k,grammar:$,language:L};if(m.hooks.run("before-tokenize",B),!B.grammar)throw new Error('The language "'+B.language+'" has no grammar.');return B.tokens=m.tokenize(B.code,B.grammar),m.hooks.run("after-tokenize",B),T.stringify(m.util.encode(B.tokens),B.language)},tokenize:function(k,$){var L=$.rest;if(L){for(var B in L)$[B]=L[B];delete $.rest}var W=new A;return M(W,W.head,k),S(k,W,$,W.head,0),z(W)},hooks:{all:{},add:function(k,$){var L=m.hooks.all;L[k]=L[k]||[],L[k].push($)},run:function(k,$){var L=m.hooks.all[k];if(!(!L||!L.length))for(var B=0,W;W=L[B++];)W($)}},Token:T};u.Prism=m;function T(k,$,L,B){this.type=k,this.content=$,this.alias=L,this.length=(B||"").length|0}T.stringify=function k($,L){if(typeof $=="string")return $;if(Array.isArray($)){var B="";return $.forEach(function(he){B+=k(he,L)}),B}var W={type:$.type,content:k($.content,L),tag:"span",classes:["token",$.type],attributes:{},language:L},Q=$.alias;Q&&(Array.isArray(Q)?Array.prototype.push.apply(W.classes,Q):W.classes.push(Q)),m.hooks.run("wrap",W);var fe="";for(var ee in W.attributes)fe+=" "+ee+'="'+(W.attributes[ee]||"").replace(/"/g,"&quot;")+'"';return"<"+W.tag+' class="'+W.classes.join(" ")+'"'+fe+">"+W.content+"</"+W.tag+">"};function w(k,$,L,B){k.lastIndex=$;var W=k.exec(L);if(W&&B&&W[1]){var Q=W[1].length;W.index+=Q,W[0]=W[0].slice(Q)}return W}function S(k,$,L,B,W,Q){for(var fe in L)if(!(!L.hasOwnProperty(fe)||!L[fe])){var ee=L[fe];ee=Array.isArray(ee)?ee:[ee];for(var he=0;he<ee.length;++he){if(Q&&Q.cause==fe+","+he)return;var Se=ee[he],Me=Se.inside,N=!!Se.lookbehind,R=!!Se.greedy,E=Se.alias;if(R&&!Se.pattern.global){var yt=Se.pattern.toString().match(/[imsuy]*$/)[0];Se.pattern=RegExp(Se.pattern.source,yt+"g")}for(var Ue=Se.pattern||Se,me=B.next,Ee=W;me!==$.tail&&!(Q&&Ee>=Q.reach);Ee+=me.value.length,me=me.next){var et=me.value;if($.length>k.length)return;if(!(et instanceof T)){var tt=1,qe;if(R){if(qe=w(Ue,Ee,k,N),!qe||qe.index>=k.length)break;var re=qe.index,Ke=qe.index+qe[0].length,we=Ee;for(we+=me.value.length;re>=we;)me=me.next,we+=me.value.length;if(we-=me.value.length,Ee=we,me.value instanceof T)continue;for(var _e=me;_e!==$.tail&&(we<Ke||typeof _e.value=="string");_e=_e.next)tt++,we+=_e.value.length;tt--,et=k.slice(Ee,we),qe.index-=Ee}else if(qe=w(Ue,0,et,N),!qe)continue;var re=qe.index,se=qe[0],ce=et.slice(0,re),ye=et.slice(re+se.length),Gt=Ee+et.length;Q&&Gt>Q.reach&&(Q.reach=Gt);var ge=me.prev;ce&&(ge=M($,ge,ce),Ee+=ce.length),I($,ge,tt);var Re=new T(fe,Me?m.tokenize(se,Me):se,E,se);if(me=M($,ge,Re),ye&&M($,me,ye),tt>1){var Dt={cause:fe+","+he,reach:Gt};S(k,$,L,me.prev,Ee,Dt),Q&&Dt.reach>Q.reach&&(Q.reach=Dt.reach)}}}}}}function A(){var k={value:null,prev:null,next:null},$={value:null,prev:k,next:null};k.next=$,this.head=k,this.tail=$,this.length=0}function M(k,$,L){var B=$.next,W={value:L,prev:$,next:B};return $.next=W,B.prev=W,k.length++,W}function I(k,$,L){for(var B=$.next,W=0;W<L&&B!==k.tail;W++)B=B.next;$.next=B,B.prev=$,k.length-=W}function z(k){for(var $=[],L=k.head.next;L!==k.tail;)$.push(L.value),L=L.next;return $}if(!u.document)return u.addEventListener&&(m.disableWorkerMessageHandler||u.addEventListener("message",function(k){var $=JSON.parse(k.data),L=$.language,B=$.code,W=$.immediateClose;u.postMessage(m.highlight(B,m.languages[L],L)),W&&u.close()},!1)),m;var V=m.util.currentScript();V&&(m.filename=V.src,V.hasAttribute("data-manual")&&(m.manual=!0));function J(){m.manual||m.highlightAll()}if(!m.manual){var G=document.readyState;G==="loading"||G==="interactive"&&V&&V.defer?document.addEventListener("DOMContentLoaded",J):window.requestAnimationFrame?window.requestAnimationFrame(J):window.setTimeout(J,16)}return m}(s);i.exports&&(i.exports=o),typeof ta!="undefined"&&(ta.Prism=o),o.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},o.languages.markup.tag.inside["attr-value"].inside.entity=o.languages.markup.entity,o.languages.markup.doctype.inside["internal-subset"].inside=o.languages.markup,o.hooks.add("wrap",function(u){u.type==="entity"&&(u.attributes.title=u.content.replace(/&amp;/,"&"))}),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(d,g){var y={};y["language-"+g]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[g]},y.cdata=/^<!\[CDATA\[|\]\]>$/i;var m={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:y}};m["language-"+g]={pattern:/[\s\S]+/,inside:o.languages[g]};var T={};T[d]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return d}),"i"),lookbehind:!0,greedy:!0,inside:m},o.languages.insertBefore("markup","cdata",T)}}),Object.defineProperty(o.languages.markup.tag,"addAttribute",{value:function(u,d){o.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+u+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[d,"language-"+d],inside:o.languages[d]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.xml=o.languages.extend("markup",{}),o.languages.ssml=o.languages.xml,o.languages.atom=o.languages.xml,o.languages.rss=o.languages.xml,function(u){var d=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;u.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+d.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+d.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+d.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+d.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:d,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},u.languages.css.atrule.inside.rest=u.languages.css;var g=u.languages.markup;g&&(g.tag.addInlined("style","css"),g.tag.addAttribute("style","css"))}(o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:o.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),o.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),o.languages.markup&&(o.languages.markup.tag.addInlined("script","javascript"),o.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),o.languages.js=o.languages.javascript,function(){if(typeof o=="undefined"||typeof document=="undefined")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var u="Loading\u2026",d=function(V,J){return"\u2716 Error "+V+" while fetching file: "+J},g="\u2716 Error: File does not exist or is empty",y={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},m="data-src-status",T="loading",w="loaded",S="failed",A="pre[data-src]:not(["+m+'="'+w+'"]):not(['+m+'="'+T+'"])';function M(V,J,G){var k=new XMLHttpRequest;k.open("GET",V,!0),k.onreadystatechange=function(){k.readyState==4&&(k.status<400&&k.responseText?J(k.responseText):k.status>=400?G(d(k.status,k.statusText)):G(g))},k.send(null)}function I(V){var J=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(V||"");if(J){var G=Number(J[1]),k=J[2],$=J[3];return k?$?[G,Number($)]:[G,void 0]:[G,G]}}o.hooks.add("before-highlightall",function(V){V.selector+=", "+A}),o.hooks.add("before-sanity-check",function(V){var J=V.element;if(J.matches(A)){V.code="",J.setAttribute(m,T);var G=J.appendChild(document.createElement("CODE"));G.textContent=u;var k=J.getAttribute("data-src"),$=V.language;if($==="none"){var L=(/\.(\w+)$/.exec(k)||[,"none"])[1];$=y[L]||L}o.util.setLanguage(G,$),o.util.setLanguage(J,$);var B=o.plugins.autoloader;B&&B.loadLanguages($),M(k,function(W){J.setAttribute(m,w);var Q=I(J.getAttribute("data-range"));if(Q){var fe=W.split(/\r\n?|\n/g),ee=Q[0],he=Q[1]==null?fe.length:Q[1];ee<0&&(ee+=fe.length),ee=Math.max(0,Math.min(ee-1,fe.length)),he<0&&(he+=fe.length),he=Math.max(0,Math.min(he,fe.length)),W=fe.slice(ee,he).join(`
`),J.hasAttribute("data-start")||J.setAttribute("data-start",String(ee+1))}G.textContent=W,o.highlightElement(G)},function(W){J.setAttribute(m,S),G.textContent=W})}}),o.plugins.fileHighlight={highlight:function(J){for(var G=(J||document).querySelectorAll(A),k=0,$;$=G[k++];)o.highlightElement($)}};var z=!1;o.fileHighlight=function(){z||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),z=!0),o.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Af);var hr=Af.exports;Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;var Nm=function(){var i,s,o,u,d=this,g=d.$createElement,y=d._self._c||g;return y("div",{staticClass:"unit-test-design"},[y("div",{staticClass:"unit-test-design__input"},[y("h3",{staticClass:"unit-test-tdesign__h3"},[d._v(" "+d._s((i=d.apiInfo)===null||i===void 0?void 0:i.component)+"."+d._s((s=d.apiInfo)===null||s===void 0?void 0:s.field_name)+" "),d.apiInfo&&d.apiInfo.field_type_text&&d.apiInfo.field_type_text.length?[d._v(" "+d._s("<"+d.apiInfo.field_type_text.join("/")+">")+" ")]:d._e()],2),(o=d.apiInfo)!==null&&o!==void 0&&o.field_enum?y("p",[d.apiInfo.field_enum?[d._v("\u679A\u4E3E\u503C\uFF1A"+d._s(d.apiInfo.field_enum))]:d._e()],2):d._e(),y("p",[d._v(d._s((u=d.apiInfo)===null||u===void 0?void 0:u.field_desc_zh))]),y("div",{staticStyle:{height:"500px"},attrs:{id:"test-json-editor"}}),y("div",{staticStyle:{"margin-top":"32px",display:"flex",width:"100%","justify-content":"flex-end"}},[y("t-button",{on:{click:d.jsonConfirm}},[y("ChevronRightDoubleIcon")],1)],1),d.jsonError?y("div",{staticClass:"t-textarea__tips t-textarea__tips--error"},[d._v(" "+d._s(d.jsonError)+" ")]):d._e()]),y("t-divider",{staticStyle:{height:"100%"},attrs:{layout:"vertical"}}),y("div",{staticClass:"unit-test-design__out"},[y("h3",{staticClass:"unit-test-tdesign__h3"},[d._v("Unit Test Preview")]),y("p",[y("t-radio-group",{attrs:{variant:"default-filled"},model:{value:d.unitTestType,callback:function(m){d.unitTestType=m},expression:"unitTestType"}},[y("t-radio-button",{attrs:{value:"current"}},[d._v("Current API Unit Tests")]),y("t-radio-button",{attrs:{value:"all"}},[d._v("Whole Component Unit Tests")])],1)],1),y("t-tabs",{staticStyle:{"margin-top":"-16px",width:"100%"},attrs:{list:d.tabList},model:{value:d.tab,callback:function(m){d.tab=m},expression:"tab"}}),y("div",{staticClass:"unit-test-code"},[y("pre",[y("code",{staticClass:"language-javascript",domProps:{innerHTML:d._s(d.unitTestCode)}})])])],1)],1)},Im=[];const Fm={name:"UnitTestDesign",components:{UnitTestUI:Lm,ChevronRightDoubleIcon:zd},props:{map:Object,apiInfo:{type:Object,default:()=>({})},visible:Boolean},data(){return{tab:"VueNext(PC)",tabList:[{label:"JSON",value:"JSON"},{label:"Vue(PC)",value:"Vue(PC)"},{label:"VueNext(PC)",value:"VueNext(PC)"},{label:"React(PC)",value:"React(PC)"},{label:"Vue(Mobile)",value:"Vue(Mobile)"},{label:"React(Mobile)",value:"React(Mobile)"}],loading:!1,componentApiData:[],testDescription:"",jsonError:"",unitTestType:"current",jsonEditor:null}},computed:{unitTestCode(){return this.getInnerUnitTestCode()},currentTestJSON(){try{return this.testDescription?JSON.parse(this.testDescription):{}}catch{return{}}}},mounted(){ap("https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/9.9.2/jsoneditor.min.js").then(()=>{this.initJsEditor()})},watch:{visible(i){var s;i?this.getCurrentComponentData():(s=this.$refs["unit-test-ui"])==null||s.clearFormData()},apiInfo(i){this.testDescription=i?i.test_description:void 0},testDescription(i){if(!this.validateJSON(i)||!this.apiInfo||!this.componentApiData.length)return;const o=this.componentApiData.findIndex(u=>u.id===this.apiInfo.id);o<0||this.$set(this.componentApiData[o],"test_description",i||void 0)},testDescription:{handler(i){this.$nextTick(()=>{var s;(s=this.jsonEditor)==null||s.set(mt(i,{}))})},immediate:!0}},methods:{initJsEditor(){const i=document.querySelector("#test-json-editor");this.jsonEditor=new JSONEditor(i,{mode:"code",onEditable:(s,o)=>(console.log(s,o),!0)})},jsonConfirm(){const i=this.jsonEditor.get();this.testDescription=JSON.stringify(i)},checkInFramework(){const i=this.tab==="VueNext(PC)"?"Vue(PC)":this.tab;return this.apiInfo&&this.apiInfo.platform_framework_text.includes(i)},getInnerUnitTestCode(){if(!this.apiInfo||!this.componentApiData.length)return;if(this.tab==="JSON"){const s=JSON.stringify(this.currentTestJSON,"",2);return hr.highlight(s,hr.languages.json,"json")}let i="";try{const o=np(this.tab)[this.apiInfo.component]||this.apiInfo.component;if(this.unitTestType==="current")if(Object.keys(this.currentTestJSON).length!==0&&this.checkInFramework()){const u=this.tab.indexOf("PC")!==-1?this.currentTestJSON.PC:this.currentTestJSON.Mobile,{oneUnitTests:d}=na.exports.getOneUnitTest(this.tab,this.apiInfo.component,this.apiInfo,u);i=d.join("")}else i="console.log('current unit test is empty')";else if(this.unitTestType==="all")i=na.exports.getComponentUnitTests(this.tab,o,this.componentApiData,this.map);else return}catch(s){return console.warn(s),i="console.log('Unit test generated fail, check the core code first.')",hr.highlight(i,hr.languages.javascript,"javascript")}try{const s=Vd.format(i,Qe(oe({},Pm),{parser:"babel",plugins:[qd]}));return hr.highlight(s,hr.languages.javascript,"javascript")}catch(s){console.warn(s);const u="console.log('unit test code has syntax error. check test code please.')";return hr.highlight(u,hr.languages.javascript,"javascript")}},validateJSON(i){try{return i&&JSON.parse(i),this.jsonError="",!0}catch{this.jsonError="Not a validate JSON"}return!1},onTestUIFormDataChange({framework:i,formData:s,trigger:o,params:u}){const d={};i==="PC"?d.PC=this.updateTestDescription(s,o,u):i==="Mobile"&&(d.Mobile=this.updateTestDescription(s,o,u)),this.testDescription=JSON.stringify(d)},updateTestDescription(i,s,o){var g,y;console.log("ui change",i,s,o);const u={};["wrapper","snapshot","trigger","skip","copyTestToWrapper","props"].forEach(m=>{i[m]&&(u[m]=i[m])}),(g=i.copyTestToWrapper)!=null&&g.trim()&&(u.copyTestToWrapper=i.copyTestToWrapper.trim().split(","));let d;return(y=i.list)!=null&&y.length&&i.list.map(m=>{var w;if(u[m.category]=m[m.category],m.category==="tnode"&&typeof m.tnode!==!0){const{tnode:S}=m;(!S.dom||!S.dom.length)&&!S.trigger&&!S.params&&(u.tnode=!0)}s==="tnode"&&((w=m.tnode)==null?void 0:w.params)&&(u.tnode.params=mt(m.tnode.params)),m.className&&(u.className=mt(m.className,m.className)),s==="className"&&m.category==="className"&&(u.classNameDom=m.classNameDom),m.attribute&&(u.attribute=mt(m.attribute)),s==="attribute"&&m.category==="attribute"&&(u.attributeDom=m.attributeDom);const T=["tnode","className","attribute","dom"];T.includes(s)&&T.includes(m.category)&&(d=mt(m.props)),m.dom&&(u.dom=mt(m.dom))}),u.props=d||u.props,u},getCurrentComponentData(){if(!this.apiInfo||!this.apiInfo.component)return;const i=Bu(),s=i[this.apiInfo.component]?i[this.apiInfo.component].join():this.apiInfo.component;this.loading=!0,vr({method:"get",url:"/cmp/api",params:{component:s,page:1,page_size:300}}).then(o=>{var u;this.componentApiData=o.data.data,(u=this.$refs["unit-test-ui"])==null||u.updateDataByJSON(),this.loading=!1},()=>{this.loading=!1})},onTestDescriptionBlur(){var i;(i=this.$refs["unit-test-ui"])==null||i.updateDataByJSON()}}},Ou={};var Rm=er(Fm,Nm,Im,!1,jm,null,null,null);function jm(i){for(let s in Ou)this[s]=Ou[s]}var Bm=function(){return Rm.exports}(),Wm=function(){var i=this,s=i.$createElement,o=i._self._c||s;return o("div",{staticClass:"tdesign-page-doc"},[o("div",{staticClass:"page-api"},[o("h2",{staticClass:"page-api__title"},[i._v("TDesign Components Standards")]),o("div",{staticClass:"page-api__search"},[o("div",{staticClass:"query-item"},[o("t-select",{attrs:{placeholder:"\u5E73\u53F0\u6846\u67B6",clearable:"",filterable:""},on:{change:i.onPlatformChange},model:{value:i.query.platform,callback:function(u){i.$set(i.query,"platform",u)},expression:"query.platform"}},i._l(i.map.platform_framework,function(u,d){return o("t-option",{key:d,attrs:{label:u.label,value:u.value}})}),1)],1),o("div",{staticClass:"query-item"},[o("t-select",{attrs:{placeholder:"\u7EC4\u4EF6\u540D\u79F0",clearable:"",filterable:""},on:{change:i.onComponentChange},model:{value:i.query.component,callback:function(u){i.$set(i.query,"component",u)},expression:"query.component"}},i._l(i.map.components,function(u,d){return o("t-option",{key:d,attrs:{label:`${u.value} ${u.label} (${i.TYPE_MAP[u.type]||"\u7EC4\u4EF6"})`,value:u.value}})}),1)],1),o("div",{staticClass:"query-item"},[o("t-select",{attrs:{placeholder:"API \u5206\u7C7B",clearable:"",filterable:""},on:{change:i.onComponentChange},model:{value:i.query.fieldCategory,callback:function(u){i.$set(i.query,"fieldCategory",u)},expression:"query.fieldCategory"}},i._l(i.map.field_category,function(u,d){return o("t-option",{key:d,attrs:{label:u.label,value:u.value}})}),1)],1),o("div",{staticClass:"query-item"},[o("t-input",{attrs:{placeholder:"\u8F93\u5165 API \u540D\u79F0\u67E5\u8BE2\uFF0C\u5982\uFF1Atheme"},on:{enter:i.onEnter},model:{value:i.query.fieldName,callback:function(u){i.$set(i.query,"fieldName",u)},expression:"query.fieldName"}})],1)]),i.preview?i._e():o("api-operation",{attrs:{map:i.map},on:{"create-dialog-show":i.onCreateDialogShow}}),o("div",{staticClass:"t-demo-api-list"},[o("t-loading",{attrs:{loading:i.loading}},[o("api-list",{attrs:{list:i.list,platformOptions:i.platformOptions,preview:i.preview},on:{"delete-api-success":i.onDeleteSuccess,"click-edit-btn":i.onEditClick,"click-test-edit-btn":i.onTestEditClick,"code-preview":i.onCodePreview}}),o("t-pagination",{attrs:{total:i.total,"page-size":i.pageSize,current:i.page,"show-sizer":""},on:{change:i.onPageChange}})],1)],1),o("t-drawer",{staticClass:"api-edit",attrs:{header:i.mode==="create"?"\u65B0\u589E":"\u7F16\u8F91",width:"830",visible:i.createApiVisible,size:"60%"},on:{"update:visible":function(u){i.createApiVisible=u},confirm:i.onApiConfirm}},[o("div",{attrs:{slot:"body"},slot:"body"},[o("import",{ref:"api-form",attrs:{map:i.map,info:i.apiInfo,mode:i.mode}})],1)]),o("t-dialog",{attrs:{width:"830",top:"calc(100% - 730px)",visible:i.codePreviewVisible,cancelBtn:null,confirmBtn:"\u5173\u95ED"},on:{"update:visible":function(u){i.codePreviewVisible=u}}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("t-tabs",{model:{value:i.previewType,callback:function(u){i.previewType=u},expression:"previewType"}},i._l(i.previewTabs,function(u,d){return o("t-tab-panel",{key:d,attrs:{value:u.label,label:u.label}})}),1)],1),o("codemirror",{attrs:{slot:"body",value:i.code,options:i.cmOptions},slot:"body"})],1),o("t-drawer",{attrs:{header:"\u6D4B\u8BD5\u7528\u4F8B\u8BBE\u8BA1",visible:i.unitTestVisible,size:"85%"},on:{"update:visible":function(u){i.unitTestVisible=u},confirm:i.onUnitTestEditConfirm,cancel:i.onUnitTestEditCancel}},[o("unit-test-design",{ref:"unit-test",attrs:{map:i.map,apiInfo:i.apiInfo,visible:i.unitTestVisible}})],1)],1)])},Hm=[];const zm={plugin:"\u63D2\u4EF6",TS:"\u63A5\u53E3\u5B9A\u4E49"},Um=[{label:"Types"},{label:"Props",include:["Vue(PC)","Vue(Mobile)","Miniprogram"]},{label:"Docs"}],Gm={name:"APIDesign",components:{codemirror:Ru.exports.codemirror,ApiList:ph,ApiOperation:wh,Import:pm,TSelect:Mo,TOption:Lo,TInput:Fu,TPagination:Ud,TDialog:Gd,UnitTestDesign:Bm},props:{preview:Boolean},data(){return{TYPE_MAP:zm,loading:!1,dataBase:null,createApiVisible:!1,unitTestVisible:!1,list:[],map:{},platformOptions:[],query:{platform:"",component:"",fieldName:"",fieldCategory:""},apiInfo:null,mode:"create",total:0,page:1,pageSize:20,codePreviewVisible:!1,codeData:{framework:"",data:{}},code:"",cmOptions:{tabSize:4,mode:"text/javascript",theme:"base16-dark",lineNumbers:!0,line:!0,viewportMargin:20},previewType:"Types"}},computed:{previewTabs(){return Um.filter(i=>i.include?i.include.includes(this.codeData.framework):!0)}},created(){this.getMap(),this.getApiList()},methods:{onPageChange(i){this.page=i.current,this.pageSize=i.pageSize,this.getApiList()},onEnter(){this.search()},onComponentChange(){this.search()},onPlatformChange(){this.search()},search(){this.page=1,this.getApiList()},getMap(){vr({method:"get",url:"/cmp/map"}).then(i=>{const s=i.data.data;this.platformOptions=s.platform_framework,this.map=s})},getApiList(){const i=Object.assign({},this.query),s={platform_framework:i.platform,component:i.component,field_category:i.fieldCategory,field_name:i.fieldName,page:this.page,page_size:this.pageSize};this.loading=!0,vr({method:"get",url:"/cmp/api",params:s}).then(o=>{this.list=o.data.data,this.total=o.data.total,this.loading=!1},()=>{this.loading=!1})},onDeleteSuccess(){this.getApiList()},showDialog(){this.createApiVisible=!0},onEditClick(i){this.apiInfo=i.row,this.mode="edit",this.showDialog()},onTestEditClick(i){this.apiInfo=i.row,this.unitTestVisible=!0},onUnitTestEditCancel(){this.apiInfo=null},onCreateDialogShow(){this.apiInfo=null,this.mode="create",this.showDialog()},onApiConfirm(){const i=this.$refs["api-form"].formData;if(i.version)try{JSON.parse(i.version)}catch{this.$message.error("\u7248\u672C\u53F7\u683C\u5F0F\u5FC5\u987B\u4E3A\u5408\u6CD5 JSON");return}const s={id:this.apiInfo?this.apiInfo.id:void 0,platform_framework:i.platform,component:i.component,field_category:i.apiCategory,field_name:i.name,field_type:i.fieldType,custom_field_type:i.customFieldType,field_default_value:i.defaultValue,field_enum:i.fieldEnums,field_desc_zh:i.descZh,field_desc_en:i.descEn,test_description:i.testDescription,version:i.version,support_default_value:Number(i.supportDefaultValue),field_required:i.required,deprecated:Number(i.deprecated),html_attribute:i.htmlAttribute,event_input:i.eventInput,event_output:i.eventOutput,syntactic_sugar:i.syntacticSugar,trigger_elements:i.triggerElements};vr({method:this.mode==="create"?"post":"put",url:"/cmp/api",data:s}).then(()=>{this.getApiList(),this.createApiVisible=!1})},onUnitTestEditConfirm(){const i=this.$refs["unit-test"].testDescription;try{i&&JSON.parse(i)}catch{this.$message.error("\u6D4B\u8BD5\u7528\u4F8B\u4E0D\u662F\u5408\u6CD5 JSON");return}vr({method:"put",url:"/cmp/api",data:{id:this.apiInfo?this.apiInfo.id:void 0,test_description:i}}).then(()=>{this.getApiList(),this.unitTestVisible=!1})},onCodePreview(i,s){this.codeData={data:i,framework:s},this.codePreviewVisible=!0,this.code=JSON.stringify(i,void 0,2)}}},Au={};var Vm=er(Gm,Wm,Hm,!1,qm,null,null,null);function qm(i){for(let s in Au)this[s]=Au[s]}var Zm=function(){return Vm.exports}();export{Zm as default};
